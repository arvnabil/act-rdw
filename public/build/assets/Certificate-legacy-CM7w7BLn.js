System.register(["./react-core-legacy-MaQOtt75.js","./Layout-legacy-DHPmkRA0.js","./EmptyState-legacy-C6bZg948.js","./Toast-legacy-CtOORL7G.js","./vendor-legacy-DG0v0S8r.js","./MainLayout-legacy-mB_lFPf-.js","./ui-jquery-legacy-BGbLhyly.js","./ui-swiper-legacy-CKGAcGy_.js","./animations-legacy-BWgBFhLZ.js","./whatsapp-legacy-TvHSf1_t.js","./SimpleBreadcrumb-legacy-De3FR5I-.js"],function(e,s){"use strict";var a,l,t,i,n,d,c,r;return{setters:[e=>{a=e.r,l=e.j,t=e.H,i=e.f},e=>{n=e.default},e=>{d=e.E},e=>{c=e.T},e=>{r=e.m},null,null,null,null,null,null],execute:function(){e("default",function({auth:e,certificates:s}){const[o,m]=a.useState(null),[x,u]=a.useState(null);return l.jsxs(n,{pageTitle:"My Certificates",children:[l.jsx(t,{title:"My Certificates"}),l.jsx(c,{show:!!o,message:o?.message,type:o?.type,onClose:()=>m(null)}),l.jsx("div",{className:"d-flex flex-column gap-3",children:s.length>0?s.map(e=>l.jsxs("div",{className:"card border shadow-sm rounded-20 overflow-hidden hover-lift transition-all position-relative",children:[l.jsx("div",{className:"position-absolute top-0 end-0 m-3 z-1",children:"Claimed"===e.status?l.jsxs("div",{className:"d-flex align-items-center text-success fw-bold small bg-white px-3 py-1 rounded-pill shadow-sm border border-success-subtle",children:[l.jsx("i",{className:"fa-solid fa-circle-check me-2"}),"VERIFIED & CLAIMED"]}):l.jsxs("div",{className:"d-flex align-items-center text-warning fw-bold small bg-white px-3 py-1 rounded-pill shadow-sm border border-warning-subtle",children:[l.jsx("i",{className:"fa-solid fa-circle-exclamation me-2"}),"ACTION REQUIRED"]})}),l.jsx("div",{className:"card-body p-0",children:l.jsxs("div",{className:"d-lg-flex align-items-center p-3",children:[l.jsx("div",{className:"pe-lg-3 mb-3 mb-lg-0",children:l.jsx("div",{className:"rounded-4 overflow-hidden position-relative bg-light",style:{width:"120px"},children:l.jsx("img",{src:e.event_thumbnail,alt:e.event_title,className:"w-100 h-100 object-fit-cover",style:{aspectRatio:"4/3"},onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("d-flex","align-items-center","justify-content-center"),e.target.parentElement.innerHTML='<i class="fa-solid fa-award text-muted fs-3"></i>'}})})}),l.jsx("div",{className:"grow pe-lg-4 mb-3 mb-lg-0",children:l.jsxs("div",{className:"d-flex flex-column justify-content-center h-100",children:[l.jsxs("div",{className:"mb-1 text-muted small",children:[l.jsx("i",{className:"fa-regular fa-calendar me-2"}),e.event_date]}),l.jsx("h6",{className:"fw-bold text-dark mb-1 text-truncate-2",style:{lineHeight:"1.4",maxWidth:"90%"},children:e.event_title}),l.jsx("p",{className:"text-muted small mb-0 mt-1",children:"Claimed"===e.status?`Issued: ${e.issue_date}`:"Certificate ready to claim"})]})}),l.jsx("div",{className:"ps-lg-3 border-start-lg",style:{minWidth:"220px"},children:l.jsxs("div",{className:"d-flex flex-column gap-2 justify-content-end h-100 align-items-lg-end text-lg-end pt-5 pb-2",children:[l.jsx("div",{className:"w-100",children:"Claimed"===e.status?l.jsxs("a",{href:e.file_path,target:"_blank",download:!0,className:"th-btn w-100 rounded-pill fw-bold border-2 d-flex align-items-center justify-content-center",style:{padding:"8px 20px"},children:[l.jsx("i",{className:"fa-solid fa-download me-2"}),"Download PDF"]}):l.jsx("button",{onClick:()=>{return s=e.event_id,u(s),void i.post(r("events.certificates.claim",s),{},{preserveScroll:!0,onFinish:()=>u(null),onSuccess:()=>{m({message:"Certificate Claimed successfully!",type:"success"})},onError:e=>{const s=Object.values(e)[0]||"Failed to claim certificate.";m({message:s,type:"danger"})}});var s},disabled:x===e.event_id,className:"th-btn w-100 rounded-pill shadow-sm d-flex align-items-center justify-content-center",style:{padding:"10px 20px"},children:x===e.event_id?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fa-solid fa-award ms-2"}),"Claim Certificate"]})})}),"Claimed"!==e.status&&l.jsx("div",{className:"text-lg-end w-100",children:l.jsx("span",{className:"text-muted small fst-italic",style:{fontSize:"11px"},children:"Available for download after claiming"})})]})})]})})]},e.id)):l.jsx("div",{className:"col-12",children:l.jsx("div",{className:"card border-0 shadow-sm rounded-20 p-5 text-center",children:l.jsx(d,{message:"You haven't earned any certificates yet.",icon:"fa-award",link:"/events",linkText:"Browse Events"})})})})]})})}}});
