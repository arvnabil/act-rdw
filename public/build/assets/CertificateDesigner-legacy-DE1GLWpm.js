System.register(["./vendor-legacy-eYkSftPT.js","./Toast-legacy-C8BMLmv1.js"],function(e,t){"use strict";var s,a,n,r,l;return{setters:[e=>{s=e.d,a=e.j,n=e.H,r=e.e},e=>{l=e.T}],execute:function(){function t({element:e,isSelected:t,onMouseDown:n,onDrag:r,onResize:l,onDragStop:i,onDelete:o,previewData:d={}}){const c=s.useRef(null),[x,m]=s.useState(!1),[h,p]=s.useState(!1),[u,b]=s.useState({x:0,y:0}),[f,g]=s.useState(null);return s.useEffect(()=>{const t=t=>{if(x){const e=t.clientX-u.x,s=t.clientY-u.y;r&&r(e,s),b({x:t.clientX,y:t.clientY})}if(h&&f){const s=t.clientX-u.x,a=t.clientY-u.y;l&&l(e.id,s,a,f),b({x:t.clientX,y:t.clientY})}},s=()=>{(x||h)&&(m(!1),p(!1),g(null),i&&i())};return(x||h)&&(window.addEventListener("mousemove",t),window.addEventListener("mouseup",s)),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",s)}},[x,h,u,f,r,l,i,e.id]),a.jsxs("div",{ref:c,className:"position-absolute group "+(t?"ring-2 ring-purple-500 ring-offset-2 z-50":"hover:ring-1 hover:ring-purple-300 z-10"),style:{left:`${e.x}%`,top:`${e.y}%`,width:e.width?"number"==typeof e.width?`${e.width}px`:e.width:"auto",height:e.height?"number"==typeof e.height?`${e.height}px`:e.height:"auto",minWidth:"image"===e.type?"50px":"auto",minHeight:"image"===e.type?"50px":"auto",touchAction:"none",cursor:x?"grabbing":"grab",transform:"translate(-50%, -50%)"},onMouseDown:e=>{h||(e.stopPropagation(),n&&n(e),m(!0),b({x:e.clientX,y:e.clientY}))},children:[(()=>{const t={width:"100%",height:"100%",display:"block",pointerEvents:"none"};switch(e.type){case"image":return a.jsx("img",{src:e.src||e.url,alt:"Element",style:{...t,objectFit:"contain"},draggable:!1});case"qrcode":return a.jsx("div",{style:{...t,backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ccc"},children:a.jsx("i",{className:"fas fa-qrcode text-4xl text-gray-400"})});case"text":case"variable":return a.jsx("div",{style:{...t,fontFamily:e.fontFamily,fontSize:`${e.fontSize}px`,fontWeight:e.fontWeight,color:e.color,textAlign:e.textAlign,lineHeight:1.2,whiteSpace:"pre-wrap"},children:"variable"===e.type?d[e.text]||`{${e.text}}`:e.text});case"shape":return a.jsx("div",{style:{...t,backgroundColor:e.color,borderRadius:"circle"===e.shapeType?"50%":"0"}});default:return null}})(),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute -top-3 -right-3 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-md hover:bg-red-600 hover:scale-110 transition-all z-50 cursor-pointer",onMouseDown:e=>{e.stopPropagation()},onClick:t=>{t.stopPropagation(),o&&o(e.id)},title:"Delete Element",children:a.jsx("i",{className:"fas fa-times text-xs"})}),["nw","ne","sw","se"].map(e=>a.jsx("div",{className:`absolute w-3 h-3 bg-white border-2 border-purple-500 rounded-full z-40\n                                ${"nw"===e?"-top-1.5 -left-1.5 cursor-nw-resize":""}\n                                ${"ne"===e?"-top-1.5 -right-1.5 cursor-ne-resize":""}\n                                ${"sw"===e?"-bottom-1.5 -left-1.5 cursor-sw-resize":""}\n                                ${"se"===e?"-bottom-1.5 -right-1.5 cursor-se-resize":""}\n                            `,onMouseDown:t=>((e,t)=>{e.stopPropagation(),p(!0),g(t),b({x:e.clientX,y:e.clientY})})(t,e)},e))]})]})}function i({type:e,zoom:t,offset:n=0,theme:r,onDragStart:l}){const i=s.useRef(null),o={bg:r?.bg||"#f1f5f9",borderColor:r?.borderColor||"#cbd5e1",tickColor:r?.tickColor||"#94a3b8",textColor:r?.textColor||"#64748b"};return s.useEffect(()=>{const s=i.current;if(!s)return;const a=s.getContext("2d"),r=window.devicePixelRatio||1,l=s.offsetWidth,d=s.offsetHeight;if(s.width=l*r,s.height=d*r,a.scale(r,r),a.fillStyle=o.bg,a.fillRect(0,0,l,d),a.strokeStyle=o.borderColor,a.lineWidth=1,a.fillStyle=o.textColor,a.font="10px sans-serif",a.strokeStyle=o.tickColor,"horizontal"===e){a.textAlign="left",a.textBaseline="top",a.beginPath(),a.moveTo(0,d),a.lineTo(l,d),a.stroke();const e=50*t,s=-n%e;for(let r=s;r<l;r+=10*t){const l=Math.round((r-s+n%e+n)/(10*t))%5==0;if(a.beginPath(),a.moveTo(r,d),a.lineTo(r,d-(l?12:6)),a.stroke(),l){const e=Math.round((r+n)/t);e>=0&&a.fillText(e.toString(),r+2,2)}}}else{a.textAlign="center",a.textBaseline="middle",a.beginPath(),a.moveTo(l,0),a.lineTo(l,d),a.stroke();for(let e=-n%(50*t);e<d;e+=10*t){const s=(e+n)/t,r=Math.abs(s%50)<1;if(a.beginPath(),a.moveTo(l,e),a.lineTo(l-(r?12:6),e),a.stroke(),r){const t=Math.round(s);a.save(),a.translate(l-14,e),a.rotate(-Math.PI/2),a.fillText(t.toString(),0,0),a.restore()}}}},[t,n,e,o]),a.jsx("canvas",{ref:i,className:`ruler ${e}`,style:{height:"horizontal"===e?"24px":"100%",width:"vertical"===e?"24px":"100%",display:"block",cursor:"horizontal"===e?"row-resize":"col-resize"},onMouseDown:t=>l&&l("horizontal"===e?"y":"x",t)})}function o({show:e,onClose:t,files:n=[],onSelect:r,onUpload:l,onDelete:i,onRename:o}){const[d,c]=s.useState(!1),x=s.useRef(null);if(!e)return null;const m=()=>{x.current&&x.current.click()};return a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:t,children:a.jsxs("div",{className:"bg-white w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-fade-in-up relative font-sans",onClick:e=>e.stopPropagation(),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),c(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||c(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&l&&Array.from(e.dataTransfer.files).forEach(e=>l(e))},children:[d&&a.jsxs("div",{className:"absolute inset-0 z-50 bg-purple-50/95 flex flex-col items-center justify-center border-4 border-dashed border-purple-400 m-4 rounded-xl transition-all",children:[a.jsx("i",{className:"fas fa-cloud-upload-alt text-6xl text-purple-600 mb-4 animate-bounce"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Drop files to upload"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Release to upload instantly"})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-white",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Media Library"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," items â€¢ Drag & Drop supported"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>{e.target.files&&l&&Array.from(e.target.files).forEach(e=>l(e)),e.target.value=null}}),a.jsxs("button",{onClick:m,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full flex items-center gap-2 transition-all shadow-md hover:shadow-lg font-medium text-sm transform active:scale-95",children:[a.jsx("i",{className:"fas fa-cloud-upload-alt"}),"Upload Media"]}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:a.jsx("i",{className:"fas fa-times text-xl"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:0===n.length?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center border border-dashed border-gray-300 rounded-xl bg-white m-4",children:[a.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mb-6",children:a.jsx("i",{className:"fas fa-images text-4xl text-purple-400"})}),a.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No media files"}),a.jsx("p",{className:"text-gray-500 mb-6 max-w-sm text-center",children:"Upload images to use them. Drag and drop works too!"}),a.jsx("button",{onClick:m,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full font-medium transition-all shadow-md hover:shadow-lg transform active:scale-95",children:"Select Files"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:n.map((e,t)=>a.jsxs("div",{className:"group relative aspect-square bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-purple-300 transition-all overflow-hidden cursor-pointer",onClick:()=>!e.uploading&&r([e]),children:[a.jsx("div",{className:"w-full h-full p-2 flex items-center justify-center bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0wIDBMODCA4Wk04IDBMMCA4WiIgc3Ryb2tlPSIjZjNmNGY2IiBzdHJva2Utd2lkdGg9IjEiLz4KPC9zdmc+')]",children:a.jsx("img",{src:e.url,alt:e.name,className:"max-w-full max-h-full object-contain "+(e.uploading?"opacity-50 blur-sm":"")})}),e.uploading&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 z-10 p-2",children:[a.jsx("div",{className:"w-full max-w-[80%] bg-white/50 rounded-full h-1.5 mb-1 overflow-hidden",children:a.jsx("div",{className:"bg-purple-500 h-full transition-all duration-200 ease-out",style:{width:`${e.progress||0}%`}})}),a.jsxs("span",{className:"text-white text-[9px] font-bold drop-shadow",children:[Math.round(e.progress||0),"%"]})]}),!e.uploading&&a.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex items-end justify-between",children:[a.jsx("span",{className:"text-white text-[11px] truncate max-w-[70%] font-medium",children:e.name}),a.jsx("button",{onClick:t=>{t.stopPropagation(),confirm("Delete this file?")&&i(e.path)},className:"text-white/80 hover:text-red-400 transition-colors",title:"Delete",children:a.jsx("i",{className:"fas fa-trash-alt text-xs"})})]})]},e.id||t))})})]})})}e("default",function({certificate:e,event:d}){const c=e.content_layout||{},x=Array.isArray(c),[m,h]=s.useState(x?c:c.elements||[]),[p,u]=s.useState(!x&&c.canvas?c.canvas:{width:1056,height:816}),[b,f]=s.useState(!x&&c.background?c.background:{x:0,y:0,scale:1}),[g,y]=s.useState(e.certificate_background),[w,v]=s.useState(!1),j=s.useRef(m);j.current=m;const[N,k]=s.useState(new Set),[C,S]=s.useState(!1),[$,z]=s.useState(1),[M,D]=s.useState(!1),[P,I]=s.useState({x:null,y:null}),[E,T]=s.useState(!0),[A,L]=s.useState(!0),[R,B]=s.useState([]),[W,F]=s.useState(!1),Y=()=>{fetch(route("events.certificates.get-media",e.id)).then(e=>e.json()).then(e=>B(e)).catch(e=>console.error("Failed to load media",e))};s.useEffect(()=>{Y()},[]);const G=s.useRef(null),H=s.useRef(null),[O,X]=s.useState([e.content_layout||[]]),[U,_]=s.useState([]),q=()=>{if(O.length>1){const e=O[O.length-1],t=O[O.length-2];_(t=>[e,...t]),X(e=>e.slice(0,-1)),h(t)}},Z=(e,t=!0)=>{h(e),t&&(e=>{X(t=>{const s=t[t.length-1];return JSON.stringify(s)===JSON.stringify(e)?t:[...t,e]}),_([])})(e)},V=s.useMemo(()=>0===N.size?null:[...N][N.size-1],[N]),J=m.find(e=>e.id===V),[K,Q]=s.useState([]),[ee,te]=s.useState(null),[se,ae]=s.useState({enabled:!1,columns:12,margin:40,gutter:20,color:"#FF0000",opacity:.1}),[ne,re]=s.useState(!1),[le,ie]=s.useState(null);s.useEffect(()=>{document.createElement("link")},[]);const oe=s.useMemo(()=>({participant_name:"John Doe",event_title:d.title||"Event Title",date:(new Date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),certificate_code:"CERT-SAMPLE-123"}),[d.title]);s.useEffect(()=>{const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Bebas+Neue&family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&family=Great+Vibes&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;600&family=Open+Sans:wght@400;600&family=Pinyon+Script&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap",e.rel="stylesheet",document.head.appendChild(e);const t=()=>I({x:null,y:null});window.addEventListener("mouseup",t);const s=e=>{te(t=>{if(!t)return null;if(!G.current)return t;const s=G.current.getBoundingClientRect();let a=0;return a="horizontal"===t.type?(e.clientY-s.top)/$:(e.clientX-s.left)/$,{...t,currentPos:a}})},a=e=>{te(e=>{if(!e)return null;const t=e.currentPos<-20;return Q(s=>{const a=[...s];return void 0!==e.index&&-1!==e.index?(t?a.splice(e.index,1):a[e.index]={...a[e.index],pos:e.currentPos},a):t?s:[...s,{type:"horizontal"===e.type?"y":"x",pos:e.currentPos}]}),null})};return window.addEventListener("mousemove",s),window.addEventListener("mouseup",a),()=>{document.head.removeChild(e),window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)}},[$]);const de=(e,t,s=-1)=>{if(t.preventDefault(),t.stopPropagation(),!G.current)return;const a=G.current.getBoundingClientRect();let n=e;"y"===e&&(n="horizontal"),"x"===e&&(n="vertical");let r=0;r="horizontal"===n?(t.clientY-a.top)/$:(t.clientX-a.left)/$,te({type:n,currentPos:r,index:s})},ce=(e,t)=>{de(e,t,-1)},xe=e=>{const t=(Array.isArray(e)?e:[e]).map(e=>{const t=e.type,s={id:Date.now()+Math.random(),type:t,x:50+20*Math.random(),y:50+20*Math.random(),...e};return"text"===t||"variable"===t?(s.text=e.text||"New Text",s.fontSize=28,s.color="#1e293b",s.fontWeight="normal",s.fontFamily="'Montserrat', sans-serif",s.textAlign="center"):"qrcode"===t?s.width=100:"shape"===t?(s.width=150,s.height=100,s.color="#0f172a",s.shapeType=e.shapeType||"rectangle"):"line"===t?(s.width=300,s.height=3,s.color="#000000"):"signature"!==t&&"image"!==t||(s.width=200,s.src=e.src||""),s});Z([...m,...t]),k(new Set(t.map(e=>e.id)))},me=(e,t={})=>{xe([{type:e,...t}])};s.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"z"===e.key&&(e.preventDefault(),q())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[q]);const he=e=>{const t=m.map(t=>N.has(t.id)?{...t,...e}:t);Z(t)},pe=e=>{const t=m.filter(t=>t.id!==e);Z(t);const s=new Set(N);s.delete(e),k(s)},ue=(e,t)=>{if(!G.current||!H.current)return;const s=G.current.getBoundingClientRect(),a=100/s.width,n=100/s.height,r=e*a,l=t*n;h(e=>e.map(e=>N.has(e.id)?{...e,x:Math.max(0,Math.min(100,e.x+r)),y:Math.max(0,Math.min(100,e.y+l))}:e))},be=(e,t,s,a)=>{if(!G.current)return;const n=G.current.getBoundingClientRect(),r=100/n.width,l=100/n.height;h(n=>n.map(n=>{if(n.id!==e)return n;const i=t/$,o=s/$;let d=n.width||100,c=n.height||100,x=n.x,m=n.y;const h=t/$*r,p=s/$*l;return a.includes("e")&&(d+=i),a.includes("w")&&(d-=i,x+=h),a.includes("s")&&(c+=o),a.includes("n")&&(c-=o,m+=p),{...n,x:x,y:m,width:Math.max(10,d),height:Math.max(10,c)}}))},fe=A?{bgApp:"bg-[#0f172a]",bgPanel:"bg-[#1e293b]",bgInput:"bg-[#1e293b]",border:"border-slate-700",textMain:"text-[#e1e4e5]",textMuted:"text-slate-400",glassHdr:"glass-panel-dark",glassSide:"glass-panel-dark",highlight:"text-info",grid:"grid-bg-dark"}:{bgApp:"bg-slate-50",bgPanel:"bg-white",bgInput:"bg-white",border:"border-slate-200",textMain:"text-slate-700",textMuted:"text-slate-500",glassHdr:"glass-panel-light",glassSide:"glass-panel-light",highlight:"text-success",grid:"grid-bg-light"};return a.jsxs("div",{className:`d-flex flex-column vh-100 ${fe.bgApp} ${fe.textMain} transition-colors duration-300`,style:{fontFamily:"'Inter', sans-serif"},children:[a.jsx(n,{title:`Designer - ${d.title}`}),a.jsx("style",{children:`\n                /* Transition for smooth theme switch */\n                .transition-colors { transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; }\n\n                ::-webkit-scrollbar { width: 6px; height: 6px; }\n                ::-webkit-scrollbar-track { background: transparent; }\n                ::-webkit-scrollbar-thumb { background: ${A?"#334155":"#cbd5e1"}; border-radius: 3px; }\n\n                .glass-panel-dark {\n                    background: rgba(30, 41, 59, 0.95); /* More opaque for professional look */\n                    backdrop-filter: blur(12px);\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                }\n                .glass-panel-light {\n                    background: rgba(255, 255, 255, 0.95);\n                    backdrop-filter: blur(12px);\n                    border: 1px solid rgba(0, 0, 0, 0.05);\n                }\n\n                .grid-bg-dark {\n                    background-image: radial-gradient(rgba(51, 65, 85, 0.4) 1px, transparent 1px);\n                    background-size: 24px 24px;\n                }\n                .grid-bg-light {\n                    background-image: radial-gradient(rgba(148, 163, 184, 0.4) 1px, transparent 1px);\n                    background-size: 24px 24px;\n                }\n\n                .btn-tech {\n                    background: linear-gradient(135deg, ${A?"#06b6d4":"#3b82f6"} 0%, ${A?"#3b82f6":"#2563eb"} 100%);\n                    color: white; border: none;\n                    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);\n                    transition: all 0.2s;\n                }\n                .btn-tech:hover { transform: translateY(-1px); box-shadow: 0 8px 10px -2px rgba(59, 130, 246, 0.4); }\n\n                /* Sidebar Buttons */\n                .sidebar-btn {\n                    transition: all 0.2s;\n                    border: 1px solid #dee2e6;\n                    color: ${A?"#e1e4e5":"#334155"};\n                    background: ${A?"rgba(255, 255, 255, 0.05)":"transparent"};\n                }\n                .sidebar-btn:hover {\n                    background: ${A?"rgba(255, 255, 255, 0.1)":"#f1f5f9"}; /* Theme color hover */\n                    border-color: ${fe.border};\n                    transform: translateX(2px);\n                }\n\n                /* Upload Button */\n                .btn-upload {\n                    background: white; color: #333; border: 1px solid #ddd; transition: all 0.3s;\n                }\n                .btn-upload:hover {\n                    background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);\n                    color: white; border-color: transparent;\n                }\n\n                /* Inputs - "Proper" Style */\n                .form-control-proper {\n                    border-radius: 4px; /* Less rounded */\n                    border: 1px solid ${A?"#475569":"#cbd5e1"};\n                    background-color: ${A?"#0f172a":"#fff"}; /* Input distinct bg */\n                    color: ${A?"#fff":"#333"};\n                    padding: 0.375rem 0.75rem;\n                    margin-bottom: 1rem;\n                    font-size: 0.875rem;\n                }\n                .form-control-proper:focus {\n                    border-color: #06b6d4;\n                    color: ${A?"#333":"#000"};\n                    box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.2);\n                    outline: none;\n                }\n                .form-control-proper:hover {\n                    color: ${A?"#333":"#000"};\n                }\n\n                .form-select-proper {\n                    margin-bottom: 1rem;\n                    border-radius: 4px;\n                    border: 1px solid ${A?"#475569":"#cbd5e1"};\n                    background-color: ${A?"#0f172a":"#fff"};\n                    color: ${A?"#fff":"#333"};\n                    padding: 0.375rem 2rem 0.375rem 0.75rem;\n                    font-size: 0.875rem;\n                }\n            `}),a.jsxs("header",{className:`px-4 py-3 d-flex justify-content-between align-items-center shadow-sm position-relative ${fe.glassHdr} border-bottom ${fe.border}`,style:{zIndex:100},children:[a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center "+(A?"bg-slate-800 text-white":"bg-slate-100 text-dark"),onClick:()=>window.close(),style:{width:36,height:36},children:a.jsx("i",{className:"fas fa-chevron-left"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"fw-bold ls-1 "+(A?"text-white":"text-dark"),style:{fontSize:"1.1rem"},children:["CERTIFICATE"," ",a.jsx("span",{className:fe.highlight,children:"STUDIO"})]}),a.jsx("div",{className:`text-xs ${A?"text-white":"text-dark"} fw-medium`,children:d.title})]})]}),a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("button",{className:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center border-0 "+(A?"bg-slate-800 text-warning":"bg-slate-200 text-slate-600"),onClick:()=>L(!A),style:{width:32,height:32},children:a.jsx("i",{className:"fas "+(A?"fa-sun":"fa-moon")})}),a.jsxs("div",{className:`d-flex align-items-center rounded-pill p-1 border ${fe.border} ${fe.bgInput}`,children:[a.jsx("button",{className:`btn btn-sm ${A?"text-white":"text-slate-600"} hover-text-primary`,onClick:()=>z(e=>Math.max(.4,e-.1)),children:a.jsx("i",{className:"fas fa-minus"})}),a.jsxs("span",{className:"small px-2 fw-medium "+(A?"text-white":"text-slate-800"),style:{minWidth:40,textAlign:"center"},children:[Math.round(100*$),"%"]}),a.jsx("button",{className:`btn btn-sm ${A?"text-white":"text-slate-600"} hover-text-primary`,onClick:()=>z(e=>Math.min(2.5,e+.1)),children:a.jsx("i",{className:"fas fa-plus"})})]}),a.jsx("div",{className:`h-50 border-end ${fe.border} mx-1`}),a.jsxs("div",{className:`d-flex align-items-center rounded-pill px-2 border ${fe.border} me-2 ${fe.bgInput}`,children:[a.jsx("button",{className:"btn btn-sm "+(A?"text-white":"text-slate-600"),onClick:()=>{const e=p.width,t=p.height;Q([{type:"x",pos:e/2},{type:"y",pos:t/2}])},title:"Add Center Guides (2x2)",children:a.jsx("i",{className:"fas fa-border-all"})}),a.jsx("button",{className:"btn btn-sm "+(A?"text-white":"text-slate-600"),onClick:()=>{const e=p.width,t=p.height;Q([{type:"x",pos:e/3},{type:"x",pos:e/3*2},{type:"y",pos:t/3},{type:"y",pos:t/3*2}])},title:"Add Thirds Guides (3x3)",children:a.jsx("i",{className:"fas fa-th"})}),a.jsx("button",{className:"btn btn-sm text-danger",onClick:()=>Q([]),title:"Clear All Guides",children:a.jsx("i",{className:"fas fa-trash-alt"})})]}),a.jsxs("div",{className:"position-relative me-2",children:[a.jsxs("button",{className:"btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 "+(se.enabled?"bg-primary text-white border-primary":A?"text-white border-slate-600 bg-slate-800":"text-slate-600 border-slate-300 bg-white"),onClick:()=>re(!ne),title:"Configure Layout Columns",children:[a.jsx("i",{className:"fas fa-columns"}),a.jsx("span",{className:"d-none d-md-inline small",children:"Columns"})]}),ne&&a.jsxs("div",{className:"position-absolute top-100 end-0 mt-2 p-3 rounded shadow-lg",onClick:e=>e.stopPropagation(),style:{width:"280px",zIndex:2e3,backgroundColor:A?"#1e293b":"#ffffff",borderColor:A?"#334155":"#e2e8f0",borderWidth:"1px",borderStyle:"solid"},children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("span",{className:"fw-bold text-sm "+(A?"text-white":"text-slate-800"),children:"Layout Grid"}),a.jsxs("div",{className:"form-check form-switch m-0 d-flex align-items-center",children:[a.jsx("input",{className:"form-check-input mt-0",type:"checkbox",checked:se.enabled,onChange:e=>ae(t=>({...t,enabled:e.target.checked})),id:"gridToggle",style:{cursor:"pointer",width:"2.5rem",height:"1.25rem",border:"2px solid rgba(255,255,255,0.2)",backgroundColor:se.enabled?"#ef4444":"#64748b",backgroundImage:"none"}}),a.jsx("label",{className:"form-check-label ms-2 cursor-pointer small text-muted",htmlFor:"gridToggle",children:se.enabled?"On":"Off"})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"text-xs fw-semibold d-block mb-1 "+(A?"text-slate-400":"text-slate-500"),children:"Columns (Count)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:se.columns,onChange:e=>{const t=parseInt(e.target.value);ae(e=>({...e,enabled:!0,columns:isNaN(t)?"":Math.max(1,Math.min(24,t))}))},min:"1",max:"24",style:{height:"32px",fontSize:"14px"}})]}),a.jsxs("div",{className:"row g-2 mb-3",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"text-xs fw-semibold d-block mb-1 "+(A?"text-slate-400":"text-slate-500"),children:"Margin (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:se.margin,onChange:e=>{const t=parseInt(e.target.value);ae(e=>({...e,enabled:!0,margin:isNaN(t)?"":Math.max(0,t)}))},style:{height:"32px",fontSize:"14px"}})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"text-xs fw-semibold d-block mb-1 "+(A?"text-slate-400":"text-slate-500"),children:"Gutter (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:se.gutter,onChange:e=>{const t=parseInt(e.target.value);ae(e=>({...e,enabled:!0,gutter:isNaN(t)?"":Math.max(0,t)}))},style:{height:"32px",fontSize:"14px"}})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsxs("div",{className:"d-flex justify-content-between font-sm mb-1",children:[a.jsx("label",{className:"text-xs fw-semibold "+(A?"text-slate-400":"text-slate-500"),children:"Opacity"}),a.jsxs("span",{className:"text-xs "+(A?"text-slate-400":"text-slate-500"),children:[Math.round(100*se.opacity),"%"]})]}),a.jsx("input",{type:"range",className:"form-range w-100",min:"0.05",max:"0.5",step:"0.05",value:se.opacity,onChange:e=>ae(t=>({...t,enabled:!0,opacity:parseFloat(e.target.value)})),style:{accentColor:"#ef4444"}})]})]})]}),a.jsx("div",{className:"h-100 mx-3 border-end border-secondary opacity-25"}),a.jsxs("div",{className:"d-flex align-items-center gap-2 me-2",children:[a.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center "+(A?"bg-slate-800 text-white":"bg-slate-200 text-dark"),onClick:q,disabled:O.length<=1,style:{width:32,height:32},title:"Undo (Ctrl+Z)",children:a.jsx("i",{className:"fas fa-undo"})}),a.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center "+(A?"bg-slate-800 text-white":"bg-slate-200 text-dark"),onClick:()=>{if(U.length>0){const e=U[0];X(t=>[...t,e]),_(e=>e.slice(1)),h(e)}},disabled:0===U.length,style:{width:32,height:32},title:"Redo (Ctrl+Y)",children:a.jsx("i",{className:"fas fa-redo"})})]}),a.jsx("button",{className:"btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 "+(E?"bg-slate-100 text-slate-700":"bg-slate-800 text-white"),onClick:()=>T(!E),title:E?"Collapse Sidebar":"Expand Sidebar",children:a.jsx("i",{className:"fas fa-"+(E?"chevron-right":"chevron-left"),style:{color:A?"#fff":"#000"}})}),a.jsxs("button",{className:"btn btn-tech rounded-pill px-4 fw-medium d-flex align-items-center gap-2",onClick:()=>{S(!0),r.post(route("events.certificates.update-design",e.id),{content_layout:{elements:m,canvas:p,background:b},image_files:R,certificate_background:g},{onFinish:()=>S(!1),preserveScroll:!0,onSuccess:()=>{ie({message:"Design saved successfully!",type:"success"})},onError:e=>{console.error("Save failed:",e);const t=Object.values(e)[0];ie({message:`Failed: ${t||"Check console"}`,type:"error"})}})},disabled:C,children:[C?a.jsx("i",{className:"fas fa-circle-notch fa-spin"}):a.jsx("i",{className:"fas fa-save"}),a.jsx("span",{children:"Save"})]})]})]}),a.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[a.jsxs("aside",{className:`d-flex flex-column ${fe.glassSide} border-end ${fe.border} overflow-auto`,style:{width:"280px"},children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:`text-xs fw-bold ${fe.highlight} text-uppercase ls-1 mb-3`,children:[a.jsx("i",{className:"fas fa-layer-group me-1"})," Elements"]}),a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>me("text"),children:[a.jsx("i",{className:"fas fa-heading fa-fw opacity-50"})," ",a.jsx("span",{children:"Headline / Text"})]}),a.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>me("line"),children:[a.jsx("i",{className:"fas fa-minus fa-fw opacity-50"})," ",a.jsx("span",{children:"Line Separator"})]}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("shape",{shapeType:"rectangle"}),children:a.jsx("i",{className:"far fa-square fa-lg"})}),a.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("shape",{shapeType:"circle"}),children:a.jsx("i",{className:"far fa-circle fa-lg"})}),a.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("qrcode"),children:a.jsx("i",{className:"fas fa-qrcode fa-lg"})})]})]})]}),a.jsxs("div",{className:`p-4 border-top ${fe.border}`,children:[a.jsxs("div",{className:`text-xs fw-bold ${fe.highlight} text-uppercase ls-1 mb-3`,children:[a.jsx("i",{className:"fas fa-file-alt me-1"})," Page Setup"]}),a.jsxs("div",{className:"d-flex gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-sm w-50 "+(p.width>p.height?"btn-tech":A?"btn-outline-secondary":"btn-outline-dark"),onClick:()=>u({width:1056,height:816}),children:a.jsxs("div",{className:"d-flex flex-column align-items-center",children:[a.jsxs("span",{children:[a.jsx("i",{className:"far fa-file-image me-1"})," ","Landscape"]}),a.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"1056 x 816 px"})]})}),a.jsx("button",{className:"btn btn-sm w-50 "+(p.width<p.height?"btn-tech":A?"btn-outline-secondary":"btn-outline-dark"),onClick:()=>u({width:816,height:1056}),children:a.jsxs("div",{className:"d-flex flex-column align-items-center",children:[a.jsxs("span",{children:[a.jsx("i",{className:"far fa-file me-1"})," ","Portrait"]}),a.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"816 x 1056 px"})]})})]}),a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[a.jsx("span",{className:"text-xs",children:"Background Edit"}),a.jsx("div",{className:"form-check form-switch",children:a.jsx("input",{className:"form-check-input",type:"checkbox",checked:w,onChange:()=>v(!w)})})]}),w&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{className:"text-xs text-muted mb-1",children:["Scale: ",Math.round(100*b.scale),"%"]}),a.jsx("input",{type:"range",className:"form-range",min:"0.5",max:"3",step:"0.1",value:b.scale,onChange:e=>f(t=>({...t,scale:parseFloat(e.target.value)}))})]})]}),a.jsxs("div",{className:`p-4 border-top ${fe.border}`,children:[a.jsxs("div",{className:`text-xs fw-bold ${fe.highlight} text-uppercase ls-1 mb-3`,children:[a.jsx("i",{className:"fas fa-code-branch me-1"})," ","Variables"]}),a.jsx("div",{className:"d-grid gap-2",children:["Participant Name","Event Title","Date","Certificate Code"].map((e,t)=>a.jsxs("button",{className:"sidebar-btn w-100 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>me("text",{text:`{{ ${e.toLowerCase().replace(" ","_")} }}`}),children:[a.jsx("div",{className:`d-flex align-items-center justify-content-center ${A?"bg-slate-700 text-slate-300":"bg-slate-200 text-dark"} me-3 rounded-1`,style:{minWidth:"40px",height:"22px",fontSize:"10px",fontWeight:"bold"},children:"VAR"}),a.jsx("span",{className:"fw-medium",children:e})]},e))})]}),a.jsx("div",{className:`p-4 border-top ${fe.border} flex-grow-1`,children:a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:a.jsxs("div",{className:`text-xs fw-bold ${fe.highlight} text-uppercase ls-1`,children:[a.jsx("i",{className:"fas fa-photo-film me-1"})," ","Media Files"]})}),a.jsxs("button",{className:"sidebar-btn w-100 mb-2 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>F(!0),children:[a.jsx("i",{className:"fas fa-images fa-lg me-2"}),a.jsx("span",{className:"fw-medium",children:"Manage Media Library"})]}),a.jsxs("div",{className:`text-xs text-center ${fe.textMuted} mb-3`,children:[R.length," files available"]})]})})]}),a.jsxs("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden position-relative",children:[a.jsxs("div",{className:"d-flex",style:{height:"24px",flexShrink:0,zIndex:50,background:A?"#1e293b":"#f1f5f9"},children:[a.jsx("div",{style:{width:"24px",flexShrink:0,borderRight:"1px solid "+(A?"#334155":"#cbd5e1"),borderBottom:"1px solid "+(A?"#334155":"#cbd5e1")}}),a.jsx("div",{className:"flex-grow-1 position-relative overflow-hidden",children:a.jsx(i,{type:"horizontal",zoom:$,offset:P.rulerX||0,theme:{bg:A?"#1e293b":"#f1f5f9",borderColor:A?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:A?"#94a3b8":"#64748b"},onDragStart:ce})})]}),a.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[a.jsx("div",{style:{width:"24px",flexShrink:0,zIndex:50,overflow:"hidden",background:A?"#1e293b":"#f1f5f9"},children:a.jsx(i,{type:"vertical",zoom:$,offset:P.rulerY||0,theme:{bg:A?"#1e293b":"#f1f5f9",borderColor:A?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:A?"#94a3b8":"#64748b"},onDragStart:ce})}),a.jsxs("main",{className:`flex-grow-1 position-relative d-flex align-items-center justify-content-center overflow-hidden ${fe.grid}`,id:"canvas-scroll-container",onClick:()=>k(new Set),style:{overflow:"auto"},children:[null!==P.x&&a.jsx("div",{className:"position-absolute h-100",style:{left:`${P.x}%`,width:"1px",background:A?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),null!==P.y&&a.jsx("div",{className:"position-absolute w-100",style:{top:`${P.y}%`,height:"1px",background:A?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),ee&&a.jsx("div",{className:"position-absolute",style:{zIndex:101,pointerEvents:"none",background:"#10b981",..."horizontal"===ee.type?{left:0,right:0,top:0,height:"1px",transform:`translateY(${P.rulerY+ee.currentPos*$}px)`}:{top:0,bottom:0,left:0,width:"1px",transform:`translateX(${P.rulerX+ee.currentPos*$}px)`}},children:a.jsx("span",{className:"position-absolute bg-success text-white px-1 text-xs",style:{top:2,left:2},children:Math.round(ee.currentPos)})}),a.jsx("div",{className:"overflow-auto w-100 h-100 d-flex align-items-center justify-content-center p-5",ref:H,onScroll:()=>{if(G.current&&H.current){const e=G.current.getBoundingClientRect(),t=H.current.getBoundingClientRect();I(s=>({...s,rulerX:e.left-t.left,rulerY:e.top-t.top}))}},children:a.jsxs("div",{ref:G,className:"position-relative bg-white shadow-sm transition-all duration-300",style:{width:`${p.width}px`,height:`${p.height}px`,minWidth:`${p.width}px`,minHeight:`${p.height}px`,transform:`scale(${$})`,transformOrigin:"center center",boxShadow:A?"0 0 50px rgba(0,0,0,0.5)":"0 0 30px rgba(0,0,0,0.1)",overflow:"hidden"},onDoubleClick:e=>{(e.target===G.current||e.target.classList?.contains("bg-layer"))&&(v(!w),ie({message:w?"Background Locked":"Background Edit Mode: Drag to move",type:"info"}))},children:[a.jsx("div",{className:"bg-layer position-absolute w-100 h-100 start-0 top-0 "+(w?"cursor-move":""),style:{zIndex:0,backgroundImage:g?`url("/storage/${g}")`:"none",backgroundSize:"cover",backgroundPosition:"center",transform:`translate(${b.x}px, ${b.y}px) scale(${b.scale})`,transformOrigin:"center center",opacity:1,pointerEvents:w?"auto":"none"},onMouseDown:e=>{if(!w)return;e.preventDefault(),e.stopPropagation();const t=e.clientX,s=e.clientY,a=b.x,n=b.y,r=e=>{const r=(e.clientX-t)/$,l=(e.clientY-s)/$;f(e=>({...e,x:a+r,y:n+l}))},l=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",l)}}),w&&a.jsx("div",{className:"position-absolute top-0 start-0 m-2 badge bg-warning text-dark z-index-10",children:"Background Edit Mode"}),se.enabled&&a.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:89,pointerEvents:"none",padding:`0 ${se.margin}px`,display:"flex",gap:(se.margin,"0px")},children:a.jsx("div",{className:"w-100 h-100 d-flex",style:{gap:`${se.gutter}px`,pointerEvents:"none"},children:[...Array(se.columns)].map((e,t)=>a.jsx("div",{className:"flex-grow-1 h-100",style:{backgroundColor:se.color,opacity:se.opacity,pointerEvents:"none"}},t))})}),K.map((e,t)=>a.jsx("div",{className:"position-absolute guide-line",onMouseDown:s=>de(e.type,s,t),style:{zIndex:90,pointerEvents:"auto",cursor:"y"===e.type?"row-resize":"col-resize",..."y"===e.type?{left:0,right:0,top:e.pos-2+"px",height:"5px",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",backgroundColor:"transparent"}:{top:0,bottom:0,left:e.pos-2+"px",width:"5px",borderLeft:"2px solid transparent",borderRight:"2px solid transparent",backgroundColor:"transparent"}},children:a.jsx("div",{style:{width:"y"===e.type?"100%":"1px",height:"y"===e.type?"1px":"100%",backgroundColor:"#06b6d4",position:"absolute",top:"y"===e.type?"2px":0,left:"y"===e.type?0:"2px",boxShadow:"0 0 2px rgba(255,255,255,0.5)"}})},t)),m.map(e=>a.jsx(t,{element:e,previewData:oe,isSelected:N.has(e.id),onMouseDown:t=>{if(t.shiftKey){const t=new Set(N);t.has(e.id)?t.delete(e.id):t.add(e.id),k(t)}else N.has(e.id)||k(new Set([e.id]))},onDrag:ue,onResize:be,onDragStop:()=>Z(j.current),onDelete:pe},e.id))]})})]})]})]}),a.jsx("aside",{className:`${fe.glassSide} border-start ${fe.border} d-flex flex-column shadow-lg z-20 transition-all duration-300 ease-in-out`,style:{width:E?"300px":"0px",overflow:"hidden",opacity:E?1:0},children:J&&N.size>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`p-4 ${fe.bgPanel} border-bottom ${fe.border} text-center`,style:{minWidth:"300px"},children:a.jsx("div",{className:`text-xs fw-bold ${fe.highlight} text-uppercase ls-1`,children:"Properties"})}),a.jsxs("div",{className:"p-4 flex-grow-1 overflow-auto",style:{minWidth:"300px"},children:[("text"===J.type||"variable"===J.type)&&a.jsxs("div",{className:"vstack gap-5",children:[" ",a.jsxs("div",{children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted} text-uppercase mb-2`,children:"Content"}),a.jsx("textarea",{className:"form-control-proper w-100",rows:"3",value:J.text,onChange:e=>he({text:e.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted} text-uppercase mb-2`,children:"Typography"}),a.jsxs("div",{className:"vstack gap-3",children:[a.jsx("select",{className:"form-select-proper w-100",value:J.fontFamily,onChange:e=>he({fontFamily:e.target.value}),children:[{label:"Cinzel",value:"'Cinzel', serif"},{label:"Montserrat",value:"'Montserrat', sans-serif"},{label:"Playfair Display",value:"'Playfair Display', serif"},{label:"Great Vibes",value:"'Great Vibes', cursive"},{label:"Lato",value:"'Lato', sans-serif"},{label:"Pinyon Script",value:"'Pinyon Script', cursive"},{label:"Cormorant Garamond",value:"'Cormorant Garamond', serif"},{label:"Open Sans",value:"'Open Sans', sans-serif"},{label:"Bebas Neue",value:"'Bebas Neue', display"},{label:"Alex Brush",value:"'Alex Brush', cursive"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))}),a.jsxs("div",{className:"row g-2 align-items-center",children:[a.jsx("div",{className:"col-8",children:a.jsx("div",{className:"input-group input-group-sm",children:a.jsx("input",{type:"number",className:"form-control-proper w-100",value:J.fontSize,onChange:e=>he({fontSize:parseInt(e.target.value)}),placeholder:"Size"})})}),a.jsx("div",{className:"col-4",children:a.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"31px",width:"100%",position:"relative",backgroundColor:J.color},children:a.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",opacity:0},value:J.color,onChange:e=>he({color:e.target.value})})})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted} text-uppercase mb-2`,children:"Style"}),a.jsxs("div",{className:"btn-group w-100 mb-3",children:[a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"bold"===J.fontWeight?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({fontWeight:"bold"===J.fontWeight?"normal":"bold"}),children:a.jsx("i",{className:"fas fa-bold"})}),a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"italic"===J.fontStyle?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({fontStyle:"italic"===J.fontStyle?"normal":"italic"}),children:a.jsx("i",{className:"fas fa-italic"})}),a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"underline"===J.textDecoration?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({textDecoration:"underline"===J.textDecoration?"none":"underline"}),children:a.jsx("i",{className:"fas fa-underline"})})]}),a.jsxs("div",{className:"btn-group w-100",children:[a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"left"===J.textAlign?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({textAlign:"left"}),children:a.jsx("i",{className:"fas fa-align-left"})}),a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"center"===J.textAlign?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({textAlign:"center"}),children:a.jsx("i",{className:"fas fa-align-center"})}),a.jsx("button",{className:`btn btn-sm btn-outline-secondary ${A?"text-white":""} ${"right"===J.textAlign?A?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>he({textAlign:"right"}),children:a.jsx("i",{className:"fas fa-align-right"})})]})]})]}),("line"===J.type||"shape"===J.type)&&a.jsxs("div",{className:"vstack gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted}`,children:"Width"}),a.jsx("input",{type:"number",className:"form-control-proper w-100",value:J.width,onChange:e=>he({width:parseInt(e.target.value)})})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted}`,children:"line"===J.type?"Thickness":"Height"}),a.jsx("input",{type:"number",className:"form-control-proper w-100",value:J.height,onChange:e=>he({height:parseInt(e.target.value)})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs fw-bold ${fe.textMuted} text-uppercase mb-1`,children:"Color"}),a.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"36px",width:"100%",position:"relative"},children:a.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",border:"none"},value:J.color,onChange:e=>he({color:e.target.value})})})]})]})]}),a.jsxs("div",{className:`p-4 border-top ${fe.border} mt-auto ${fe.bgPanel}`,children:[a.jsxs("button",{className:"btn btn-outline-secondary w-100 mb-2 rounded-2 "+(A?"text-white border-slate-600":""),onClick:()=>{const e=m.filter(e=>N.has(e.id)).map(e=>({...e,id:Date.now()+Math.random(),x:e.x+2,y:e.y+2}));Z([...m,...e]),k(new Set(e.map(e=>e.id)))},children:[a.jsx("i",{className:"far fa-clone me-2"})," ","Duplicate"]}),a.jsxs("button",{className:"btn btn-outline-danger w-100 rounded-2",onClick:()=>{h(m.filter(e=>!N.has(e.id))),k(new Set)},children:[a.jsx("i",{className:"far fa-trash-alt me-2"})," ","Delete"]})]})]}):a.jsxs("div",{className:`d-flex flex-column align-items-center justify-content-center h-100 ${fe.textMuted} p-4 text-center`,children:[a.jsx("i",{className:"fas fa-mouse-pointer fa-3x mb-3 opacity-25"}),a.jsx("div",{className:"text-sm",children:"Select an element to resize or edit"})]})})]}),a.jsx(l,{show:!!le,message:le?.message,type:"error"===le?.type?"danger":le?.type,onClose:()=>ie(null)}),a.jsx(o,{show:W,onClose:()=>F(!1),files:R,onUpload:e=>{if(!e)return;const t=Date.now(),s=URL.createObjectURL(e);B(a=>[...a,{id:t,name:e.name,path:s,url:s,size:e.size,type:e.type,uploading:!0,progress:0}]);let a=0;const n=setInterval(()=>{a+=10,B(e=>e.map(e=>e.id===t?{...e,progress:a}:e)),a>=100&&(clearInterval(n),B(e=>e.map(e=>e.id===t?{...e,uploading:!1}:e)),ie({message:"Image uploaded successfully",type:"success"}),setTimeout(()=>ie(null),3e3))},200)},onDelete:e=>{B(t=>t.filter(t=>t.path!==e))},onRename:(e,t)=>{console.log("Renaming implementation pending",e,t)},onSelect:e=>{Array.isArray(e)?xe(e.map(e=>({type:"image",src:e.url,name:e.name,path:e.path}))):xe([{type:"image",src:e.url,name:e.name,path:e.path}]),F(!1)},uploadUrl:route("events.certificates.upload-media",e.id),onUploadSuccess:()=>Y()})]})})}}});
