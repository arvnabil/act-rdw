import{r as i,j as e}from"./app-14E-hAli.js";import{S as j}from"./RepeaterEditor-jq5vpggt.js";import{s as N}from"./sectionRegistry-4lGrZrec.js";/* empty css            */import"./sortable.esm-cKuAtJ96.js";import"./NewsSection-DdqfFcwH.js";import"./NewsSection-D3_Y9V8H.js";import"./effect-fade-Cql-zif5.js";import"./SectionTitle-CfavXoH8.js";import"./ClientSection-DEl7BBjA.js";import"./VisionMissionSection-DLwoKTdM.js";import"./sweetalert2.esm.all-BQxta0Da.js";function P({section:t,onUpdate:l,isOpen:u,onToggle:n,onClose:g}){const[b,c]=i.useState(""),[x,o]=i.useState(null),[r,m]=i.useState(!0),f=t?N[t.section_key]:null,a=f?.schema;if(i.useEffect(()=>{t&&(c(JSON.stringify(t.config||{},null,2)),o(null))},[t?.id]),!u)return e.jsx("div",{className:"w-10 bg-white border-l border-gray-200 h-full flex flex-col shrink-0 z-20 shadow-sm items-center py-4",children:e.jsx("button",{onClick:n,className:"w-8 h-8 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Expand Inspector",children:e.jsx("i",{className:"fa-solid fa-sidebar-flip"})})});if(!t)return e.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 h-full flex flex-col shrink-0 z-20 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Properties"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx("i",{className:"fa-solid fa-angles-right"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4",children:e.jsx("i",{className:"fa-regular fa-hand-pointer text-2xl text-gray-300"})}),e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No Section Selected"}),e.jsx("p",{className:"text-xs mt-1",children:"Select a section in the canvas or sidebar to edit its properties."})]})]});const p=s=>{const h=s.target.value;c(h);try{const d=JSON.parse(h);o(null),l({...t,config:d})}catch(d){o(d.message)}},y=s=>{l({...t,config:s}),c(JSON.stringify(s,null,2))};return e.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 h-full overflow-y-auto shrink-0 flex flex-col z-20 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Properties"}),e.jsx("div",{className:"text-base font-bold text-gray-800 capitalize truncate w-40",title:t.section_key,children:f?.label||t.section_key?.replace(/_/g," ")})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:g,className:"w-7 h-7 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Deselect",children:e.jsx("i",{className:"fa-solid fa-times"})}),e.jsx("button",{onClick:n,className:"w-7 h-7 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Collapse",children:e.jsx("i",{className:"fa-solid fa-angles-right"})})]})]}),a&&e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded text-xs font-medium",children:[e.jsx("button",{onClick:()=>m(!0),className:`flex-1 py-1 rounded transition ${r?"bg-white shadow text-act-primary":"text-gray-500 hover:text-gray-700"}`,children:"Visual"}),e.jsx("button",{onClick:()=>m(!1),className:`flex-1 py-1 rounded transition ${r?"text-gray-500 hover:text-gray-700":"bg-white shadow text-act-primary"}`,children:"Code (JSON)"})]})]}),e.jsxs("div",{className:"p-4 flex-1",children:[r&&a?e.jsx(j,{schema:a,data:t.config||{},onChange:y}):e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Configuration (JSON)"}),x&&e.jsx("span",{className:"text-xs text-red-500",children:"Invalid JSON"})]}),e.jsx("textarea",{value:b,onChange:p,className:`w-full h-96 text-xs font-mono p-3 bg-gray-50 border rounded-lg focus:ring-2 focus:ring-act-primary focus:border-act-primary outline-none resize-none ${x?"border-red-300 bg-red-50":"border-gray-200"}`,spellCheck:"false"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Directly editing the configuration JSON."})]}),!a&&!r&&e.jsx("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-100 rounded text-xs text-blue-700",children:"No visual schema available for this section. Using JSON editor."}),e.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:t.is_active!==!1,onChange:s=>l({...t,is_active:s.target.checked}),className:"rounded border-gray-300 text-act-primary focus:ring-act-primary"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section Active"})]})})]})]})}export{P as default};
