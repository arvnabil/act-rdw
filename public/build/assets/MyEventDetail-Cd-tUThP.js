import{r as n,j as e,H as g,L as h,b as v}from"./app-8jlO-GOR.js";import{T as w}from"./Toast-BZmhIwvk.js";import y from"./Layout-CgKqYdgO.js";import{s as c}from"./index-BsxvijQw.js";import{D as k,a as C}from"./DashboardTable-C8LAz3Fv.js";import{Q as T}from"./index-CcuwDElW.js";/* empty css            */import"./MainLayout-B_NMIF89.js";import"./effect-fade-Cql-zif5.js";import"./SimpleBreadcrumb-Cmo_VdNj.js";function L({auth:u,event:s,registration:o,certificate:b,ticket:m}){const j=()=>{if(typeof window<"u"){const i=new URLSearchParams(window.location.search).get("tab");if(i&&["overview","ticket","rundown","speakers","documentation"].includes(i))return i}return"overview"},[t,l]=n.useState(j());n.useEffect(()=>{const a=new URL(window.location);a.searchParams.set("tab",t),window.history.replaceState({},"",a)},[t]);const d=["confirmed","Joined","Registered","Certified"].includes(o.status),[r,x]=n.useState(null),[p,f]=n.useState(!1),N=()=>{f(!0),v.post(c("events.certificates.claim",s.id),{},{onFinish:()=>f(!1),onSuccess:()=>{x({message:"Certificate claimed successfully!",type:"success"})},onError:a=>{console.error("Claim failed:",a);const i=Object.values(a)[0]||"Failed to claim certificate.";x({message:i,type:"error"})}})};return e.jsxs(y,{pageTitle:"My Event Details",children:[e.jsx(g,{title:s.title}),e.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:e.jsxs("div",{children:[e.jsxs(h,{href:c("events.my-events"),className:"text-muted text-decoration-none mb-2 d-inline-block small",children:[e.jsx("i",{className:"fa-solid fa-arrow-left me-1"})," Back to My Events"]}),e.jsx("h2",{className:"fw-bold fs-3 mb-1",children:s.title}),d?e.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2",children:[e.jsx("i",{className:"fa-solid fa-check-circle me-1"})," ","Access Granted"]}):e.jsxs("span",{className:"badge bg-warning bg-opacity-10 text-warning rounded-pill px-3 py-2",children:[e.jsx("i",{className:"fa-solid fa-clock me-1"})," ",o.status]})]})}),e.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:s.thumbnail?`/storage/${s.thumbnail}`:"/assets/img/event/event_thumb_1_1.jpg",alt:s.title,className:"w-100 object-fit-cover",style:{height:"250px"}}),e.jsx("div",{className:"position-absolute top-0 start-0 m-4 p-2 z-2",children:e.jsx("div",{className:"d-flex justify-content-between align-items-end",children:e.jsxs("span",{className:`px-3 py-2 rounded-pill fw-bold small text-uppercase shadow-sm d-inline-flex align-items-center ${d?"bg-white text-success":"bg-warning text-white"}`,children:[e.jsx("i",{className:`fa-solid ${d?"fa-circle-check":"fa-clock"} me-2`}),o.status]})})}),e.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-4 bg-gradient-dark text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-end",children:[e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center gap-3 small opacity-75",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-calendar me-2"}),new Date(s.start_date).toLocaleDateString()]}),e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-location-dot me-2"}),s.location||"Online"]})]})}),d&&e.jsxs(h,{href:c("events.room",s.slug),className:"th-btn style8 th-radius shadow-lg",style:{padding:"12px"},children:[e.jsx("i",{className:"fa-solid fa-door-open me-2"}),"Enter Room"]})]})})]})}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-lg-8",children:e.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:[e.jsx("div",{className:"card-header bg-white border-bottom-0 pt-4 px-4 pb-0",children:e.jsxs("ul",{className:"nav nav-tabs card-header-tabs border-0 gap-3",children:[e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:`nav-link border-0 bg-transparent fw-medium px-0 pb-3 ${t==="overview"?"active text-theme border-bottom border-2 border-theme":"text-muted"}`,onClick:()=>l("overview"),children:"Overview"})}),d&&e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:`nav-link border-0 bg-transparent fw-medium px-0 pb-3 ${t==="ticket"?"active text-theme border-bottom border-2 border-theme":"text-muted"}`,onClick:()=>l("ticket"),children:"Your Ticket"})}),e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:`nav-link border-0 bg-transparent fw-medium px-0 pb-3 ${t==="rundown"?"active text-theme border-bottom border-2 border-theme":"text-muted"}`,onClick:()=>l("rundown"),children:"Rundown"})}),e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:`nav-link border-0 bg-transparent fw-medium px-0 pb-3 ${t==="speakers"?"active text-theme border-bottom border-2 border-theme":"text-muted"}`,onClick:()=>l("speakers"),children:"Speakers"})}),e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:`nav-link border-0 bg-transparent fw-medium px-0 pb-3 ${t==="documentation"?"active text-theme border-bottom border-2 border-theme":"text-muted"}`,onClick:()=>l("documentation"),children:"Dokumentasi"})})]})}),e.jsxs("div",{className:"card-body p-4",children:[t==="overview"&&e.jsxs("div",{className:"animate-fade",children:[e.jsx("h5",{className:"fw-bold mb-3",children:"About This Event"}),e.jsx("div",{className:"text-muted mb-4",dangerouslySetInnerHTML:{__html:s.description}})]}),t==="speakers"&&e.jsx("div",{className:"animate-fade",children:s.speakers&&s.speakers.length>0?e.jsx("div",{className:"row g-3",children:s.speakers.map((a,i)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center bg-light p-3 rounded-10",children:[e.jsx("div",{className:"shrink-0 me-3",children:e.jsx("img",{src:a.image?`/storage/${a.image}`:"/assets/img/icon/user.svg",alt:a.name,className:"rounded-circle object-fit-cover",style:{width:"60px",height:"60px"}})}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-1 fw-bold",children:a.name}),e.jsx("p",{className:"mb-0 text-muted small",children:a.role})]})]})},i))}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fa-solid fa-users-slash fa-3x text-muted opacity-25"})}),e.jsx("h6",{className:"fw-bold text-muted",children:"No Speakers Announced"}),e.jsx("p",{className:"text-muted small",children:"Speaker information is not available for this event yet."})]})}),t==="ticket"&&e.jsxs("div",{className:"animate-fade text-center py-4",children:[e.jsx("div",{className:"mb-4 bg-white p-3 d-inline-block rounded-3 shadow-sm border",children:e.jsx(T,{value:m?.qr_url||"INVALID-TICKET",size:200,level:"H",includeMargin:!0})}),e.jsx("h5",{className:"fw-bold mb-1",children:u.user.name}),e.jsx("div",{className:"mb-4 d-flex justify-content-center",children:e.jsxs("p",{className:"text-muted small text-center",style:{maxWidth:"300px"},children:[e.jsx("i",{className:"fa-solid fa-circle-info me-1"}),"Tunjukkan Kode QR ini kepada panitia acara untuk registrasi ulang saat event berlangsung."]})}),e.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[e.jsxs("div",{className:"d-inline-flex align-items-center bg-white border rounded-pill px-4 py-2 shadow-sm",children:[e.jsxs("div",{className:"text-muted pe-3 border-end me-3",children:[e.jsx("i",{className:"fa-solid fa-hashtag text-theme me-2"}),"Ticket ID"]}),e.jsx("div",{className:"fw-bold text-dark",children:m.code})]}),e.jsxs("div",{className:"d-inline-flex align-items-center bg-white border rounded-pill px-4 py-2 shadow-sm",children:[e.jsxs("div",{className:"text-muted pe-3 border-end me-3",children:[e.jsx("i",{className:"fa-solid fa-ticket text-theme me-2"}),"Type"]}),e.jsx("div",{className:"fw-bold text-dark",children:s.price==="Free"||s.price==0?"Free Pass":"Regular Ticket"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-top",children:e.jsxs("a",{href:c("events.ticket.download",m.code),className:"th-btn sm rounded-pill",children:[e.jsx("i",{className:"fa-solid fa-download me-2"}),"Download Ticket PDF"]})})]}),t==="rundown"&&e.jsx("div",{className:"animate-fade",children:s.schedule&&s.schedule.length>0?e.jsx(k,{columns:[{label:e.jsx("div",{className:"d-flex align-items-center gap-2",children:"Time (WIB)"}),className:"col-4 col-md-3 ps-4 border-end"},{label:"Agenda",className:"col-8 col-md-9 ps-4"}],children:s.schedule.map((a,i)=>e.jsxs(C,{children:[e.jsx("div",{className:"col-4 col-md-3 ps-4 border-end",children:e.jsx("div",{className:"d-flex align-items-center text-nowrap",children:e.jsx("span",{className:`fw-bold fs-5 font-heading ${i===0?"text-success":i===s.schedule.length-1?"text-danger":"text-dark"}`,children:a.time})})}),e.jsx("div",{className:"col-8 col-md-9 ps-4",children:e.jsxs("div",{className:"d-flex flex-column h-100 justify-content-center",children:[e.jsx("div",{className:"d-flex align-items-center gap-2 mb-1",children:e.jsx("h6",{className:"fw-bold text-dark mb-0 fs-6",children:a.activity})}),a.description&&e.jsx("p",{className:"text-muted small mb-0 opacity-75",children:a.description})]})})]},i))}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fa-regular fa-calendar-xmark fa-3x text-muted opacity-25"})}),e.jsx("h6",{className:"fw-bold text-muted",children:"Schedule Not Published"}),e.jsx("p",{className:"text-muted small",children:"The rundown for this event is not available yet."})]})}),t==="documentation"&&e.jsx("div",{className:"animate-fade",children:s.documentations&&s.documentations.length>0?e.jsx("div",{className:"row g-3",children:s.documentations.map(a=>e.jsx("div",{className:"col-md-4 col-sm-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100 rounded-10 overflow-hidden group-hover-scale",children:[e.jsx("div",{className:"position-relative overflow-hidden",style:{paddingTop:"75%"},children:a.file_path&&a.file_path.length>0?e.jsx("img",{src:`/storage/${a.file_path[0]}`,alt:a.caption||"Event Documentation",className:"position-absolute top-0 start-0 w-100 h-100 object-fit-cover transition-transform"}):e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",children:e.jsx("i",{className:"fa-solid fa-image text-muted opacity-25 fa-2x"})})}),a.caption&&e.jsx("div",{className:"card-body p-3",children:e.jsx("p",{className:"card-text small text-muted mb-0 text-truncate",children:a.caption})})]})},a.id))}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fa-solid fa-camera fa-3x text-muted opacity-25"})}),e.jsx("h6",{className:"fw-bold text-muted",children:"No Documentation Yet"}),e.jsx("p",{className:"text-muted small",children:"Event documentation will be uploaded here after the event."})]})}),t==="certificate"&&s.is_certificate_available&&e.jsx("div",{className:"animate-fade text-center py-5",children:b?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("i",{className:"fa-solid fa-file-certificate fa-4x text-theme"})}),e.jsx("h4",{className:"fw-bold mb-3",children:"Your Cetrificate is Ready!"}),e.jsx("p",{className:"text-muted mb-4",children:"Congratulations on completing the event. You can now download your certificate."}),e.jsx("div",{className:"d-flex justify-content-center gap-3",children:e.jsxs("a",{href:`/storage/${b.file_path}`,target:"_blank",download:!0,className:"th-btn style3 th-radius",children:[e.jsx("i",{className:"fa-solid fa-download me-2"}),"Download PDF"]})})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fa-solid fa-award fa-3x text-theme opacity-50"})}),e.jsx("h6",{className:"fw-bold text-dark",children:"Certificate Available"}),e.jsx("p",{className:"text-muted small mb-4",children:"You are eligible for a certificate. Click below to generate and claim it."}),e.jsx("button",{onClick:N,disabled:p,className:"th-btn th-radius style4",children:p?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin me-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-file-signature me-2"}),"Claim Certificate"]})})]})})]})]})}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Organizer"}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"bg-light rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:e.jsx("i",{className:"fa-solid fa-building text-muted"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0 fw-semibold",children:s.organizer_info?.name||"ACTiV Organizer"}),e.jsx("small",{className:"text-muted",children:"Verified Organizer"})]})]}),e.jsx("hr",{className:"my-3 opacity-10"}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:`https://wa.me/${s.organizer_info?.phone||""}?text=${encodeURIComponent(`Halo Admin, saya ingin bertanya mengenai event "${s.title}"`)}`,target:"_blank",rel:"noreferrer",className:"th-btn th-radius style8 w-100",children:[e.jsx("i",{className:"fa-brands fa-whatsapp me-2"}),"Contact Organizer"]})})]})}),e.jsx("div",{className:"widget widget_banner",style:{backgroundImage:"url('/assets/img/bg/widget_banner.jpg')"},children:e.jsxs("div",{className:"widget-banner position-relative text-center",children:[e.jsx("span",{className:"icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("span",{className:"text",children:"Need Help?"}),e.jsx("div",{className:" mb-3 text-white",children:e.jsx("small",{children:"If you have any issues accessing the event or questions about your ticket, please contact our support team."})}),e.jsxs(h,{href:"/contact",className:"th-btn style6 th-radius",children:["Get Support"," ",e.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})})]})]}),e.jsx("style",{children:`
                .element-with-gradient {
                    background: linear-gradient(
                        to top,
                        rgba(0, 0, 0, 0.8),
                        transparent
                    );
                }
                .bg-gradient-dark {
                    background: linear-gradient(
                        to top,
                        rgba(0, 0, 0, 0.9) 0%,
                        rgba(0, 0, 0, 0.4) 60%,
                        transparent 100%
                    );
                }
            `}),e.jsx(w,{show:!!r,message:r?.message,type:r?.type==="error"?"danger":r?.type,onClose:()=>x(null)})]})}export{L as default};
