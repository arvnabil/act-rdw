import{r as c,j as e,H as Ge,b as Ye}from"./app-8jlO-GOR.js";import{T as Xe}from"./Toast-BZmhIwvk.js";/* empty css            */function We({element:o,isSelected:j,onMouseDown:b,onDrag:I,onResize:p,onDragStop:D,onDelete:g,previewData:z={}}){const i=c.useRef(null),[S,C]=c.useState(!1),[$,N]=c.useState(!1),[E,m]=c.useState({x:0,y:0}),[n,w]=c.useState(null);c.useEffect(()=>{const x=A=>{if(S){const T=A.clientX-E.x,Y=A.clientY-E.y;I&&I(T,Y),m({x:A.clientX,y:A.clientY})}if($&&n){const T=A.clientX-E.x,Y=A.clientY-E.y;p&&p(o.id,T,Y,n),m({x:A.clientX,y:A.clientY})}},G=()=>{(S||$)&&(C(!1),N(!1),w(null),D&&D())};return(S||$)&&(window.addEventListener("mousemove",x),window.addEventListener("mouseup",G)),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",G)}},[S,$,E,n,I,p,D,o.id]);const B=x=>{$||(x.stopPropagation(),b&&b(x),C(!0),m({x:x.clientX,y:x.clientY}))},Z=(x,G)=>{x.stopPropagation(),N(!0),w(G),m({x:x.clientX,y:x.clientY})},k=()=>{const x={width:"100%",height:"100%",display:"block",pointerEvents:"none"};switch(o.type){case"image":return e.jsx("img",{src:o.src||o.url,alt:"Element",style:{...x,objectFit:"contain"},draggable:!1});case"qrcode":return e.jsx("div",{style:{...x,backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ccc"},children:e.jsx("i",{className:"fas fa-qrcode text-4xl text-gray-400"})});case"text":case"variable":return e.jsx("div",{style:{...x,fontFamily:o.fontFamily,fontSize:`${o.fontSize}px`,fontWeight:o.fontWeight,color:o.color,textAlign:o.textAlign,lineHeight:1.2,whiteSpace:"pre-wrap"},children:o.type==="variable"?z[o.text]||`{${o.text}}`:o.text});case"shape":return e.jsx("div",{style:{...x,backgroundColor:o.color,borderRadius:o.shapeType==="circle"?"50%":"0"}});default:return null}};return e.jsxs("div",{ref:i,className:`position-absolute group ${j?"ring-2 ring-purple-500 ring-offset-2 z-50":"hover:ring-1 hover:ring-purple-300 z-10"}`,style:{left:`${o.x}%`,top:`${o.y}%`,width:o.width?typeof o.width=="number"?`${o.width}px`:o.width:"auto",height:o.height?typeof o.height=="number"?`${o.height}px`:o.height:"auto",minWidth:o.type==="image"?"50px":"auto",minHeight:o.type==="image"?"50px":"auto",touchAction:"none",cursor:S?"grabbing":"grab",transform:"translate(-50%, -50%)"},onMouseDown:B,children:[k(),j&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"absolute -top-3 -right-3 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-md hover:bg-red-600 hover:scale-110 transition-all z-50 cursor-pointer",onMouseDown:x=>{x.stopPropagation()},onClick:x=>{x.stopPropagation(),g&&g(o.id)},title:"Delete Element",children:e.jsx("i",{className:"fas fa-times text-xs"})}),["nw","ne","sw","se"].map(x=>e.jsx("div",{className:`absolute w-3 h-3 bg-white border-2 border-purple-500 rounded-full z-40
                                ${x==="nw"?"-top-1.5 -left-1.5 cursor-nw-resize":""}
                                ${x==="ne"?"-top-1.5 -right-1.5 cursor-ne-resize":""}
                                ${x==="sw"?"-bottom-1.5 -left-1.5 cursor-sw-resize":""}
                                ${x==="se"?"-bottom-1.5 -right-1.5 cursor-se-resize":""}
                            `,onMouseDown:G=>Z(G,x)},x))]})]})}function fe({type:o,zoom:j,offset:b=0,theme:I,onDragStart:p}){const D=c.useRef(null),g={bg:I?.bg||"#f1f5f9",borderColor:I?.borderColor||"#cbd5e1",tickColor:I?.tickColor||"#94a3b8",textColor:I?.textColor||"#64748b"};return c.useEffect(()=>{const z=D.current;if(!z)return;const i=z.getContext("2d"),S=window.devicePixelRatio||1,C=z.offsetWidth,$=z.offsetHeight;if(z.width=C*S,z.height=$*S,i.scale(S,S),i.fillStyle=g.bg,i.fillRect(0,0,C,$),i.strokeStyle=g.borderColor,i.lineWidth=1,i.fillStyle=g.textColor,i.font="10px sans-serif",i.strokeStyle=g.tickColor,o==="horizontal"){i.textAlign="left",i.textBaseline="top",i.beginPath(),i.moveTo(0,$),i.lineTo(C,$),i.stroke();const N=50*j,E=-(b%N);for(let m=E;m<C;m+=10*j){const w=Math.round((m-E+b%N+b)/(10*j))%5===0;if(i.beginPath(),i.moveTo(m,$),i.lineTo(m,$-(w?12:6)),i.stroke(),w){const B=Math.round((m+b)/j);B>=0&&i.fillText(B.toString(),m+2,2)}}}else{i.textAlign="center",i.textBaseline="middle",i.beginPath(),i.moveTo(C,0),i.lineTo(C,$),i.stroke();const N=50*j,E=-(b%N);for(let m=E;m<$;m+=10*j){const n=(m+b)/j,w=Math.abs(n%50)<1;if(i.beginPath(),i.moveTo(C,m),i.lineTo(C-(w?12:6),m),i.stroke(),w){const B=Math.round(n);i.save(),i.translate(C-14,m),i.rotate(-Math.PI/2),i.fillText(B.toString(),0,0),i.restore()}}}},[j,b,o,g]),e.jsx("canvas",{ref:D,className:`ruler ${o}`,style:{height:o==="horizontal"?"24px":"100%",width:o==="vertical"?"24px":"100%",display:"block",cursor:o==="horizontal"?"row-resize":"col-resize"},onMouseDown:z=>p&&p(o==="horizontal"?"y":"x",z)})}function Fe({show:o,onClose:j,files:b=[],onSelect:I,onUpload:p,onDelete:D,onRename:g}){const[z,i]=c.useState(!1),S=c.useRef(null);if(!o)return null;const C=n=>{n.preventDefault(),n.stopPropagation(),i(!0)},$=n=>{n.preventDefault(),n.stopPropagation(),!n.currentTarget.contains(n.relatedTarget)&&i(!1)},N=n=>{n.preventDefault(),n.stopPropagation()},E=n=>{n.preventDefault(),n.stopPropagation(),i(!1),n.dataTransfer.files&&n.dataTransfer.files.length>0&&p&&Array.from(n.dataTransfer.files).forEach(w=>p(w))},m=()=>{S.current&&S.current.click()};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:j,children:e.jsxs("div",{className:"bg-white w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-fade-in-up relative font-sans",onClick:n=>n.stopPropagation(),onDragEnter:C,onDragOver:N,onDragLeave:$,onDrop:E,children:[z&&e.jsxs("div",{className:"absolute inset-0 z-50 bg-purple-50/95 flex flex-col items-center justify-center border-4 border-dashed border-purple-400 m-4 rounded-xl transition-all",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt text-6xl text-purple-600 mb-4 animate-bounce"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Drop files to upload"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Release to upload instantly"})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Media Library"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[b.length," items â€¢ Drag & Drop supported"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",multiple:!0,onChange:n=>{n.target.files&&p&&Array.from(n.target.files).forEach(w=>p(w)),n.target.value=null}}),e.jsxs("button",{onClick:m,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full flex items-center gap-2 transition-all shadow-md hover:shadow-lg font-medium text-sm transform active:scale-95",children:[e.jsx("i",{className:"fas fa-cloud-upload-alt"}),"Upload Media"]}),e.jsx("button",{onClick:j,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:e.jsx("i",{className:"fas fa-times text-xl"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:b.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center border border-dashed border-gray-300 rounded-xl bg-white m-4",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mb-6",children:e.jsx("i",{className:"fas fa-images text-4xl text-purple-400"})}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No media files"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-sm text-center",children:"Upload images to use them. Drag and drop works too!"}),e.jsx("button",{onClick:m,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full font-medium transition-all shadow-md hover:shadow-lg transform active:scale-95",children:"Select Files"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:b.map((n,w)=>e.jsxs("div",{className:"group relative aspect-square bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-purple-300 transition-all overflow-hidden cursor-pointer",onClick:()=>!n.uploading&&I([n]),children:[e.jsx("div",{className:"w-full h-full p-2 flex items-center justify-center bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0wIDBMODCA4Wk04IDBMMCA4WiIgc3Ryb2tlPSIjZjNmNGY2IiBzdHJva2Utd2lkdGg9IjEiLz4KPC9zdmc+')]",children:e.jsx("img",{src:n.url,alt:n.name,className:`max-w-full max-h-full object-contain ${n.uploading?"opacity-50 blur-sm":""}`})}),n.uploading&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 z-10 p-2",children:[e.jsx("div",{className:"w-full max-w-[80%] bg-white/50 rounded-full h-1.5 mb-1 overflow-hidden",children:e.jsx("div",{className:"bg-purple-500 h-full transition-all duration-200 ease-out",style:{width:`${n.progress||0}%`}})}),e.jsxs("span",{className:"text-white text-[9px] font-bold drop-shadow",children:[Math.round(n.progress||0),"%"]})]}),!n.uploading&&e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex items-end justify-between",children:[e.jsx("span",{className:"text-white text-[11px] truncate max-w-[70%] font-medium",children:n.name}),e.jsx("button",{onClick:B=>{B.stopPropagation(),confirm("Delete this file?")&&D(n.path)},className:"text-white/80 hover:text-red-400 transition-colors",title:"Delete",children:e.jsx("i",{className:"fas fa-trash-alt text-xs"})})]})]},n.id||w))})})]})})}function _e({certificate:o,event:j}){const b=o.content_layout||{},I=Array.isArray(b),[p,D]=c.useState(I?b:b.elements||[]),[g,z]=c.useState(!I&&b.canvas?b.canvas:{width:1056,height:816}),[i,S]=c.useState(!I&&b.background?b.background:{x:0,y:0,scale:1}),[C,$]=c.useState(o.certificate_background),[N,E]=c.useState(!1),m=c.useRef(p);m.current=p;const[n,w]=c.useState(new Set),[B,Z]=c.useState(!1),[k,x]=c.useState(1),[G,A]=c.useState(!1),[T,Y]=c.useState({x:null,y:null}),[X,be]=c.useState(!0),[a,we]=c.useState(!0),[te,O]=c.useState([]),[ye,se]=c.useState(!1),xe=()=>{fetch(route("events.certificates.get-media",o.id)).then(t=>t.json()).then(t=>O(t)).catch(t=>console.error("Failed to load media",t))};c.useEffect(()=>{xe()},[]);const L=c.useRef(null),q=c.useRef(null),[W,ae]=c.useState([o.content_layout||[]]),[ne,re]=c.useState([]),ve=t=>{ae(s=>{const l=s[s.length-1];return JSON.stringify(l)===JSON.stringify(t)?s:[...s,t]}),re([])},ie=()=>{if(W.length>1){const t=W[W.length-1],s=W[W.length-2];re(l=>[t,...l]),ae(l=>l.slice(0,-1)),D(s)}},je=()=>{if(ne.length>0){const t=ne[0];ae(s=>[...s,t]),re(s=>s.slice(1)),D(t)}},U=(t,s=!0)=>{D(t),s&&ve(t)},Ne=[{label:"Cinzel",value:"'Cinzel', serif"},{label:"Montserrat",value:"'Montserrat', sans-serif"},{label:"Playfair Display",value:"'Playfair Display', serif"},{label:"Great Vibes",value:"'Great Vibes', cursive"},{label:"Lato",value:"'Lato', sans-serif"},{label:"Pinyon Script",value:"'Pinyon Script', cursive"},{label:"Cormorant Garamond",value:"'Cormorant Garamond', serif"},{label:"Open Sans",value:"'Open Sans', sans-serif"},{label:"Bebas Neue",value:"'Bebas Neue', display"},{label:"Alex Brush",value:"'Alex Brush', cursive"}],ke=c.useMemo(()=>n.size===0?null:[...n][n.size-1],[n]),f=p.find(t=>t.id===ke),[Ce,K]=c.useState([]),[_,le]=c.useState(null),[M,V]=c.useState({enabled:!1,columns:12,margin:40,gutter:20,color:"#FF0000",opacity:.1}),[ue,Se]=c.useState(!1),[J,F]=c.useState(null);c.useEffect(()=>{document.createElement("link")},[]);const $e=c.useMemo(()=>({participant_name:"John Doe",event_title:j.title||"Event Title",date:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),certificate_code:"CERT-SAMPLE-123"}),[j.title]);c.useEffect(()=>{const t=document.createElement("link");t.href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Bebas+Neue&family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&family=Great+Vibes&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;600&family=Open+Sans:wght@400;600&family=Pinyon+Script&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap",t.rel="stylesheet",document.head.appendChild(t);const s=()=>Y({x:null,y:null});window.addEventListener("mouseup",s);const l=h=>{le(r=>{if(!r)return null;if(!L.current)return r;const y=L.current.getBoundingClientRect();let P=0;return r.type==="horizontal"?P=(h.clientY-y.top)/k:P=(h.clientX-y.left)/k,{...r,currentPos:P}})},u=h=>{le(r=>{if(!r)return null;const y=r.currentPos<-20;return K(P=>{const v=[...P];return r.index!==void 0&&r.index!==-1?(y?v.splice(r.index,1):v[r.index]={...v[r.index],pos:r.currentPos},v):y?P:[...P,{type:r.type==="horizontal"?"y":"x",pos:r.currentPos}]}),null})};return window.addEventListener("mousemove",l),window.addEventListener("mouseup",u),()=>{document.head.removeChild(t),window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",u)}},[k]);const he=(t,s,l=-1)=>{if(s.preventDefault(),s.stopPropagation(),!L.current)return;const u=L.current.getBoundingClientRect();let h=t;t==="y"&&(h="horizontal"),t==="x"&&(h="vertical");let r=0;h==="horizontal"?r=(s.clientY-u.top)/k:r=(s.clientX-u.left)/k,le({type:h,currentPos:r,index:l})},me=(t,s)=>{he(t,s,-1)},oe=t=>{const l=(Array.isArray(t)?t:[t]).map(u=>{const h=u.type,r={id:Date.now()+Math.random(),type:h,x:50+Math.random()*20,y:50+Math.random()*20,...u};return h==="text"||h==="variable"?(r.text=u.text||"New Text",r.fontSize=28,r.color="#1e293b",r.fontWeight="normal",r.fontFamily="'Montserrat', sans-serif",r.textAlign="center"):h==="qrcode"?r.width=100:h==="shape"?(r.width=150,r.height=100,r.color="#0f172a",r.shapeType=u.shapeType||"rectangle"):h==="line"?(r.width=300,r.height=3,r.color="#000000"):(h==="signature"||h==="image")&&(r.width=200,r.src=u.src||""),r});U([...p,...l]),w(new Set(l.map(u=>u.id)))},H=(t,s={})=>{oe([{type:t,...s}])};c.useEffect(()=>{const t=s=>{(s.metaKey||s.ctrlKey)&&s.key==="z"&&(s.preventDefault(),ie())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[ie]);const R=t=>{const s=p.map(l=>n.has(l.id)?{...l,...t}:l);U(s)},Me=t=>{const s=p.filter(u=>u.id!==t);U(s);const l=new Set(n);l.delete(t),w(l)},De=()=>{const t=p.filter(s=>n.has(s.id)).map(s=>({...s,id:Date.now()+Math.random(),x:s.x+2,y:s.y+2}));U([...p,...t]),w(new Set(t.map(s=>s.id)))},ze=t=>{if(!t)return;const s=Date.now(),l=URL.createObjectURL(t);O(r=>[...r,{id:s,name:t.name,path:l,url:l,size:t.size,type:t.type,uploading:!0,progress:0}]);let u=0;const h=setInterval(()=>{u+=10,O(r=>r.map(y=>y.id===s?{...y,progress:u}:y)),u>=100&&(clearInterval(h),O(r=>r.map(y=>y.id===s?{...y,uploading:!1}:y)),F({message:"Image uploaded successfully",type:"success"}),setTimeout(()=>F(null),3e3))},200)},Ee=t=>{O(s=>s.filter(l=>l.path!==t))},Ie=(t,s)=>{console.log("Renaming implementation pending",t,s)},Pe=(t,s)=>{if(!L.current||!q.current)return;const l=L.current.getBoundingClientRect(),u=100/l.width,h=100/l.height,r=t*u,y=s*h;D(P=>P.map(v=>n.has(v.id)?{...v,x:Math.max(0,Math.min(100,v.x+r)),y:Math.max(0,Math.min(100,v.y+y))}:v))},Re=(t,s,l,u)=>{if(!L.current)return;const h=L.current.getBoundingClientRect(),r=100/h.width,y=100/h.height;D(P=>P.map(v=>{if(v.id!==t)return v;const Q=s/k,ee=l/k;let ce=v.width||100,de=v.height||100,pe=v.x,ge=v.y;const Be=s/k*r,Ae=l/k*y;return u.includes("e")&&(ce+=Q),u.includes("w")&&(ce-=Q,pe+=Be),u.includes("s")&&(de+=ee),u.includes("n")&&(de-=ee,ge+=Ae),{...v,x:pe,y:ge,width:Math.max(10,ce),height:Math.max(10,de)}}))},Te=t=>{if(!N)return;t.preventDefault(),t.stopPropagation();const s=t.clientX,l=t.clientY,u=i.x,h=i.y,r=P=>{const v=(P.clientX-s)/k,Q=(P.clientY-l)/k;S(ee=>({...ee,x:u+v,y:h+Q}))},y=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",y)},Le=()=>{Z(!0),Ye.post(route("events.certificates.update-design",o.id),{content_layout:{elements:p,canvas:g,background:i},image_files:te,certificate_background:C},{onFinish:()=>Z(!1),preserveScroll:!0,onSuccess:()=>{F({message:"Design saved successfully!",type:"success"})},onError:t=>{console.error("Save failed:",t);const s=Object.values(t)[0];F({message:`Failed: ${s||"Check console"}`,type:"error"})}})},d=a?{bgApp:"bg-[#0f172a]",bgPanel:"bg-[#1e293b]",bgInput:"bg-[#1e293b]",border:"border-slate-700",textMain:"text-[#e1e4e5]",textMuted:"text-slate-400",glassHdr:"glass-panel-dark",glassSide:"glass-panel-dark",highlight:"text-info",grid:"grid-bg-dark"}:{bgApp:"bg-slate-50",bgPanel:"bg-white",bgInput:"bg-white",border:"border-slate-200",textMain:"text-slate-700",textMuted:"text-slate-500",glassHdr:"glass-panel-light",glassSide:"glass-panel-light",highlight:"text-success",grid:"grid-bg-light"};return e.jsxs("div",{className:`d-flex flex-column vh-100 ${d.bgApp} ${d.textMain} transition-colors duration-300`,style:{fontFamily:"'Inter', sans-serif"},children:[e.jsx(Ge,{title:`Designer - ${j.title}`}),e.jsx("style",{children:`
                /* Transition for smooth theme switch */
                .transition-colors { transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; }

                ::-webkit-scrollbar { width: 6px; height: 6px; }
                ::-webkit-scrollbar-track { background: transparent; }
                ::-webkit-scrollbar-thumb { background: ${a?"#334155":"#cbd5e1"}; border-radius: 3px; }

                .glass-panel-dark {
                    background: rgba(30, 41, 59, 0.95); /* More opaque for professional look */
                    backdrop-filter: blur(12px);
                    border: 1px solid rgba(255, 255, 255, 0.05);
                }
                .glass-panel-light {
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(12px);
                    border: 1px solid rgba(0, 0, 0, 0.05);
                }

                .grid-bg-dark {
                    background-image: radial-gradient(rgba(51, 65, 85, 0.4) 1px, transparent 1px);
                    background-size: 24px 24px;
                }
                .grid-bg-light {
                    background-image: radial-gradient(rgba(148, 163, 184, 0.4) 1px, transparent 1px);
                    background-size: 24px 24px;
                }

                .btn-tech {
                    background: linear-gradient(135deg, ${a?"#06b6d4":"#3b82f6"} 0%, ${a?"#3b82f6":"#2563eb"} 100%);
                    color: white; border: none;
                    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);
                    transition: all 0.2s;
                }
                .btn-tech:hover { transform: translateY(-1px); box-shadow: 0 8px 10px -2px rgba(59, 130, 246, 0.4); }

                /* Sidebar Buttons */
                .sidebar-btn {
                    transition: all 0.2s;
                    border: 1px solid #dee2e6;
                    color: ${a?"#e1e4e5":"#334155"};
                    background: ${a?"rgba(255, 255, 255, 0.05)":"transparent"};
                }
                .sidebar-btn:hover {
                    background: ${a?"rgba(255, 255, 255, 0.1)":"#f1f5f9"}; /* Theme color hover */
                    border-color: ${d.border};
                    transform: translateX(2px);
                }

                /* Upload Button */
                .btn-upload {
                    background: white; color: #333; border: 1px solid #ddd; transition: all 0.3s;
                }
                .btn-upload:hover {
                    background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
                    color: white; border-color: transparent;
                }

                /* Inputs - "Proper" Style */
                .form-control-proper {
                    border-radius: 4px; /* Less rounded */
                    border: 1px solid ${a?"#475569":"#cbd5e1"};
                    background-color: ${a?"#0f172a":"#fff"}; /* Input distinct bg */
                    color: ${a?"#fff":"#333"};
                    padding: 0.375rem 0.75rem;
                    margin-bottom: 1rem;
                    font-size: 0.875rem;
                }
                .form-control-proper:focus {
                    border-color: #06b6d4;
                    color: ${a?"#333":"#000"};
                    box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.2);
                    outline: none;
                }
                .form-control-proper:hover {
                    color: ${a?"#333":"#000"};
                }

                .form-select-proper {
                    margin-bottom: 1rem;
                    border-radius: 4px;
                    border: 1px solid ${a?"#475569":"#cbd5e1"};
                    background-color: ${a?"#0f172a":"#fff"};
                    color: ${a?"#fff":"#333"};
                    padding: 0.375rem 2rem 0.375rem 0.75rem;
                    font-size: 0.875rem;
                }
            `}),e.jsxs("header",{className:`px-4 py-3 d-flex justify-content-between align-items-center shadow-sm position-relative ${d.glassHdr} border-bottom ${d.border}`,style:{zIndex:100},children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("button",{className:`btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ${a?"bg-slate-800 text-white":"bg-slate-100 text-dark"}`,onClick:()=>window.close(),style:{width:36,height:36},children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsxs("div",{children:[e.jsxs("div",{className:`fw-bold ls-1 ${a?"text-white":"text-dark"}`,style:{fontSize:"1.1rem"},children:["CERTIFICATE"," ",e.jsx("span",{className:d.highlight,children:"STUDIO"})]}),e.jsx("div",{className:`text-xs ${a?"text-white":"text-dark"} fw-medium`,children:j.title})]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("button",{className:`btn btn-sm rounded-circle d-flex align-items-center justify-content-center border-0 ${a?"bg-slate-800 text-warning":"bg-slate-200 text-slate-600"}`,onClick:()=>we(!a),style:{width:32,height:32},children:e.jsx("i",{className:`fas ${a?"fa-sun":"fa-moon"}`})}),e.jsxs("div",{className:`d-flex align-items-center rounded-pill p-1 border ${d.border} ${d.bgInput}`,children:[e.jsx("button",{className:`btn btn-sm ${a?"text-white":"text-slate-600"} hover-text-primary`,onClick:()=>x(t=>Math.max(.4,t-.1)),children:e.jsx("i",{className:"fas fa-minus"})}),e.jsxs("span",{className:`small px-2 fw-medium ${a?"text-white":"text-slate-800"}`,style:{minWidth:40,textAlign:"center"},children:[Math.round(k*100),"%"]}),e.jsx("button",{className:`btn btn-sm ${a?"text-white":"text-slate-600"} hover-text-primary`,onClick:()=>x(t=>Math.min(2.5,t+.1)),children:e.jsx("i",{className:"fas fa-plus"})})]}),e.jsx("div",{className:`h-50 border-end ${d.border} mx-1`}),e.jsxs("div",{className:`d-flex align-items-center rounded-pill px-2 border ${d.border} me-2 ${d.bgInput}`,children:[e.jsx("button",{className:`btn btn-sm ${a?"text-white":"text-slate-600"}`,onClick:()=>{const t=g.width,s=g.height;K([{type:"x",pos:t/2},{type:"y",pos:s/2}])},title:"Add Center Guides (2x2)",children:e.jsx("i",{className:"fas fa-border-all"})}),e.jsx("button",{className:`btn btn-sm ${a?"text-white":"text-slate-600"}`,onClick:()=>{const t=g.width,s=g.height;K([{type:"x",pos:t/3},{type:"x",pos:t/3*2},{type:"y",pos:s/3},{type:"y",pos:s/3*2}])},title:"Add Thirds Guides (3x3)",children:e.jsx("i",{className:"fas fa-th"})}),e.jsx("button",{className:"btn btn-sm text-danger",onClick:()=>K([]),title:"Clear All Guides",children:e.jsx("i",{className:"fas fa-trash-alt"})})]}),e.jsxs("div",{className:"position-relative me-2",children:[e.jsxs("button",{className:`btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 ${M.enabled?"bg-primary text-white border-primary":a?"text-white border-slate-600 bg-slate-800":"text-slate-600 border-slate-300 bg-white"}`,onClick:()=>Se(!ue),title:"Configure Layout Columns",children:[e.jsx("i",{className:"fas fa-columns"}),e.jsx("span",{className:"d-none d-md-inline small",children:"Columns"})]}),ue&&e.jsxs("div",{className:"position-absolute top-100 end-0 mt-2 p-3 rounded shadow-lg",onClick:t=>t.stopPropagation(),style:{width:"280px",zIndex:2e3,backgroundColor:a?"#1e293b":"#ffffff",borderColor:a?"#334155":"#e2e8f0",borderWidth:"1px",borderStyle:"solid"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{className:`fw-bold text-sm ${a?"text-white":"text-slate-800"}`,children:"Layout Grid"}),e.jsxs("div",{className:"form-check form-switch m-0 d-flex align-items-center",children:[e.jsx("input",{className:"form-check-input mt-0",type:"checkbox",checked:M.enabled,onChange:t=>V(s=>({...s,enabled:t.target.checked})),id:"gridToggle",style:{cursor:"pointer",width:"2.5rem",height:"1.25rem",border:"2px solid rgba(255,255,255,0.2)",backgroundColor:M.enabled?"#ef4444":"#64748b",backgroundImage:"none"}}),e.jsx("label",{className:"form-check-label ms-2 cursor-pointer small text-muted",htmlFor:"gridToggle",children:M.enabled?"On":"Off"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:`text-xs fw-semibold d-block mb-1 ${a?"text-slate-400":"text-slate-500"}`,children:"Columns (Count)"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:M.columns,onChange:t=>{const s=parseInt(t.target.value);V(l=>({...l,enabled:!0,columns:isNaN(s)?"":Math.max(1,Math.min(24,s))}))},min:"1",max:"24",style:{height:"32px",fontSize:"14px"}})]}),e.jsxs("div",{className:"row g-2 mb-3",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:`text-xs fw-semibold d-block mb-1 ${a?"text-slate-400":"text-slate-500"}`,children:"Margin (px)"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:M.margin,onChange:t=>{const s=parseInt(t.target.value);V(l=>({...l,enabled:!0,margin:isNaN(s)?"":Math.max(0,s)}))},style:{height:"32px",fontSize:"14px"}})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:`text-xs fw-semibold d-block mb-1 ${a?"text-slate-400":"text-slate-500"}`,children:"Gutter (px)"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:M.gutter,onChange:t=>{const s=parseInt(t.target.value);V(l=>({...l,enabled:!0,gutter:isNaN(s)?"":Math.max(0,s)}))},style:{height:"32px",fontSize:"14px"}})]})]}),e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:"d-flex justify-content-between font-sm mb-1",children:[e.jsx("label",{className:`text-xs fw-semibold ${a?"text-slate-400":"text-slate-500"}`,children:"Opacity"}),e.jsxs("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"}`,children:[Math.round(M.opacity*100),"%"]})]}),e.jsx("input",{type:"range",className:"form-range w-100",min:"0.05",max:"0.5",step:"0.05",value:M.opacity,onChange:t=>V(s=>({...s,enabled:!0,opacity:parseFloat(t.target.value)})),style:{accentColor:"#ef4444"}})]})]})]}),e.jsx("div",{className:"h-100 mx-3 border-end border-secondary opacity-25"}),e.jsxs("div",{className:"d-flex align-items-center gap-2 me-2",children:[e.jsx("button",{className:`btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ${a?"bg-slate-800 text-white":"bg-slate-200 text-dark"}`,onClick:ie,disabled:W.length<=1,style:{width:32,height:32},title:"Undo (Ctrl+Z)",children:e.jsx("i",{className:"fas fa-undo"})}),e.jsx("button",{className:`btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ${a?"bg-slate-800 text-white":"bg-slate-200 text-dark"}`,onClick:je,disabled:ne.length===0,style:{width:32,height:32},title:"Redo (Ctrl+Y)",children:e.jsx("i",{className:"fas fa-redo"})})]}),e.jsx("button",{className:`btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 ${X?"bg-slate-100 text-slate-700":"bg-slate-800 text-white"}`,onClick:()=>be(!X),title:X?"Collapse Sidebar":"Expand Sidebar",children:e.jsx("i",{className:`fas fa-${X?"chevron-right":"chevron-left"}`,style:{color:a?"#fff":"#000"}})}),e.jsxs("button",{className:"btn btn-tech rounded-pill px-4 fw-medium d-flex align-items-center gap-2",onClick:Le,disabled:B,children:[B?e.jsx("i",{className:"fas fa-circle-notch fa-spin"}):e.jsx("i",{className:"fas fa-save"}),e.jsx("span",{children:"Save"})]})]})]}),e.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[e.jsxs("aside",{className:`d-flex flex-column ${d.glassSide} border-end ${d.border} overflow-auto`,style:{width:"280px"},children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:`text-xs fw-bold ${d.highlight} text-uppercase ls-1 mb-3`,children:[e.jsx("i",{className:"fas fa-layer-group me-1"})," Elements"]}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>H("text"),children:[e.jsx("i",{className:"fas fa-heading fa-fw opacity-50"})," ",e.jsx("span",{children:"Headline / Text"})]}),e.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>H("line"),children:[e.jsx("i",{className:"fas fa-minus fa-fw opacity-50"})," ",e.jsx("span",{children:"Line Separator"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>H("shape",{shapeType:"rectangle"}),children:e.jsx("i",{className:"far fa-square fa-lg"})}),e.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>H("shape",{shapeType:"circle"}),children:e.jsx("i",{className:"far fa-circle fa-lg"})}),e.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>H("qrcode"),children:e.jsx("i",{className:"fas fa-qrcode fa-lg"})})]})]})]}),e.jsxs("div",{className:`p-4 border-top ${d.border}`,children:[e.jsxs("div",{className:`text-xs fw-bold ${d.highlight} text-uppercase ls-1 mb-3`,children:[e.jsx("i",{className:"fas fa-file-alt me-1"})," Page Setup"]}),e.jsxs("div",{className:"d-flex gap-2 mb-3",children:[e.jsx("button",{className:`btn btn-sm w-50 ${g.width>g.height?"btn-tech":a?"btn-outline-secondary":"btn-outline-dark"}`,onClick:()=>z({width:1056,height:816}),children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{className:"far fa-file-image me-1"})," ","Landscape"]}),e.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"1056 x 816 px"})]})}),e.jsx("button",{className:`btn btn-sm w-50 ${g.width<g.height?"btn-tech":a?"btn-outline-secondary":"btn-outline-dark"}`,onClick:()=>z({width:816,height:1056}),children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsxs("span",{children:[e.jsx("i",{className:"far fa-file me-1"})," ","Portrait"]}),e.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"816 x 1056 px"})]})})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx("span",{className:"text-xs",children:"Background Edit"}),e.jsx("div",{className:"form-check form-switch",children:e.jsx("input",{className:"form-check-input",type:"checkbox",checked:N,onChange:()=>E(!N)})})]}),N&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"text-xs text-muted mb-1",children:["Scale: ",Math.round(i.scale*100),"%"]}),e.jsx("input",{type:"range",className:"form-range",min:"0.5",max:"3",step:"0.1",value:i.scale,onChange:t=>S(s=>({...s,scale:parseFloat(t.target.value)}))})]})]}),e.jsxs("div",{className:`p-4 border-top ${d.border}`,children:[e.jsxs("div",{className:`text-xs fw-bold ${d.highlight} text-uppercase ls-1 mb-3`,children:[e.jsx("i",{className:"fas fa-code-branch me-1"})," ","Variables"]}),e.jsx("div",{className:"d-grid gap-2",children:["Participant Name","Event Title","Date","Certificate Code"].map((t,s)=>e.jsxs("button",{className:"sidebar-btn w-100 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>H("text",{text:`{{ ${t.toLowerCase().replace(" ","_")} }}`}),children:[e.jsx("div",{className:`d-flex align-items-center justify-content-center ${a?"bg-slate-700 text-slate-300":"bg-slate-200 text-dark"} me-3 rounded-1`,style:{minWidth:"40px",height:"22px",fontSize:"10px",fontWeight:"bold"},children:"VAR"}),e.jsx("span",{className:"fw-medium",children:t})]},t))})]}),e.jsx("div",{className:`p-4 border-top ${d.border} flex-grow-1`,children:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("div",{className:`text-xs fw-bold ${d.highlight} text-uppercase ls-1`,children:[e.jsx("i",{className:"fas fa-photo-film me-1"})," ","Media Files"]})}),e.jsxs("button",{className:"sidebar-btn w-100 mb-2 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>se(!0),children:[e.jsx("i",{className:"fas fa-images fa-lg me-2"}),e.jsx("span",{className:"fw-medium",children:"Manage Media Library"})]}),e.jsxs("div",{className:`text-xs text-center ${d.textMuted} mb-3`,children:[te.length," files available"]})]})})]}),e.jsxs("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden position-relative",children:[e.jsxs("div",{className:"d-flex",style:{height:"24px",flexShrink:0,zIndex:50,background:a?"#1e293b":"#f1f5f9"},children:[e.jsx("div",{style:{width:"24px",flexShrink:0,borderRight:`1px solid ${a?"#334155":"#cbd5e1"}`,borderBottom:`1px solid ${a?"#334155":"#cbd5e1"}`}}),e.jsx("div",{className:"flex-grow-1 position-relative overflow-hidden",children:e.jsx(fe,{type:"horizontal",zoom:k,offset:T.rulerX||0,theme:{bg:a?"#1e293b":"#f1f5f9",borderColor:a?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:a?"#94a3b8":"#64748b"},onDragStart:me})})]}),e.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[e.jsx("div",{style:{width:"24px",flexShrink:0,zIndex:50,overflow:"hidden",background:a?"#1e293b":"#f1f5f9"},children:e.jsx(fe,{type:"vertical",zoom:k,offset:T.rulerY||0,theme:{bg:a?"#1e293b":"#f1f5f9",borderColor:a?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:a?"#94a3b8":"#64748b"},onDragStart:me})}),e.jsxs("main",{className:`flex-grow-1 position-relative d-flex align-items-center justify-content-center overflow-hidden ${d.grid}`,id:"canvas-scroll-container",onClick:()=>w(new Set),style:{overflow:"auto"},children:[T.x!==null&&e.jsx("div",{className:"position-absolute h-100",style:{left:`${T.x}%`,width:"1px",background:a?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),T.y!==null&&e.jsx("div",{className:"position-absolute w-100",style:{top:`${T.y}%`,height:"1px",background:a?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),_&&e.jsx("div",{className:"position-absolute",style:{zIndex:101,pointerEvents:"none",background:"#10b981",..._.type==="horizontal"?{left:0,right:0,top:0,height:"1px",transform:`translateY(${T.rulerY+_.currentPos*k}px)`}:{top:0,bottom:0,left:0,width:"1px",transform:`translateX(${T.rulerX+_.currentPos*k}px)`}},children:e.jsx("span",{className:"position-absolute bg-success text-white px-1 text-xs",style:{top:2,left:2},children:Math.round(_.currentPos)})}),e.jsx("div",{className:"overflow-auto w-100 h-100 d-flex align-items-center justify-content-center p-5",ref:q,onScroll:()=>{if(L.current&&q.current){const t=L.current.getBoundingClientRect(),s=q.current.getBoundingClientRect();Y(l=>({...l,rulerX:t.left-s.left,rulerY:t.top-s.top}))}},children:e.jsxs("div",{ref:L,className:"position-relative bg-white shadow-sm transition-all duration-300",style:{width:`${g.width}px`,height:`${g.height}px`,minWidth:`${g.width}px`,minHeight:`${g.height}px`,transform:`scale(${k})`,transformOrigin:"center center",boxShadow:a?"0 0 50px rgba(0,0,0,0.5)":"0 0 30px rgba(0,0,0,0.1)",overflow:"hidden"},onDoubleClick:t=>{(t.target===L.current||t.target.classList?.contains("bg-layer"))&&(E(!N),F({message:N?"Background Locked":"Background Edit Mode: Drag to move",type:"info"}))},children:[e.jsx("div",{className:`bg-layer position-absolute w-100 h-100 start-0 top-0 ${N?"cursor-move":""}`,style:{zIndex:0,backgroundImage:C?`url("/storage/${C}")`:"none",backgroundSize:"cover",backgroundPosition:"center",transform:`translate(${i.x}px, ${i.y}px) scale(${i.scale})`,transformOrigin:"center center",opacity:1,pointerEvents:N?"auto":"none"},onMouseDown:Te}),N&&e.jsx("div",{className:"position-absolute top-0 start-0 m-2 badge bg-warning text-dark z-index-10",children:"Background Edit Mode"}),M.enabled&&e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:89,pointerEvents:"none",padding:`0 ${M.margin}px`,display:"flex",gap:`${M.margin>0,0}px`},children:e.jsx("div",{className:"w-100 h-100 d-flex",style:{gap:`${M.gutter}px`,pointerEvents:"none"},children:[...Array(M.columns)].map((t,s)=>e.jsx("div",{className:"flex-grow-1 h-100",style:{backgroundColor:M.color,opacity:M.opacity,pointerEvents:"none"}},s))})}),Ce.map((t,s)=>e.jsx("div",{className:"position-absolute guide-line",onMouseDown:l=>he(t.type,l,s),style:{zIndex:90,pointerEvents:"auto",cursor:t.type==="y"?"row-resize":"col-resize",...t.type==="y"?{left:0,right:0,top:`${t.pos-2}px`,height:"5px",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",backgroundColor:"transparent"}:{top:0,bottom:0,left:`${t.pos-2}px`,width:"5px",borderLeft:"2px solid transparent",borderRight:"2px solid transparent",backgroundColor:"transparent"}},children:e.jsx("div",{style:{width:t.type==="y"?"100%":"1px",height:t.type==="y"?"1px":"100%",backgroundColor:"#06b6d4",position:"absolute",top:t.type==="y"?"2px":0,left:t.type==="y"?0:"2px",boxShadow:"0 0 2px rgba(255,255,255,0.5)"}})},s)),p.map(t=>e.jsx(We,{element:t,previewData:$e,isSelected:n.has(t.id),onMouseDown:s=>{if(s.shiftKey){const l=new Set(n);l.has(t.id)?l.delete(t.id):l.add(t.id),w(l)}else n.has(t.id)||w(new Set([t.id]))},onDrag:Pe,onResize:Re,onDragStop:()=>U(m.current),onDelete:Me},t.id))]})})]})]})]}),e.jsx("aside",{className:`${d.glassSide} border-start ${d.border} d-flex flex-column shadow-lg z-20 transition-all duration-300 ease-in-out`,style:{width:X?"300px":"0px",overflow:"hidden",opacity:X?1:0},children:f&&n.size>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`p-4 ${d.bgPanel} border-bottom ${d.border} text-center`,style:{minWidth:"300px"},children:e.jsx("div",{className:`text-xs fw-bold ${d.highlight} text-uppercase ls-1`,children:"Properties"})}),e.jsxs("div",{className:"p-4 flex-grow-1 overflow-auto",style:{minWidth:"300px"},children:[(f.type==="text"||f.type==="variable")&&e.jsxs("div",{className:"vstack gap-5",children:[" ",e.jsxs("div",{children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted} text-uppercase mb-2`,children:"Content"}),e.jsx("textarea",{className:"form-control-proper w-100",rows:"3",value:f.text,onChange:t=>R({text:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted} text-uppercase mb-2`,children:"Typography"}),e.jsxs("div",{className:"vstack gap-3",children:[e.jsx("select",{className:"form-select-proper w-100",value:f.fontFamily,onChange:t=>R({fontFamily:t.target.value}),children:Ne.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),e.jsxs("div",{className:"row g-2 align-items-center",children:[e.jsx("div",{className:"col-8",children:e.jsx("div",{className:"input-group input-group-sm",children:e.jsx("input",{type:"number",className:"form-control-proper w-100",value:f.fontSize,onChange:t=>R({fontSize:parseInt(t.target.value)}),placeholder:"Size"})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"31px",width:"100%",position:"relative",backgroundColor:f.color},children:e.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",opacity:0},value:f.color,onChange:t=>R({color:t.target.value})})})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted} text-uppercase mb-2`,children:"Style"}),e.jsxs("div",{className:"btn-group w-100 mb-3",children:[e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.fontWeight==="bold"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({fontWeight:f.fontWeight==="bold"?"normal":"bold"}),children:e.jsx("i",{className:"fas fa-bold"})}),e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.fontStyle==="italic"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({fontStyle:f.fontStyle==="italic"?"normal":"italic"}),children:e.jsx("i",{className:"fas fa-italic"})}),e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.textDecoration==="underline"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({textDecoration:f.textDecoration==="underline"?"none":"underline"}),children:e.jsx("i",{className:"fas fa-underline"})})]}),e.jsxs("div",{className:"btn-group w-100",children:[e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.textAlign==="left"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({textAlign:"left"}),children:e.jsx("i",{className:"fas fa-align-left"})}),e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.textAlign==="center"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({textAlign:"center"}),children:e.jsx("i",{className:"fas fa-align-center"})}),e.jsx("button",{className:`btn btn-sm btn-outline-secondary ${a?"text-white":""} ${f.textAlign==="right"?a?"btn-tech border-0":"bg-info border-info text-white":""}`,onClick:()=>R({textAlign:"right"}),children:e.jsx("i",{className:"fas fa-align-right"})})]})]})]}),(f.type==="line"||f.type==="shape")&&e.jsxs("div",{className:"vstack gap-3",children:[e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted}`,children:"Width"}),e.jsx("input",{type:"number",className:"form-control-proper w-100",value:f.width,onChange:t=>R({width:parseInt(t.target.value)})})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted}`,children:f.type==="line"?"Thickness":"Height"}),e.jsx("input",{type:"number",className:"form-control-proper w-100",value:f.height,onChange:t=>R({height:parseInt(t.target.value)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs fw-bold ${d.textMuted} text-uppercase mb-1`,children:"Color"}),e.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"36px",width:"100%",position:"relative"},children:e.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",border:"none"},value:f.color,onChange:t=>R({color:t.target.value})})})]})]})]}),e.jsxs("div",{className:`p-4 border-top ${d.border} mt-auto ${d.bgPanel}`,children:[e.jsxs("button",{className:`btn btn-outline-secondary w-100 mb-2 rounded-2 ${a?"text-white border-slate-600":""}`,onClick:De,children:[e.jsx("i",{className:"far fa-clone me-2"})," ","Duplicate"]}),e.jsxs("button",{className:"btn btn-outline-danger w-100 rounded-2",onClick:()=>{D(p.filter(t=>!n.has(t.id))),w(new Set)},children:[e.jsx("i",{className:"far fa-trash-alt me-2"})," ","Delete"]})]})]}):e.jsxs("div",{className:`d-flex flex-column align-items-center justify-content-center h-100 ${d.textMuted} p-4 text-center`,children:[e.jsx("i",{className:"fas fa-mouse-pointer fa-3x mb-3 opacity-25"}),e.jsx("div",{className:"text-sm",children:"Select an element to resize or edit"})]})})]}),e.jsx(Xe,{show:!!J,message:J?.message,type:J?.type==="error"?"danger":J?.type,onClose:()=>F(null)}),e.jsx(Fe,{show:ye,onClose:()=>se(!1),files:te,onUpload:ze,onDelete:Ee,onRename:Ie,onSelect:t=>{Array.isArray(t)?oe(t.map(s=>({type:"image",src:s.url,name:s.name,path:s.path}))):oe([{type:"image",src:t.url,name:t.name,path:t.path}]),se(!1)},uploadUrl:route("events.certificates.upload-media",o.id),onUploadSuccess:()=>xe()})]})}export{_e as default};
