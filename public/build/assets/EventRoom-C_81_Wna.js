import{f as e,d as s,j as a,H as t,L as i,e as l}from"./vendor-KZSLvCor.js";import c from"./Layout-BGCaz3um.js";import{T as r}from"./Toast-hpu2Jnrp.js";import"./MainLayout-ByP9tZ80.js";import"./SimpleBreadcrumb-9WZ9B38O.js";function n({auth:n,event:d,registration:o,user_certificate:m}){const{flash:h}=e().props,[x,u]=s.useState(!1),[f,j]=s.useState(null);s.useEffect(()=>{if(null==h?void 0:h.success){j({message:h.success,type:"success"});const e=setTimeout(()=>j(null),3e3);return()=>clearTimeout(e)}if(null==h?void 0:h.error){j({message:h.error,type:"danger"});const e=setTimeout(()=>j(null),3e3);return()=>clearTimeout(e)}},[h]);return a.jsxs(c,{children:[a.jsx(t,{title:"Room: ".concat(d.title)}),a.jsx(r,{show:!!f,message:null==f?void 0:f.message,type:null==f?void 0:f.type,onClose:()=>j(null)}),a.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:a.jsxs("div",{children:[a.jsxs(i,{href:route("events.my-events"),className:"text-muted text-decoration-none mb-2 d-inline-block small",children:[a.jsx("i",{className:"fa-solid fa-arrow-left me-1"})," Back to My Events"]}),a.jsx("h2",{className:"fw-bold fs-3 mb-1",children:d.title}),a.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2",children:[a.jsx("i",{className:"fa-solid fa-check-circle me-1"})," Access Granted"]})]})}),a.jsxs("div",{className:"row g-4",children:[a.jsx("div",{className:"col-lg-8",children:a.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[a.jsx("div",{className:"card-header bg-theme text-white border-0 p-4",children:a.jsxs("h5",{className:"fw-bold mb-0 text-white",children:[a.jsx("i",{className:"fa-solid fa-video me-2"})," Live Session"]})}),a.jsx("div",{className:"card-body p-5 text-center",children:d.meeting_link?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:a.jsx("i",{className:"fa-solid fa-video fs-1 text-theme"})}),a.jsx("h4",{className:"fw-bold",children:"The Event is Live!"}),a.jsx("p",{className:"text-muted",children:"Click the button below to join the meeting room."})]}),a.jsxs("a",{href:d.meeting_link,target:"_blank",rel:"noreferrer",className:"btn th-btn th-radius px-5",children:[a.jsx("i",{className:"fa-solid fa-external-link-alt me-2"})," ","Join Meeting Now"]}),a.jsx("p",{className:"mt-3 small text-muted",children:"Please ensure you have Zoom/Meet installed."})]}):a.jsxs("div",{className:"py-4",children:[a.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:a.jsx("i",{className:"fa-solid fa-hourglass-start fs-1 text-muted opacity-50"})}),a.jsx("h5",{className:"fw-bold text-muted",children:"Meeting Link Not Available Yet"}),a.jsx("p",{className:"text-muted mb-0",children:"The link will be available here once the event starts or is configured by the organizer."})]})})]})}),a.jsxs("div",{className:"col-lg-4",children:[a.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[a.jsx("div",{className:"icon-box bg-warning bg-opacity-10 text-warning rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:a.jsx("i",{className:"fa-solid fa-award text-white"})}),a.jsx("h6",{className:"fw-bold mb-0",children:"Certificate"})]}),m?a.jsxs("div",{children:[a.jsx("p",{className:"text-muted small mb-3",children:"Your certificate is ready for download."}),a.jsxs("a",{href:"/storage/".concat(m.file_path),target:"_blank",className:"th-btn style4 w-100 rounded-pill fw-bold dashed-border text-center text-decoration-none",children:[a.jsx("i",{className:"fa-solid fa-download me-2"})," ","Open Certificate"]})]}):d.is_certificate_available&&d.has_certificate_template?a.jsxs("div",{children:[a.jsx("p",{className:"text-muted small mb-3",children:"You are eligible to claim your certificate."}),a.jsx("button",{onClick:()=>{u(!0),l.post(route("events.certificates.claim",d.id),{},{preserveScroll:!0,onFinish:()=>u(!1),onSuccess:()=>{j({message:"Certificate claimed successfully!",type:"success"})},onError:e=>{const s=Object.values(e)[0]||"Failed to claim certificate.";j({message:s,type:"danger"})}})},disabled:x,className:"th-btn w-100 rounded-pill fw-bold",children:x?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Claiming..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-award me-2"})," ","Claim Certificate"]})})]}):a.jsx("div",{children:a.jsx("p",{className:"text-muted small mb-0",children:"Certificate is not yet available for this event."})})]})}),a.jsx("div",{className:"widget widget_banner",style:{backgroundImage:"url('/assets/img/bg/widget_banner.jpg')"},children:a.jsxs("div",{className:"widget-banner position-relative text-center",children:[a.jsx("span",{className:"icon",children:a.jsx("i",{className:"fa-solid fa-headset"})}),a.jsx("span",{className:"text",children:"Need Help?"}),a.jsx("div",{className:" mb-3 text-white",children:a.jsx("small",{children:"If you have any issues accessing the event or questions about your ticket, please contact our support team."})}),a.jsxs(i,{href:"/contact",className:"th-btn style6 th-radius",children:["Get Support"," ",a.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})})]})]})]})}export{n as default};
