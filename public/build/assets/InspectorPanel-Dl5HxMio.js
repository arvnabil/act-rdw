import{d as e,j as t}from"./vendor-BBKuPPxj.js";import{S as s}from"./RepeaterEditor-dbUBtxK0.js";import{s as r}from"./sectionRegistry-B-J6StnV.js";import"./NewsSection-DRZ_cK_x.js";import"./NewsSection-qKqV2NhK.js";import"./SectionTitle-DxOvmHsV.js";import"./ClientSection-BjQre1it.js";import"./VisionMissionSection-BmJT9i9o.js";function a({section:a,onUpdate:i,isOpen:l,onToggle:n,onClose:c}){var o;const[d,x]=e.useState(""),[m,f]=e.useState(null),[g,h]=e.useState(!0),u=a?r[a.section_key]:null,b=null==u?void 0:u.schema;if(e.useEffect(()=>{a&&(x(JSON.stringify(a.config||{},null,2)),f(null))},[null==a?void 0:a.id]),!l)return t.jsx("div",{className:"w-10 bg-white border-l border-gray-200 h-full flex flex-col shrink-0 z-20 shadow-sm items-center py-4",children:t.jsx("button",{onClick:n,className:"w-8 h-8 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Expand Inspector",children:t.jsx("i",{className:"fa-solid fa-sidebar-flip"})})});if(!a)return t.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 h-full flex flex-col shrink-0 z-20 shadow-sm transition-all duration-300",children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Properties"}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:t.jsx("i",{className:"fa-solid fa-angles-right"})})]}),t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4",children:t.jsx("i",{className:"fa-regular fa-hand-pointer text-2xl text-gray-300"})}),t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No Section Selected"}),t.jsx("p",{className:"text-xs mt-1",children:"Select a section in the canvas or sidebar to edit its properties."})]})]});return t.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 h-full overflow-y-auto shrink-0 flex flex-col z-20 shadow-sm transition-all duration-300",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Properties"}),t.jsx("div",{className:"text-base font-bold text-gray-800 capitalize truncate w-40",title:a.section_key,children:(null==u?void 0:u.label)||(null==(o=a.section_key)?void 0:o.replace(/_/g," "))})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:c,className:"w-7 h-7 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Deselect",children:t.jsx("i",{className:"fa-solid fa-times"})}),t.jsx("button",{onClick:n,className:"w-7 h-7 rounded hover:bg-gray-100 flex items-center justify-center text-gray-400 transition",title:"Collapse",children:t.jsx("i",{className:"fa-solid fa-angles-right"})})]})]}),b&&t.jsxs("div",{className:"flex bg-gray-100 p-1 rounded text-xs font-medium",children:[t.jsx("button",{onClick:()=>h(!0),className:"flex-1 py-1 rounded transition ".concat(g?"bg-white shadow text-act-primary":"text-gray-500 hover:text-gray-700"),children:"Visual"}),t.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-1 rounded transition ".concat(g?"text-gray-500 hover:text-gray-700":"bg-white shadow text-act-primary"),children:"Code (JSON)"})]})]}),t.jsxs("div",{className:"p-4 flex-1",children:[g&&b?t.jsx(s,{schema:b,data:a.config||{},onChange:e=>{i({...a,config:e}),x(JSON.stringify(e,null,2))}}):t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Configuration (JSON)"}),m&&t.jsx("span",{className:"text-xs text-red-500",children:"Invalid JSON"})]}),t.jsx("textarea",{value:d,onChange:e=>{const t=e.target.value;x(t);try{const e=JSON.parse(t);f(null),i({...a,config:e})}catch(s){f(s.message)}},className:"w-full h-96 text-xs font-mono p-3 bg-gray-50 border rounded-lg focus:ring-2 focus:ring-act-primary focus:border-act-primary outline-none resize-none ".concat(m?"border-red-300 bg-red-50":"border-gray-200"),spellCheck:"false"}),t.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Directly editing the configuration JSON."})]}),!b&&!g&&t.jsx("div",{className:"mb-6 p-3 bg-blue-50 border border-blue-100 rounded text-xs text-blue-700",children:"No visual schema available for this section. Using JSON editor."}),t.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[t.jsx("input",{type:"checkbox",checked:!1!==a.is_active,onChange:e=>i({...a,is_active:e.target.checked}),className:"rounded border-gray-300 text-act-primary focus:ring-act-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section Active"})]})})]})]})}export{a as default};
