import{c as x,r,j as e,H as u,L as o,b as f}from"./app-8jlO-GOR.js";import b from"./Layout-CgKqYdgO.js";import{T as j}from"./Toast-BZmhIwvk.js";/* empty css            */import"./MainLayout-B_NMIF89.js";import"./effect-fade-Cql-zif5.js";import"./index-BsxvijQw.js";import"./SimpleBreadcrumb-Cmo_VdNj.js";function E({auth:g,event:s,registration:p,user_certificate:c}){const{flash:a}=x().props,[n,d]=r.useState(!1),[l,t]=r.useState(null);r.useEffect(()=>{if(a?.success){t({message:a.success,type:"success"});const i=setTimeout(()=>t(null),3e3);return()=>clearTimeout(i)}if(a?.error){t({message:a.error,type:"danger"});const i=setTimeout(()=>t(null),3e3);return()=>clearTimeout(i)}},[a]);const m=()=>{d(!0),f.post(route("events.certificates.claim",s.id),{},{preserveScroll:!0,onFinish:()=>d(!1),onSuccess:()=>{t({message:"Certificate claimed successfully!",type:"success"})},onError:i=>{const h=Object.values(i)[0]||"Failed to claim certificate.";t({message:h,type:"danger"})}})};return e.jsxs(b,{children:[e.jsx(u,{title:`Room: ${s.title}`}),e.jsx(j,{show:!!l,message:l?.message,type:l?.type,onClose:()=>t(null)}),e.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:e.jsxs("div",{children:[e.jsxs(o,{href:route("events.my-events"),className:"text-muted text-decoration-none mb-2 d-inline-block small",children:[e.jsx("i",{className:"fa-solid fa-arrow-left me-1"})," Back to My Events"]}),e.jsx("h2",{className:"fw-bold fs-3 mb-1",children:s.title}),e.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2",children:[e.jsx("i",{className:"fa-solid fa-check-circle me-1"})," Access Granted"]})]})}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-lg-8",children:e.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[e.jsx("div",{className:"card-header bg-theme text-white border-0 p-4",children:e.jsxs("h5",{className:"fw-bold mb-0 text-white",children:[e.jsx("i",{className:"fa-solid fa-video me-2"})," Live Session"]})}),e.jsx("div",{className:"card-body p-5 text-center",children:s.meeting_link?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:e.jsx("i",{className:"fa-solid fa-video fs-1 text-theme"})}),e.jsx("h4",{className:"fw-bold",children:"The Event is Live!"}),e.jsx("p",{className:"text-muted",children:"Click the button below to join the meeting room."})]}),e.jsxs("a",{href:s.meeting_link,target:"_blank",rel:"noreferrer",className:"btn th-btn th-radius px-5",children:[e.jsx("i",{className:"fa-solid fa-external-link-alt me-2"})," ","Join Meeting Now"]}),e.jsx("p",{className:"mt-3 small text-muted",children:"Please ensure you have Zoom/Meet installed."})]}):e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:e.jsx("i",{className:"fa-solid fa-hourglass-start fs-1 text-muted opacity-50"})}),e.jsx("h5",{className:"fw-bold text-muted",children:"Meeting Link Not Available Yet"}),e.jsx("p",{className:"text-muted mb-0",children:"The link will be available here once the event starts or is configured by the organizer."})]})})]})}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[e.jsx("div",{className:"icon-box bg-warning bg-opacity-10 text-warning rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:e.jsx("i",{className:"fa-solid fa-award text-white"})}),e.jsx("h6",{className:"fw-bold mb-0",children:"Certificate"})]}),c?e.jsxs("div",{children:[e.jsx("p",{className:"text-muted small mb-3",children:"Your certificate is ready for download."}),e.jsxs("a",{href:`/storage/${c.file_path}`,target:"_blank",className:"th-btn style4 w-100 rounded-pill fw-bold dashed-border text-center text-decoration-none",children:[e.jsx("i",{className:"fa-solid fa-download me-2"})," ","Open Certificate"]})]}):s.is_certificate_available&&s.has_certificate_template?e.jsxs("div",{children:[e.jsx("p",{className:"text-muted small mb-3",children:"You are eligible to claim your certificate."}),e.jsx("button",{onClick:m,disabled:n,className:"th-btn w-100 rounded-pill fw-bold",children:n?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Claiming..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-award me-2"})," ","Claim Certificate"]})})]}):e.jsx("div",{children:e.jsx("p",{className:"text-muted small mb-0",children:"Certificate is not yet available for this event."})})]})}),e.jsx("div",{className:"widget widget_banner",style:{backgroundImage:"url('/assets/img/bg/widget_banner.jpg')"},children:e.jsxs("div",{className:"widget-banner position-relative text-center",children:[e.jsx("span",{className:"icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("span",{className:"text",children:"Need Help?"}),e.jsx("div",{className:" mb-3 text-white",children:e.jsx("small",{children:"If you have any issues accessing the event or questions about your ticket, please contact our support team."})}),e.jsxs(o,{href:"/contact",className:"th-btn style6 th-radius",children:["Get Support"," ",e.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})})]})]})]})}export{E as default};
