import{e,d as t,H as a,f as n}from"./vendor-ubghyaFe.js";import{T as s}from"./Toast-CF1RxUi9.js";function o({element:a,isSelected:n,onMouseDown:s,onDrag:o,onResize:l,onDragStop:r,onDelete:i,previewData:c={}}){const d=e.useRef(null),[x,m]=e.useState(!1),[h,p]=e.useState(!1),[u,b]=e.useState({x:0,y:0}),[f,g]=e.useState(null);e.useEffect(()=>{const e=e=>{if(x){const t=e.clientX-u.x,a=e.clientY-u.y;o&&o(t,a),b({x:e.clientX,y:e.clientY})}if(h&&f){const t=e.clientX-u.x,n=e.clientY-u.y;l&&l(a.id,t,n,f),b({x:e.clientX,y:e.clientY})}},t=()=>{(x||h)&&(m(!1),p(!1),g(null),r&&r())};return(x||h)&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[x,h,u,f,o,l,r,a.id]);return t.jsxs("div",{ref:d,className:"position-absolute group ".concat(n?"ring-2 ring-purple-500 ring-offset-2 z-50":"hover:ring-1 hover:ring-purple-300 z-10"),style:{left:"".concat(a.x,"%"),top:"".concat(a.y,"%"),width:a.width?"number"==typeof a.width?"".concat(a.width,"px"):a.width:"auto",height:a.height?"number"==typeof a.height?"".concat(a.height,"px"):a.height:"auto",minWidth:"image"===a.type?"50px":"auto",minHeight:"image"===a.type?"50px":"auto",touchAction:"none",cursor:x?"grabbing":"grab",transform:"translate(-50%, -50%)"},onMouseDown:e=>{h||(e.stopPropagation(),s&&s(e),m(!0),b({x:e.clientX,y:e.clientY}))},children:[(()=>{const e={width:"100%",height:"100%",display:"block",pointerEvents:"none"};switch(a.type){case"image":return t.jsx("img",{src:a.src||a.url,alt:"Element",style:{...e,objectFit:"contain"},draggable:!1});case"qrcode":return t.jsx("div",{style:{...e,backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #ccc"},children:t.jsx("i",{className:"fas fa-qrcode text-4xl text-gray-400"})});case"text":case"variable":return t.jsx("div",{style:{...e,fontFamily:a.fontFamily,fontSize:"".concat(a.fontSize,"px"),fontWeight:a.fontWeight,color:a.color,textAlign:a.textAlign,lineHeight:1.2,whiteSpace:"pre-wrap"},children:"variable"===a.type?c[a.text]||"{".concat(a.text,"}"):a.text});case"shape":return t.jsx("div",{style:{...e,backgroundColor:a.color,borderRadius:"circle"===a.shapeType?"50%":"0"}});default:return null}})(),n&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"absolute -top-3 -right-3 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-md hover:bg-red-600 hover:scale-110 transition-all z-50 cursor-pointer",onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),i&&i(a.id)},title:"Delete Element",children:t.jsx("i",{className:"fas fa-times text-xs"})}),["nw","ne","sw","se"].map(e=>t.jsx("div",{className:"absolute w-3 h-3 bg-white border-2 border-purple-500 rounded-full z-40\n                                ".concat("nw"===e?"-top-1.5 -left-1.5 cursor-nw-resize":"","\n                                ").concat("ne"===e?"-top-1.5 -right-1.5 cursor-ne-resize":"","\n                                ").concat("sw"===e?"-bottom-1.5 -left-1.5 cursor-sw-resize":"","\n                                ").concat("se"===e?"-bottom-1.5 -right-1.5 cursor-se-resize":"","\n                            "),onMouseDown:t=>((e,t)=>{e.stopPropagation(),p(!0),g(t),b({x:e.clientX,y:e.clientY})})(t,e)},e))]})]})}function l({type:a,zoom:n,offset:s=0,theme:o,onDragStart:l}){const r=e.useRef(null),i={bg:(null==o?void 0:o.bg)||"#f1f5f9",borderColor:(null==o?void 0:o.borderColor)||"#cbd5e1",tickColor:(null==o?void 0:o.tickColor)||"#94a3b8",textColor:(null==o?void 0:o.textColor)||"#64748b"};return e.useEffect(()=>{const e=r.current;if(!e)return;const t=e.getContext("2d"),o=window.devicePixelRatio||1,l=e.offsetWidth,c=e.offsetHeight;if(e.width=l*o,e.height=c*o,t.scale(o,o),t.fillStyle=i.bg,t.fillRect(0,0,l,c),t.strokeStyle=i.borderColor,t.lineWidth=1,t.fillStyle=i.textColor,t.font="10px sans-serif",t.strokeStyle=i.tickColor,"horizontal"===a){t.textAlign="left",t.textBaseline="top",t.beginPath(),t.moveTo(0,c),t.lineTo(l,c),t.stroke();const e=50*n,a=-s%e;for(let o=a;o<l;o+=10*n){const l=Math.round((o-a+s%e+s)/(10*n))%5==0;if(t.beginPath(),t.moveTo(o,c),t.lineTo(o,c-(l?12:6)),t.stroke(),l){const e=Math.round((o+s)/n);e>=0&&t.fillText(e.toString(),o+2,2)}}}else{t.textAlign="center",t.textBaseline="middle",t.beginPath(),t.moveTo(l,0),t.lineTo(l,c),t.stroke();for(let e=-s%(50*n);e<c;e+=10*n){const a=(e+s)/n,o=Math.abs(a%50)<1;if(t.beginPath(),t.moveTo(l,e),t.lineTo(l-(o?12:6),e),t.stroke(),o){const n=Math.round(a);t.save(),t.translate(l-14,e),t.rotate(-Math.PI/2),t.fillText(n.toString(),0,0),t.restore()}}}},[n,s,a,i]),t.jsx("canvas",{ref:r,className:"ruler ".concat(a),style:{height:"horizontal"===a?"24px":"100%",width:"vertical"===a?"24px":"100%",display:"block",cursor:"horizontal"===a?"row-resize":"col-resize"},onMouseDown:e=>l&&l("horizontal"===a?"y":"x",e)})}function r({show:a,onClose:n,files:s=[],onSelect:o,onUpload:l,onDelete:r,onRename:i}){const[c,d]=e.useState(!1),x=e.useRef(null);if(!a)return null;const m=()=>{x.current&&x.current.click()};return t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:n,children:t.jsxs("div",{className:"bg-white w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-fade-in-up relative font-sans",onClick:e=>e.stopPropagation(),onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),d(!0)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||d(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&l&&Array.from(e.dataTransfer.files).forEach(e=>l(e))},children:[c&&t.jsxs("div",{className:"absolute inset-0 z-50 bg-purple-50/95 flex flex-col items-center justify-center border-4 border-dashed border-purple-400 m-4 rounded-xl transition-all",children:[t.jsx("i",{className:"fas fa-cloud-upload-alt text-6xl text-purple-600 mb-4 animate-bounce"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Drop files to upload"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Release to upload instantly"})]}),t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 bg-white",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Media Library"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.length," items â€¢ Drag & Drop supported"]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>{e.target.files&&l&&Array.from(e.target.files).forEach(e=>l(e)),e.target.value=null}}),t.jsxs("button",{onClick:m,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full flex items-center gap-2 transition-all shadow-md hover:shadow-lg font-medium text-sm transform active:scale-95",children:[t.jsx("i",{className:"fas fa-cloud-upload-alt"}),"Upload Media"]}),t.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors cursor-pointer",children:t.jsx("i",{className:"fas fa-times text-xl"})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:0===s.length?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center border border-dashed border-gray-300 rounded-xl bg-white m-4",children:[t.jsx("div",{className:"w-20 h-20 bg-purple-50 rounded-full flex items-center justify-center mb-6",children:t.jsx("i",{className:"fas fa-images text-4xl text-purple-400"})}),t.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No media files"}),t.jsx("p",{className:"text-gray-500 mb-6 max-w-sm text-center",children:"Upload images to use them. Drag and drop works too!"}),t.jsx("button",{onClick:m,className:"px-6 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-full font-medium transition-all shadow-md hover:shadow-lg transform active:scale-95",children:"Select Files"})]}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:s.map((e,a)=>t.jsxs("div",{className:"group relative aspect-square bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-purple-300 transition-all overflow-hidden cursor-pointer",onClick:()=>!e.uploading&&o([e]),children:[t.jsx("div",{className:"w-full h-full p-2 flex items-center justify-center bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0wIDBMODCA4Wk04IDBMMCA4WiIgc3Ryb2tlPSIjZjNmNGY2IiBzdHJva2Utd2lkdGg9IjEiLz4KPC9zdmc+')]",children:t.jsx("img",{src:e.url,alt:e.name,className:"max-w-full max-h-full object-contain ".concat(e.uploading?"opacity-50 blur-sm":"")})}),e.uploading&&t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/40 z-10 p-2",children:[t.jsx("div",{className:"w-full max-w-[80%] bg-white/50 rounded-full h-1.5 mb-1 overflow-hidden",children:t.jsx("div",{className:"bg-purple-500 h-full transition-all duration-200 ease-out",style:{width:"".concat(e.progress||0,"%")}})}),t.jsxs("span",{className:"text-white text-[9px] font-bold drop-shadow",children:[Math.round(e.progress||0),"%"]})]}),!e.uploading&&t.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex items-end justify-between",children:[t.jsx("span",{className:"text-white text-[11px] truncate max-w-[70%] font-medium",children:e.name}),t.jsx("button",{onClick:t=>{t.stopPropagation(),confirm("Delete this file?")&&r(e.path)},className:"text-white/80 hover:text-red-400 transition-colors",title:"Delete",children:t.jsx("i",{className:"fas fa-trash-alt text-xs"})})]})]},e.id||a))})})]})})}function i({certificate:i,event:c}){const d=i.content_layout||{},x=Array.isArray(d),[m,h]=e.useState(x?d:d.elements||[]),[p,u]=e.useState(!x&&d.canvas?d.canvas:{width:1056,height:816}),[b,f]=e.useState(!x&&d.background?d.background:{x:0,y:0,scale:1}),[g,y]=e.useState(i.certificate_background),[v,w]=e.useState(!1),j=e.useRef(m);j.current=m;const[N,k]=e.useState(new Set),[C,S]=e.useState(!1),[z,M]=e.useState(1),[D,P]=e.useState(!1),[I,E]=e.useState({x:null,y:null}),[T,A]=e.useState(!0),[L,R]=e.useState(!0),[B,W]=e.useState([]),[F,Y]=e.useState(!1),G=()=>{fetch(route("events.certificates.get-media",i.id)).then(e=>e.json()).then(e=>W(e)).catch(e=>console.error("Failed to load media",e))};e.useEffect(()=>{G()},[]);const H=e.useRef(null),O=e.useRef(null),[X,U]=e.useState([i.content_layout||[]]),[_,q]=e.useState([]),Z=()=>{if(X.length>1){const e=X[X.length-1],t=X[X.length-2];q(t=>[e,...t]),U(e=>e.slice(0,-1)),h(t)}},V=(e,t=!0)=>{h(e),t&&(e=>{U(t=>{const a=t[t.length-1];return JSON.stringify(a)===JSON.stringify(e)?t:[...t,e]}),q([])})(e)},J=e.useMemo(()=>0===N.size?null:[...N][N.size-1],[N]),K=m.find(e=>e.id===J),[Q,$]=e.useState([]),[ee,te]=e.useState(null),[ae,ne]=e.useState({enabled:!1,columns:12,margin:40,gutter:20,color:"#FF0000",opacity:.1}),[se,oe]=e.useState(!1),[le,re]=e.useState(null);e.useEffect(()=>{document.createElement("link")},[]);const ie=e.useMemo(()=>({participant_name:"John Doe",event_title:c.title||"Event Title",date:(new Date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),certificate_code:"CERT-SAMPLE-123"}),[c.title]);e.useEffect(()=>{const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Bebas+Neue&family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&family=Great+Vibes&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;600&family=Open+Sans:wght@400;600&family=Pinyon+Script&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap",e.rel="stylesheet",document.head.appendChild(e);const t=()=>E({x:null,y:null});window.addEventListener("mouseup",t);const a=e=>{te(t=>{if(!t)return null;if(!H.current)return t;const a=H.current.getBoundingClientRect();let n=0;return n="horizontal"===t.type?(e.clientY-a.top)/z:(e.clientX-a.left)/z,{...t,currentPos:n}})},n=e=>{te(e=>{if(!e)return null;const t=e.currentPos<-20;return $(a=>{const n=[...a];return void 0!==e.index&&-1!==e.index?(t?n.splice(e.index,1):n[e.index]={...n[e.index],pos:e.currentPos},n):t?a:[...a,{type:"horizontal"===e.type?"y":"x",pos:e.currentPos}]}),null})};return window.addEventListener("mousemove",a),window.addEventListener("mouseup",n),()=>{document.head.removeChild(e),window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",n)}},[z]);const ce=(e,t,a=-1)=>{if(t.preventDefault(),t.stopPropagation(),!H.current)return;const n=H.current.getBoundingClientRect();let s=e;"y"===e&&(s="horizontal"),"x"===e&&(s="vertical");let o=0;o="horizontal"===s?(t.clientY-n.top)/z:(t.clientX-n.left)/z,te({type:s,currentPos:o,index:a})},de=(e,t)=>{ce(e,t,-1)},xe=e=>{const t=(Array.isArray(e)?e:[e]).map(e=>{const t=e.type,a={id:Date.now()+Math.random(),type:t,x:50+20*Math.random(),y:50+20*Math.random(),...e};return"text"===t||"variable"===t?(a.text=e.text||"New Text",a.fontSize=28,a.color="#1e293b",a.fontWeight="normal",a.fontFamily="'Montserrat', sans-serif",a.textAlign="center"):"qrcode"===t?a.width=100:"shape"===t?(a.width=150,a.height=100,a.color="#0f172a",a.shapeType=e.shapeType||"rectangle"):"line"===t?(a.width=300,a.height=3,a.color="#000000"):"signature"!==t&&"image"!==t||(a.width=200,a.src=e.src||""),a});V([...m,...t]),k(new Set(t.map(e=>e.id)))},me=(e,t={})=>{xe([{type:e,...t}])};e.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"z"===e.key&&(e.preventDefault(),Z())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Z]);const he=e=>{const t=m.map(t=>N.has(t.id)?{...t,...e}:t);V(t)},pe=e=>{const t=m.filter(t=>t.id!==e);V(t);const a=new Set(N);a.delete(e),k(a)},ue=(e,t)=>{if(!H.current||!O.current)return;const a=H.current.getBoundingClientRect(),n=100/a.width,s=100/a.height,o=e*n,l=t*s;h(e=>e.map(e=>N.has(e.id)?{...e,x:Math.max(0,Math.min(100,e.x+o)),y:Math.max(0,Math.min(100,e.y+l))}:e))},be=(e,t,a,n)=>{if(!H.current)return;const s=H.current.getBoundingClientRect(),o=100/s.width,l=100/s.height;h(s=>s.map(s=>{if(s.id!==e)return s;const r=t/z,i=a/z;let c=s.width||100,d=s.height||100,x=s.x,m=s.y;const h=t/z*o,p=a/z*l;return n.includes("e")&&(c+=r),n.includes("w")&&(c-=r,x+=h),n.includes("s")&&(d+=i),n.includes("n")&&(d-=i,m+=p),{...s,x:x,y:m,width:Math.max(10,c),height:Math.max(10,d)}}))},fe=L?{bgApp:"bg-[#0f172a]",bgPanel:"bg-[#1e293b]",bgInput:"bg-[#1e293b]",border:"border-slate-700",textMain:"text-[#e1e4e5]",textMuted:"text-slate-400",glassHdr:"glass-panel-dark",glassSide:"glass-panel-dark",highlight:"text-info",grid:"grid-bg-dark"}:{bgApp:"bg-slate-50",bgPanel:"bg-white",bgInput:"bg-white",border:"border-slate-200",textMain:"text-slate-700",textMuted:"text-slate-500",glassHdr:"glass-panel-light",glassSide:"glass-panel-light",highlight:"text-success",grid:"grid-bg-light"};return t.jsxs("div",{className:"d-flex flex-column vh-100 ".concat(fe.bgApp," ").concat(fe.textMain," transition-colors duration-300"),style:{fontFamily:"'Inter', sans-serif"},children:[t.jsx(a,{title:"Designer - ".concat(c.title)}),t.jsx("style",{children:"\n                /* Transition for smooth theme switch */\n                .transition-colors { transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; }\n\n                ::-webkit-scrollbar { width: 6px; height: 6px; }\n                ::-webkit-scrollbar-track { background: transparent; }\n                ::-webkit-scrollbar-thumb { background: ".concat(L?"#334155":"#cbd5e1","; border-radius: 3px; }\n\n                .glass-panel-dark {\n                    background: rgba(30, 41, 59, 0.95); /* More opaque for professional look */\n                    backdrop-filter: blur(12px);\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                }\n                .glass-panel-light {\n                    background: rgba(255, 255, 255, 0.95);\n                    backdrop-filter: blur(12px);\n                    border: 1px solid rgba(0, 0, 0, 0.05);\n                }\n\n                .grid-bg-dark {\n                    background-image: radial-gradient(rgba(51, 65, 85, 0.4) 1px, transparent 1px);\n                    background-size: 24px 24px;\n                }\n                .grid-bg-light {\n                    background-image: radial-gradient(rgba(148, 163, 184, 0.4) 1px, transparent 1px);\n                    background-size: 24px 24px;\n                }\n\n                .btn-tech {\n                    background: linear-gradient(135deg, ").concat(L?"#06b6d4":"#3b82f6"," 0%, ").concat(L?"#3b82f6":"#2563eb"," 100%);\n                    color: white; border: none;\n                    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);\n                    transition: all 0.2s;\n                }\n                .btn-tech:hover { transform: translateY(-1px); box-shadow: 0 8px 10px -2px rgba(59, 130, 246, 0.4); }\n\n                /* Sidebar Buttons */\n                .sidebar-btn {\n                    transition: all 0.2s;\n                    border: 1px solid #dee2e6;\n                    color: ").concat(L?"#e1e4e5":"#334155",";\n                    background: ").concat(L?"rgba(255, 255, 255, 0.05)":"transparent",";\n                }\n                .sidebar-btn:hover {\n                    background: ").concat(L?"rgba(255, 255, 255, 0.1)":"#f1f5f9","; /* Theme color hover */\n                    border-color: ").concat(fe.border,';\n                    transform: translateX(2px);\n                }\n\n                /* Upload Button */\n                .btn-upload {\n                    background: white; color: #333; border: 1px solid #ddd; transition: all 0.3s;\n                }\n                .btn-upload:hover {\n                    background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);\n                    color: white; border-color: transparent;\n                }\n\n                /* Inputs - "Proper" Style */\n                .form-control-proper {\n                    border-radius: 4px; /* Less rounded */\n                    border: 1px solid ').concat(L?"#475569":"#cbd5e1",";\n                    background-color: ").concat(L?"#0f172a":"#fff","; /* Input distinct bg */\n                    color: ").concat(L?"#fff":"#333",";\n                    padding: 0.375rem 0.75rem;\n                    margin-bottom: 1rem;\n                    font-size: 0.875rem;\n                }\n                .form-control-proper:focus {\n                    border-color: #06b6d4;\n                    color: ").concat(L?"#333":"#000",";\n                    box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.2);\n                    outline: none;\n                }\n                .form-control-proper:hover {\n                    color: ").concat(L?"#333":"#000",";\n                }\n\n                .form-select-proper {\n                    margin-bottom: 1rem;\n                    border-radius: 4px;\n                    border: 1px solid ").concat(L?"#475569":"#cbd5e1",";\n                    background-color: ").concat(L?"#0f172a":"#fff",";\n                    color: ").concat(L?"#fff":"#333",";\n                    padding: 0.375rem 2rem 0.375rem 0.75rem;\n                    font-size: 0.875rem;\n                }\n            ")}),t.jsxs("header",{className:"px-4 py-3 d-flex justify-content-between align-items-center shadow-sm position-relative ".concat(fe.glassHdr," border-bottom ").concat(fe.border),style:{zIndex:100},children:[t.jsxs("div",{className:"d-flex align-items-center gap-3",children:[t.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ".concat(L?"bg-slate-800 text-white":"bg-slate-100 text-dark"),onClick:()=>window.close(),style:{width:36,height:36},children:t.jsx("i",{className:"fas fa-chevron-left"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"fw-bold ls-1 ".concat(L?"text-white":"text-dark"),style:{fontSize:"1.1rem"},children:["CERTIFICATE"," ",t.jsx("span",{className:fe.highlight,children:"STUDIO"})]}),t.jsx("div",{className:"text-xs ".concat(L?"text-white":"text-dark"," fw-medium"),children:c.title})]})]}),t.jsxs("div",{className:"d-flex align-items-center gap-3",children:[t.jsx("button",{className:"btn btn-sm rounded-circle d-flex align-items-center justify-content-center border-0 ".concat(L?"bg-slate-800 text-warning":"bg-slate-200 text-slate-600"),onClick:()=>R(!L),style:{width:32,height:32},children:t.jsx("i",{className:"fas ".concat(L?"fa-sun":"fa-moon")})}),t.jsxs("div",{className:"d-flex align-items-center rounded-pill p-1 border ".concat(fe.border," ").concat(fe.bgInput),children:[t.jsx("button",{className:"btn btn-sm ".concat(L?"text-white":"text-slate-600"," hover-text-primary"),onClick:()=>M(e=>Math.max(.4,e-.1)),children:t.jsx("i",{className:"fas fa-minus"})}),t.jsxs("span",{className:"small px-2 fw-medium ".concat(L?"text-white":"text-slate-800"),style:{minWidth:40,textAlign:"center"},children:[Math.round(100*z),"%"]}),t.jsx("button",{className:"btn btn-sm ".concat(L?"text-white":"text-slate-600"," hover-text-primary"),onClick:()=>M(e=>Math.min(2.5,e+.1)),children:t.jsx("i",{className:"fas fa-plus"})})]}),t.jsx("div",{className:"h-50 border-end ".concat(fe.border," mx-1")}),t.jsxs("div",{className:"d-flex align-items-center rounded-pill px-2 border ".concat(fe.border," me-2 ").concat(fe.bgInput),children:[t.jsx("button",{className:"btn btn-sm ".concat(L?"text-white":"text-slate-600"),onClick:()=>{const e=p.width,t=p.height;$([{type:"x",pos:e/2},{type:"y",pos:t/2}])},title:"Add Center Guides (2x2)",children:t.jsx("i",{className:"fas fa-border-all"})}),t.jsx("button",{className:"btn btn-sm ".concat(L?"text-white":"text-slate-600"),onClick:()=>{const e=p.width,t=p.height;$([{type:"x",pos:e/3},{type:"x",pos:e/3*2},{type:"y",pos:t/3},{type:"y",pos:t/3*2}])},title:"Add Thirds Guides (3x3)",children:t.jsx("i",{className:"fas fa-th"})}),t.jsx("button",{className:"btn btn-sm text-danger",onClick:()=>$([]),title:"Clear All Guides",children:t.jsx("i",{className:"fas fa-trash-alt"})})]}),t.jsxs("div",{className:"position-relative me-2",children:[t.jsxs("button",{className:"btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 ".concat(ae.enabled?"bg-primary text-white border-primary":L?"text-white border-slate-600 bg-slate-800":"text-slate-600 border-slate-300 bg-white"),onClick:()=>oe(!se),title:"Configure Layout Columns",children:[t.jsx("i",{className:"fas fa-columns"}),t.jsx("span",{className:"d-none d-md-inline small",children:"Columns"})]}),se&&t.jsxs("div",{className:"position-absolute top-100 end-0 mt-2 p-3 rounded shadow-lg",onClick:e=>e.stopPropagation(),style:{width:"280px",zIndex:2e3,backgroundColor:L?"#1e293b":"#ffffff",borderColor:L?"#334155":"#e2e8f0",borderWidth:"1px",borderStyle:"solid"},children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("span",{className:"fw-bold text-sm ".concat(L?"text-white":"text-slate-800"),children:"Layout Grid"}),t.jsxs("div",{className:"form-check form-switch m-0 d-flex align-items-center",children:[t.jsx("input",{className:"form-check-input mt-0",type:"checkbox",checked:ae.enabled,onChange:e=>ne(t=>({...t,enabled:e.target.checked})),id:"gridToggle",style:{cursor:"pointer",width:"2.5rem",height:"1.25rem",border:"2px solid rgba(255,255,255,0.2)",backgroundColor:ae.enabled?"#ef4444":"#64748b",backgroundImage:"none"}}),t.jsx("label",{className:"form-check-label ms-2 cursor-pointer small text-muted",htmlFor:"gridToggle",children:ae.enabled?"On":"Off"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{className:"text-xs fw-semibold d-block mb-1 ".concat(L?"text-slate-400":"text-slate-500"),children:"Columns (Count)"}),t.jsx("input",{type:"number",className:"form-control form-control-sm",value:ae.columns,onChange:e=>{const t=parseInt(e.target.value);ne(e=>({...e,enabled:!0,columns:isNaN(t)?"":Math.max(1,Math.min(24,t))}))},min:"1",max:"24",style:{height:"32px",fontSize:"14px"}})]}),t.jsxs("div",{className:"row g-2 mb-3",children:[t.jsxs("div",{className:"col-6",children:[t.jsx("label",{className:"text-xs fw-semibold d-block mb-1 ".concat(L?"text-slate-400":"text-slate-500"),children:"Margin (px)"}),t.jsx("input",{type:"number",className:"form-control form-control-sm",value:ae.margin,onChange:e=>{const t=parseInt(e.target.value);ne(e=>({...e,enabled:!0,margin:isNaN(t)?"":Math.max(0,t)}))},style:{height:"32px",fontSize:"14px"}})]}),t.jsxs("div",{className:"col-6",children:[t.jsx("label",{className:"text-xs fw-semibold d-block mb-1 ".concat(L?"text-slate-400":"text-slate-500"),children:"Gutter (px)"}),t.jsx("input",{type:"number",className:"form-control form-control-sm",value:ae.gutter,onChange:e=>{const t=parseInt(e.target.value);ne(e=>({...e,enabled:!0,gutter:isNaN(t)?"":Math.max(0,t)}))},style:{height:"32px",fontSize:"14px"}})]})]}),t.jsxs("div",{className:"mb-1",children:[t.jsxs("div",{className:"d-flex justify-content-between font-sm mb-1",children:[t.jsx("label",{className:"text-xs fw-semibold ".concat(L?"text-slate-400":"text-slate-500"),children:"Opacity"}),t.jsxs("span",{className:"text-xs ".concat(L?"text-slate-400":"text-slate-500"),children:[Math.round(100*ae.opacity),"%"]})]}),t.jsx("input",{type:"range",className:"form-range w-100",min:"0.05",max:"0.5",step:"0.05",value:ae.opacity,onChange:e=>ne(t=>({...t,enabled:!0,opacity:parseFloat(e.target.value)})),style:{accentColor:"#ef4444"}})]})]})]}),t.jsx("div",{className:"h-100 mx-3 border-end border-secondary opacity-25"}),t.jsxs("div",{className:"d-flex align-items-center gap-2 me-2",children:[t.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ".concat(L?"bg-slate-800 text-white":"bg-slate-200 text-dark"),onClick:Z,disabled:X.length<=1,style:{width:32,height:32},title:"Undo (Ctrl+Z)",children:t.jsx("i",{className:"fas fa-undo"})}),t.jsx("button",{className:"btn btn-sm rounded-circle border-0 d-flex align-items-center justify-content-center ".concat(L?"bg-slate-800 text-white":"bg-slate-200 text-dark"),onClick:()=>{if(_.length>0){const e=_[0];U(t=>[...t,e]),q(e=>e.slice(1)),h(e)}},disabled:0===_.length,style:{width:32,height:32},title:"Redo (Ctrl+Y)",children:t.jsx("i",{className:"fas fa-redo"})})]}),t.jsx("button",{className:"btn btn-sm border rounded-pill px-3 d-flex align-items-center gap-2 ".concat(T?"bg-slate-100 text-slate-700":"bg-slate-800 text-white"),onClick:()=>A(!T),title:T?"Collapse Sidebar":"Expand Sidebar",children:t.jsx("i",{className:"fas fa-".concat(T?"chevron-right":"chevron-left"),style:{color:L?"#fff":"#000"}})}),t.jsxs("button",{className:"btn btn-tech rounded-pill px-4 fw-medium d-flex align-items-center gap-2",onClick:()=>{S(!0),n.post(route("events.certificates.update-design",i.id),{content_layout:{elements:m,canvas:p,background:b},image_files:B,certificate_background:g},{onFinish:()=>S(!1),preserveScroll:!0,onSuccess:()=>{re({message:"Design saved successfully!",type:"success"})},onError:e=>{console.error("Save failed:",e);const t=Object.values(e)[0];re({message:"Failed: ".concat(t||"Check console"),type:"error"})}})},disabled:C,children:[C?t.jsx("i",{className:"fas fa-circle-notch fa-spin"}):t.jsx("i",{className:"fas fa-save"}),t.jsx("span",{children:"Save"})]})]})]}),t.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[t.jsxs("aside",{className:"d-flex flex-column ".concat(fe.glassSide," border-end ").concat(fe.border," overflow-auto"),style:{width:"280px"},children:[t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"text-xs fw-bold ".concat(fe.highlight," text-uppercase ls-1 mb-3"),children:[t.jsx("i",{className:"fas fa-layer-group me-1"})," Elements"]}),t.jsxs("div",{className:"d-grid gap-2",children:[t.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>me("text"),children:[t.jsx("i",{className:"fas fa-heading fa-fw opacity-50"})," ",t.jsx("span",{children:"Headline / Text"})]}),t.jsxs("button",{className:"sidebar-btn text-start py-2 px-3 rounded-2 d-flex align-items-center gap-3",onClick:()=>me("line"),children:[t.jsx("i",{className:"fas fa-minus fa-fw opacity-50"})," ",t.jsx("span",{children:"Line Separator"})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("shape",{shapeType:"rectangle"}),children:t.jsx("i",{className:"far fa-square fa-lg"})}),t.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("shape",{shapeType:"circle"}),children:t.jsx("i",{className:"far fa-circle fa-lg"})}),t.jsx("button",{className:"sidebar-btn flex-grow-1 py-3 rounded-2",onClick:()=>me("qrcode"),children:t.jsx("i",{className:"fas fa-qrcode fa-lg"})})]})]})]}),t.jsxs("div",{className:"p-4 border-top ".concat(fe.border),children:[t.jsxs("div",{className:"text-xs fw-bold ".concat(fe.highlight," text-uppercase ls-1 mb-3"),children:[t.jsx("i",{className:"fas fa-file-alt me-1"})," Page Setup"]}),t.jsxs("div",{className:"d-flex gap-2 mb-3",children:[t.jsx("button",{className:"btn btn-sm w-50 ".concat(p.width>p.height?"btn-tech":L?"btn-outline-secondary":"btn-outline-dark"),onClick:()=>u({width:1056,height:816}),children:t.jsxs("div",{className:"d-flex flex-column align-items-center",children:[t.jsxs("span",{children:[t.jsx("i",{className:"far fa-file-image me-1"})," ","Landscape"]}),t.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"1056 x 816 px"})]})}),t.jsx("button",{className:"btn btn-sm w-50 ".concat(p.width<p.height?"btn-tech":L?"btn-outline-secondary":"btn-outline-dark"),onClick:()=>u({width:816,height:1056}),children:t.jsxs("div",{className:"d-flex flex-column align-items-center",children:[t.jsxs("span",{children:[t.jsx("i",{className:"far fa-file me-1"})," ","Portrait"]}),t.jsx("span",{className:"mt-1",style:{fontSize:"0.65rem",opacity:.8},children:"816 x 1056 px"})]})})]}),t.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[t.jsx("span",{className:"text-xs",children:"Background Edit"}),t.jsx("div",{className:"form-check form-switch",children:t.jsx("input",{className:"form-check-input",type:"checkbox",checked:v,onChange:()=>w(!v)})})]}),v&&t.jsxs("div",{className:"mb-2",children:[t.jsxs("label",{className:"text-xs text-muted mb-1",children:["Scale: ",Math.round(100*b.scale),"%"]}),t.jsx("input",{type:"range",className:"form-range",min:"0.5",max:"3",step:"0.1",value:b.scale,onChange:e=>f(t=>({...t,scale:parseFloat(e.target.value)}))})]})]}),t.jsxs("div",{className:"p-4 border-top ".concat(fe.border),children:[t.jsxs("div",{className:"text-xs fw-bold ".concat(fe.highlight," text-uppercase ls-1 mb-3"),children:[t.jsx("i",{className:"fas fa-code-branch me-1"})," ","Variables"]}),t.jsx("div",{className:"d-grid gap-2",children:["Participant Name","Event Title","Date","Certificate Code"].map((e,a)=>t.jsxs("button",{className:"sidebar-btn w-100 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>me("text",{text:"{{ ".concat(e.toLowerCase().replace(" ","_")," }}")}),children:[t.jsx("div",{className:"d-flex align-items-center justify-content-center ".concat(L?"bg-slate-700 text-slate-300":"bg-slate-200 text-dark"," me-3 rounded-1"),style:{minWidth:"40px",height:"22px",fontSize:"10px",fontWeight:"bold"},children:"VAR"}),t.jsx("span",{className:"fw-medium",children:e})]},e))})]}),t.jsx("div",{className:"p-4 border-top ".concat(fe.border," flex-grow-1"),children:t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:t.jsxs("div",{className:"text-xs fw-bold ".concat(fe.highlight," text-uppercase ls-1"),children:[t.jsx("i",{className:"fas fa-photo-film me-1"})," ","Media Files"]})}),t.jsxs("button",{className:"sidebar-btn w-100 mb-2 text-start py-2 px-3 rounded-2 small d-flex align-items-center",onClick:()=>Y(!0),children:[t.jsx("i",{className:"fas fa-images fa-lg me-2"}),t.jsx("span",{className:"fw-medium",children:"Manage Media Library"})]}),t.jsxs("div",{className:"text-xs text-center ".concat(fe.textMuted," mb-3"),children:[B.length," files available"]})]})})]}),t.jsxs("div",{className:"flex-grow-1 d-flex flex-column overflow-hidden position-relative",children:[t.jsxs("div",{className:"d-flex",style:{height:"24px",flexShrink:0,zIndex:50,background:L?"#1e293b":"#f1f5f9"},children:[t.jsx("div",{style:{width:"24px",flexShrink:0,borderRight:"1px solid ".concat(L?"#334155":"#cbd5e1"),borderBottom:"1px solid ".concat(L?"#334155":"#cbd5e1")}}),t.jsx("div",{className:"flex-grow-1 position-relative overflow-hidden",children:t.jsx(l,{type:"horizontal",zoom:z,offset:I.rulerX||0,theme:{bg:L?"#1e293b":"#f1f5f9",borderColor:L?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:L?"#94a3b8":"#64748b"},onDragStart:de})})]}),t.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden position-relative",children:[t.jsx("div",{style:{width:"24px",flexShrink:0,zIndex:50,overflow:"hidden",background:L?"#1e293b":"#f1f5f9"},children:t.jsx(l,{type:"vertical",zoom:z,offset:I.rulerY||0,theme:{bg:L?"#1e293b":"#f1f5f9",borderColor:L?"#334155":"#cbd5e1",tickColor:"#94a3b8",textColor:L?"#94a3b8":"#64748b"},onDragStart:de})}),t.jsxs("main",{className:"flex-grow-1 position-relative d-flex align-items-center justify-content-center overflow-hidden ".concat(fe.grid),id:"canvas-scroll-container",onClick:()=>k(new Set),style:{overflow:"auto"},children:[null!==I.x&&t.jsx("div",{className:"position-absolute h-100",style:{left:"".concat(I.x,"%"),width:"1px",background:L?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),null!==I.y&&t.jsx("div",{className:"position-absolute w-100",style:{top:"".concat(I.y,"%"),height:"1px",background:L?"#06b6d4":"#3b82f6",boxShadow:"0 0 8px currentColor",zIndex:100}}),ee&&t.jsx("div",{className:"position-absolute",style:{zIndex:101,pointerEvents:"none",background:"#10b981",..."horizontal"===ee.type?{left:0,right:0,top:0,height:"1px",transform:"translateY(".concat(I.rulerY+ee.currentPos*z,"px)")}:{top:0,bottom:0,left:0,width:"1px",transform:"translateX(".concat(I.rulerX+ee.currentPos*z,"px)")}},children:t.jsx("span",{className:"position-absolute bg-success text-white px-1 text-xs",style:{top:2,left:2},children:Math.round(ee.currentPos)})}),t.jsx("div",{className:"overflow-auto w-100 h-100 d-flex align-items-center justify-content-center p-5",ref:O,onScroll:()=>{if(H.current&&O.current){const e=H.current.getBoundingClientRect(),t=O.current.getBoundingClientRect();E(a=>({...a,rulerX:e.left-t.left,rulerY:e.top-t.top}))}},children:t.jsxs("div",{ref:H,className:"position-relative bg-white shadow-sm transition-all duration-300",style:{width:"".concat(p.width,"px"),height:"".concat(p.height,"px"),minWidth:"".concat(p.width,"px"),minHeight:"".concat(p.height,"px"),transform:"scale(".concat(z,")"),transformOrigin:"center center",boxShadow:L?"0 0 50px rgba(0,0,0,0.5)":"0 0 30px rgba(0,0,0,0.1)",overflow:"hidden"},onDoubleClick:e=>{var t;(e.target===H.current||(null==(t=e.target.classList)?void 0:t.contains("bg-layer")))&&(w(!v),re({message:v?"Background Locked":"Background Edit Mode: Drag to move",type:"info"}))},children:[t.jsx("div",{className:"bg-layer position-absolute w-100 h-100 start-0 top-0 ".concat(v?"cursor-move":""),style:{zIndex:0,backgroundImage:g?'url("/storage/'.concat(g,'")'):"none",backgroundSize:"cover",backgroundPosition:"center",transform:"translate(".concat(b.x,"px, ").concat(b.y,"px) scale(").concat(b.scale,")"),transformOrigin:"center center",opacity:1,pointerEvents:v?"auto":"none"},onMouseDown:e=>{if(!v)return;e.preventDefault(),e.stopPropagation();const t=e.clientX,a=e.clientY,n=b.x,s=b.y,o=e=>{const o=(e.clientX-t)/z,l=(e.clientY-a)/z;f(e=>({...e,x:n+o,y:s+l}))},l=()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",l)}}),v&&t.jsx("div",{className:"position-absolute top-0 start-0 m-2 badge bg-warning text-dark z-index-10",children:"Background Edit Mode"}),ae.enabled&&t.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:89,pointerEvents:"none",padding:"0 ".concat(ae.margin,"px"),display:"flex",gap:"".concat((ae.margin,0),"px")},children:t.jsx("div",{className:"w-100 h-100 d-flex",style:{gap:"".concat(ae.gutter,"px"),pointerEvents:"none"},children:[...Array(ae.columns)].map((e,a)=>t.jsx("div",{className:"flex-grow-1 h-100",style:{backgroundColor:ae.color,opacity:ae.opacity,pointerEvents:"none"}},a))})}),Q.map((e,a)=>t.jsx("div",{className:"position-absolute guide-line",onMouseDown:t=>ce(e.type,t,a),style:{zIndex:90,pointerEvents:"auto",cursor:"y"===e.type?"row-resize":"col-resize",..."y"===e.type?{left:0,right:0,top:"".concat(e.pos-2,"px"),height:"5px",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",backgroundColor:"transparent"}:{top:0,bottom:0,left:"".concat(e.pos-2,"px"),width:"5px",borderLeft:"2px solid transparent",borderRight:"2px solid transparent",backgroundColor:"transparent"}},children:t.jsx("div",{style:{width:"y"===e.type?"100%":"1px",height:"y"===e.type?"1px":"100%",backgroundColor:"#06b6d4",position:"absolute",top:"y"===e.type?"2px":0,left:"y"===e.type?0:"2px",boxShadow:"0 0 2px rgba(255,255,255,0.5)"}})},a)),m.map(e=>t.jsx(o,{element:e,previewData:ie,isSelected:N.has(e.id),onMouseDown:t=>{if(t.shiftKey){const t=new Set(N);t.has(e.id)?t.delete(e.id):t.add(e.id),k(t)}else N.has(e.id)||k(new Set([e.id]))},onDrag:ue,onResize:be,onDragStop:()=>V(j.current),onDelete:pe},e.id))]})})]})]})]}),t.jsx("aside",{className:"".concat(fe.glassSide," border-start ").concat(fe.border," d-flex flex-column shadow-lg z-20 transition-all duration-300 ease-in-out"),style:{width:T?"300px":"0px",overflow:"hidden",opacity:T?1:0},children:K&&N.size>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-4 ".concat(fe.bgPanel," border-bottom ").concat(fe.border," text-center"),style:{minWidth:"300px"},children:t.jsx("div",{className:"text-xs fw-bold ".concat(fe.highlight," text-uppercase ls-1"),children:"Properties"})}),t.jsxs("div",{className:"p-4 flex-grow-1 overflow-auto",style:{minWidth:"300px"},children:[("text"===K.type||"variable"===K.type)&&t.jsxs("div",{className:"vstack gap-5",children:[" ",t.jsxs("div",{children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted," text-uppercase mb-2"),children:"Content"}),t.jsx("textarea",{className:"form-control-proper w-100",rows:"3",value:K.text,onChange:e=>he({text:e.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted," text-uppercase mb-2"),children:"Typography"}),t.jsxs("div",{className:"vstack gap-3",children:[t.jsx("select",{className:"form-select-proper w-100",value:K.fontFamily,onChange:e=>he({fontFamily:e.target.value}),children:[{label:"Cinzel",value:"'Cinzel', serif"},{label:"Montserrat",value:"'Montserrat', sans-serif"},{label:"Playfair Display",value:"'Playfair Display', serif"},{label:"Great Vibes",value:"'Great Vibes', cursive"},{label:"Lato",value:"'Lato', sans-serif"},{label:"Pinyon Script",value:"'Pinyon Script', cursive"},{label:"Cormorant Garamond",value:"'Cormorant Garamond', serif"},{label:"Open Sans",value:"'Open Sans', sans-serif"},{label:"Bebas Neue",value:"'Bebas Neue', display"},{label:"Alex Brush",value:"'Alex Brush', cursive"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))}),t.jsxs("div",{className:"row g-2 align-items-center",children:[t.jsx("div",{className:"col-8",children:t.jsx("div",{className:"input-group input-group-sm",children:t.jsx("input",{type:"number",className:"form-control-proper w-100",value:K.fontSize,onChange:e=>he({fontSize:parseInt(e.target.value)}),placeholder:"Size"})})}),t.jsx("div",{className:"col-4",children:t.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"31px",width:"100%",position:"relative",backgroundColor:K.color},children:t.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",opacity:0},value:K.color,onChange:e=>he({color:e.target.value})})})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted," text-uppercase mb-2"),children:"Style"}),t.jsxs("div",{className:"btn-group w-100 mb-3",children:[t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("bold"===K.fontWeight?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({fontWeight:"bold"===K.fontWeight?"normal":"bold"}),children:t.jsx("i",{className:"fas fa-bold"})}),t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("italic"===K.fontStyle?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({fontStyle:"italic"===K.fontStyle?"normal":"italic"}),children:t.jsx("i",{className:"fas fa-italic"})}),t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("underline"===K.textDecoration?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({textDecoration:"underline"===K.textDecoration?"none":"underline"}),children:t.jsx("i",{className:"fas fa-underline"})})]}),t.jsxs("div",{className:"btn-group w-100",children:[t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("left"===K.textAlign?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({textAlign:"left"}),children:t.jsx("i",{className:"fas fa-align-left"})}),t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("center"===K.textAlign?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({textAlign:"center"}),children:t.jsx("i",{className:"fas fa-align-center"})}),t.jsx("button",{className:"btn btn-sm btn-outline-secondary ".concat(L?"text-white":""," ").concat("right"===K.textAlign?L?"btn-tech border-0":"bg-info border-info text-white":""),onClick:()=>he({textAlign:"right"}),children:t.jsx("i",{className:"fas fa-align-right"})})]})]})]}),("line"===K.type||"shape"===K.type)&&t.jsxs("div",{className:"vstack gap-3",children:[t.jsxs("div",{className:"row g-2",children:[t.jsxs("div",{className:"col-6",children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted),children:"Width"}),t.jsx("input",{type:"number",className:"form-control-proper w-100",value:K.width,onChange:e=>he({width:parseInt(e.target.value)})})]}),t.jsxs("div",{className:"col-6",children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted),children:"line"===K.type?"Thickness":"Height"}),t.jsx("input",{type:"number",className:"form-control-proper w-100",value:K.height,onChange:e=>he({height:parseInt(e.target.value)})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs fw-bold ".concat(fe.textMuted," text-uppercase mb-1"),children:"Color"}),t.jsx("div",{className:"rounded overflow-hidden border border-secondary",style:{height:"36px",width:"100%",position:"relative"},children:t.jsx("input",{type:"color",className:"position-absolute",style:{top:"-10px",left:"-10px",width:"200%",height:"200%",cursor:"pointer",border:"none"},value:K.color,onChange:e=>he({color:e.target.value})})})]})]})]}),t.jsxs("div",{className:"p-4 border-top ".concat(fe.border," mt-auto ").concat(fe.bgPanel),children:[t.jsxs("button",{className:"btn btn-outline-secondary w-100 mb-2 rounded-2 ".concat(L?"text-white border-slate-600":""),onClick:()=>{const e=m.filter(e=>N.has(e.id)).map(e=>({...e,id:Date.now()+Math.random(),x:e.x+2,y:e.y+2}));V([...m,...e]),k(new Set(e.map(e=>e.id)))},children:[t.jsx("i",{className:"far fa-clone me-2"})," ","Duplicate"]}),t.jsxs("button",{className:"btn btn-outline-danger w-100 rounded-2",onClick:()=>{h(m.filter(e=>!N.has(e.id))),k(new Set)},children:[t.jsx("i",{className:"far fa-trash-alt me-2"})," ","Delete"]})]})]}):t.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center h-100 ".concat(fe.textMuted," p-4 text-center"),children:[t.jsx("i",{className:"fas fa-mouse-pointer fa-3x mb-3 opacity-25"}),t.jsx("div",{className:"text-sm",children:"Select an element to resize or edit"})]})})]}),t.jsx(s,{show:!!le,message:null==le?void 0:le.message,type:"error"===(null==le?void 0:le.type)?"danger":null==le?void 0:le.type,onClose:()=>re(null)}),t.jsx(r,{show:F,onClose:()=>Y(!1),files:B,onUpload:e=>{if(!e)return;const t=Date.now(),a=URL.createObjectURL(e);W(n=>[...n,{id:t,name:e.name,path:a,url:a,size:e.size,type:e.type,uploading:!0,progress:0}]);let n=0;const s=setInterval(()=>{n+=10,W(e=>e.map(e=>e.id===t?{...e,progress:n}:e)),n>=100&&(clearInterval(s),W(e=>e.map(e=>e.id===t?{...e,uploading:!1}:e)),re({message:"Image uploaded successfully",type:"success"}),setTimeout(()=>re(null),3e3))},200)},onDelete:e=>{W(t=>t.filter(t=>t.path!==e))},onRename:(e,t)=>{console.log("Renaming implementation pending",e,t)},onSelect:e=>{Array.isArray(e)?xe(e.map(e=>({type:"image",src:e.url,name:e.name,path:e.path}))):xe([{type:"image",src:e.url,name:e.name,path:e.path}]),Y(!1)},uploadUrl:route("events.certificates.upload-media",i.id),onUploadSuccess:()=>G()})]})}export{i as default};
