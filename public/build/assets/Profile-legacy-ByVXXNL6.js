System.register(["./react-core-legacy-MaQOtt75.js","./Layout-legacy-DyQ6ectZ.js","./vendor-legacy-DG0v0S8r.js","./Toast-legacy-CtOORL7G.js","./MainLayout-legacy-mB_lFPf-.js","./ui-jquery-legacy-BGbLhyly.js","./ui-swiper-legacy-CKGAcGy_.js","./animations-legacy-BWgBFhLZ.js","./whatsapp-legacy-TvHSf1_t.js","./SimpleBreadcrumb-legacy-De3FR5I-.js"],function(e,s){"use strict";var a,l,r,i,n,d,o,t;return{setters:[e=>{a=e.h,l=e.r,r=e.u,i=e.j,n=e.H},e=>{d=e.default},e=>{o=e.m},e=>{t=e.T},null,null,null,null,null,null],execute:function(){e("default",function({auth:e,status:s}){const{flash:c}=a().props,[m,u]=l.useState(null),{data:h,setData:p,post:f,processing:j,errors:x,reset:v}=r({name:e.user.name,email:e.user.email,phone:e.user.phone||"",password:"",password_confirmation:"",avatar:null,_method:"POST"});l.useEffect(()=>{if(c?.success||"profile-updated"===s){u({message:"Profile updated successfully!",type:"success"});const e=setTimeout(()=>u(null),3e3);return()=>clearTimeout(e)}if(c?.error){u({message:c.error,type:"danger"});const e=setTimeout(()=>u(null),3e3);return()=>clearTimeout(e)}},[c,s]);const[b,w]=l.useState(e.user.avatar||"https://ui-avatars.com/api/?name="+e.user.name+"&background=0D5EF4&color=fff"),N=l.useRef(null);return i.jsxs(d,{pageTitle:"Edit Profile",children:[i.jsx(n,{title:"Edit Profile"}),i.jsx(t,{show:!!m,message:m?.message,type:m?.type,onClose:()=>u(null)}),i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-lg-12",children:i.jsxs("form",{onSubmit:e=>{e.preventDefault(),f(o("events.profile.update"),{onSuccess:()=>{v("password","password_confirmation")}})},children:[i.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[i.jsx("div",{className:"card-header bg-white border-bottom-0 p-4 pb-0",children:i.jsx("h5",{className:"fw-bold mb-0",children:"Profile Information"})}),i.jsxs("div",{className:"card-body p-4",children:[i.jsxs("div",{className:"d-flex align-items-center mb-5",children:[i.jsxs("div",{className:"position-relative me-4",children:[i.jsx("div",{className:"avatar rounded-circle overflow-hidden border-4 border-white shadow-sm",style:{width:"100px",height:"100px"},children:i.jsx("img",{src:b,alt:"Profile",className:"w-100 h-100 object-fit-cover"})}),i.jsx("button",{type:"button",className:"th-btn btn-sm btn-theme rounded-circle position-absolute bottom-0 end-0 shadow-sm",style:{width:"32px",height:"32px",padding:0},onClick:()=>N.current.click(),children:i.jsx("i",{className:"fa-solid fa-camera"})}),i.jsx("input",{type:"file",ref:N,className:"d-none",accept:"image/*",onChange:e=>{const s=e.target.files[0];s&&(p("avatar",s),w(URL.createObjectURL(s)))}})]}),i.jsxs("div",{children:[i.jsx("h6",{className:"fw-bold mb-1",children:"Profile Photo"}),i.jsx("p",{className:"text-muted small mb-0",children:"Update your profile picture. Max size 1MB."}),x.avatar&&i.jsx("div",{className:"text-danger small mt-1",children:x.avatar})]})]}),i.jsxs("div",{className:"row g-4",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Full Name"}),i.jsx("input",{type:"text",className:"form-control "+(x.name?"is-invalid":""),value:h.name,onChange:e=>p("name",e.target.value),placeholder:"Enter your name"}),x.name&&i.jsx("div",{className:"invalid-feedback",children:x.name})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),i.jsx("input",{type:"email",className:"form-control "+(x.email?"is-invalid":""),value:h.email,onChange:e=>p("email",e.target.value),placeholder:"Enter your email"}),x.email&&i.jsx("div",{className:"invalid-feedback",children:x.email})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Phone Number"}),i.jsx("input",{type:"text",className:"form-control "+(x.phone?"is-invalid":""),value:h.phone,onChange:e=>p("phone",e.target.value),placeholder:"Enter your phone number"}),x.phone&&i.jsx("div",{className:"invalid-feedback",children:x.phone})]})]})]})]}),i.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[i.jsx("div",{className:"card-header bg-white border-bottom-0 p-4 pb-0",children:i.jsx("h5",{className:"fw-bold mb-0",children:"Change Password"})}),i.jsx("div",{className:"card-body p-4",children:i.jsxs("div",{className:"row g-4",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"New Password"}),i.jsx("input",{type:"password",className:"form-control "+(x.password?"is-invalid":""),value:h.password,onChange:e=>p("password",e.target.value),placeholder:"New Password"}),x.password&&i.jsx("div",{className:"invalid-feedback",children:x.password})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Confirm Password"}),i.jsx("input",{type:"password",className:"form-control",value:h.password_confirmation,onChange:e=>p("password_confirmation",e.target.value),placeholder:"Confirm new password"})]})]})})]}),i.jsx("div",{className:"text-end mb-5",children:i.jsx("button",{type:"submit",className:"th-btn th-radius",disabled:j,children:j?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Changes"})})]})})})]})})}}});
