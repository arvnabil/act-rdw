import{e,d as s,H as a,f as i}from"./vendor-xjByXSfv.js";import{M as t}from"./MainLayout-rHWCnlZS.js";import{B as n}from"./Breadcrumb-BrrB_Hr0.js";import{C as r}from"./ConfiguratorSubmitModal-sYL15ule.js";import{W as l,S as c,a as d}from"./WizardNavigation-DZYQzclv.js";import"./Toast-Co2UATp8.js";import"./Modal-BlXnCAU3.js";function m(){var m,o,u,h;const[x,g]=e.useState(1),[j,p]=e.useState({premise:null,areaSize:null,cameraType:[],features:[],brand:null,retention:null,quantities:{}}),[v,f]=e.useState({name:"",phone:"",email:"",company:""}),[b,N]=e.useState(!1),[C,y]=e.useState(""),S=e.useRef(!1),w="#4AC15E",P={premises:[{id:"office",name:"Corporate Office",desc:"Indoor, Access Control",icon:"/assets/img/icon/service-2-1.svg"},{id:"retail",name:"Retail / Commercial",desc:"Loss Prevention, People Counting",icon:"/assets/img/icon/service-2-2.svg"},{id:"industrial",name:"Industrial / Warehouse",desc:"Large Area, Perimeter",icon:"/assets/img/icon/service-2-3.svg"},{id:"public",name:"Public Space",desc:"Outdoor, Traffic, Crowd",icon:"/assets/img/icon/service-2-4.svg"}],areaSizes:[{id:"small",name:"Small (< 200m²)",desc:"1-4 Cameras",icon:"/assets/img/icon/feature_2_1.svg"},{id:"medium",name:"Medium (200-1000m²)",desc:"5-16 Cameras",icon:"/assets/img/icon/feature_2_2.svg"},{id:"large",name:"Large (> 1000m²)",desc:"16-64 Cameras",icon:"/assets/img/service/service_3_3.jpg"},{id:"multisite",name:"Multi-Site",desc:"Centralized Management",icon:"/assets/img/icon/feature_2_4.svg"}],cameraTypes:[{id:"dome",name:"Dome Camera",desc:"Discreet Indoor Monitoring",icon:"/assets/img/icon/feature_1_1.svg"},{id:"bullet",name:"Bullet Camera",desc:"Visible Deterrent Outdoor",icon:"/assets/img/icon/feature_1_2.svg"},{id:"ptz",name:"PTZ Camera",desc:"Active Tracking & Zoom",icon:"/assets/img/icon/feature_1_3.svg"},{id:"panoramic",name:"Panoramic (Fisheye)",desc:"360° Wide Coverage",icon:"/assets/img/icon/feature_1_4.svg"}],smartFeatures:[{id:"motion",name:"Motion Detection",desc:"Basic Recording Trigger"},{id:"face",name:"Face Recognition",desc:"Access Control Integration"},{id:"lpr",name:"License Plate Recog.",desc:"Parking & Traffic"},{id:"perimeter",name:"Perimeter Defense",desc:"Intrusion Alerts"},{id:"thermal",name:"Thermal Imaging",desc:"Heat Detection / Night Vision"}],brands:[{id:"hikvision",name:"Hikvision",logo:"/assets/img/partners/hikvision.png"},{id:"dahua",name:"Dahua",logo:"/assets/img/partners/dahua.png"},{id:"axis",name:"Axis Communications",logo:"/assets/img/partners/axis.png"},{id:"hanwha",name:"Hanwha Vision",logo:"/assets/img/partners/hanwha.png"}],retentionPeriods:[{id:"7days",name:"7 Days",desc:"Basic Compliance"},{id:"14days",name:"14 Days",desc:"Standard Commercial"},{id:"30days",name:"30 Days",desc:"Banking / High Security"},{id:"90days",name:"90 Days+",desc:"Long Term Archiving"}]};e.useEffect(()=>{y(crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)+Date.now().toString(36));const e=new URLSearchParams(window.location.search),s=e.get("premise"),a=e.get("brand");if(s){const e=P.premises.find(e=>e.id===s);e&&p(s=>({...s,premise:e}))}if(a){S.current=!0;const e=P.brands.find(e=>e.id===a);e&&p(s=>({...s,brand:e}))}s&&a&&g(2)},[]);const T=(e,s)=>{p(a=>({...a,[e]:s}))},k=(e,s)=>{p(a=>{const i=a[e]||[],t=i.some(e=>e.id===s.id)?i.filter(e=>e.id!==s.id):[...i,s];return{...a,[e]:t}})};return s.jsxs(t,{children:[s.jsx(a,{title:"Surveillance System Configurator"}),s.jsx(n,{title:"Surveillance Configurator",items:[{label:"Home",link:"/"},{label:"Services",link:"/services"},{label:"Surveillance Configurator"}]}),s.jsx("section",{className:"space-top space-bottom bg-light",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"row justify-content-center mb-5",children:s.jsxs("div",{className:"col-lg-8 text-center",children:[s.jsx("span",{className:"sub-title text-success",children:"Secure Your Premise"}),s.jsx("h2",{className:"sec-title",children:"Smart Surveillance Configurator"}),s.jsx("p",{className:"text-muted",children:"Design a comprehensive security solution tailored to your environment."})]})}),s.jsxs("div",{className:"wizard-container bg-white rounded-20 shadow-sm p-4 p-lg-5",children:[s.jsx(l,{steps:[{id:1,label:"Environment"},{id:2,label:"Area Size"},{id:3,label:"Camera Types"},{id:4,label:"Features"},{id:5,label:"Retention"},{id:6,label:"Brand"},{id:7,label:"Summary"}],currentStep:x,themeColor:w}),s.jsxs("div",{className:"step-content animate-fade",children:[1===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Select Environment"}),s.jsx("div",{className:"row g-4 justify-content-center",children:P.premises.map(e=>{var a;return s.jsx("div",{className:"col-md-6 col-lg-3",children:s.jsx(c,{selected:(null==(a=j.premise)?void 0:a.id)===e.id,onClick:()=>T("premise",e),icon:e.icon,title:e.name,subtitle:e.desc,themeColor:w})},e.id)})})]}),2===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Estimated Area Size"}),s.jsx("div",{className:"row g-4 justify-content-center",children:P.areaSizes.map(e=>{var a;return s.jsx("div",{className:"col-md-4",children:s.jsx(c,{selected:(null==(a=j.areaSize)?void 0:a.id)===e.id,onClick:()=>T("areaSize",e),icon:e.icon,title:e.name,subtitle:e.desc,themeColor:w})},e.id)})})]}),3===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Preferred Camera Types"}),s.jsx("p",{className:"text-center text-muted mb-4",children:"Select all that apply."}),s.jsx("div",{className:"row g-4 justify-content-center",children:P.cameraTypes.map(e=>{const a=j.cameraType.some(s=>s.id===e.id);return s.jsx("div",{className:"col-md-4",children:s.jsx(c,{selected:a,onClick:()=>k("cameraType",e),icon:e.icon,title:e.name,subtitle:e.desc,themeColor:w})},e.id)})})]}),4===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Required Intelligent Features"}),s.jsx("div",{className:"row g-3 justify-content-center",children:P.smartFeatures.map(e=>{const a=j.features.some(s=>s.id===e.id);return s.jsx("div",{className:"col-md-6",children:s.jsxs(c,{selected:a,onClick:()=>k("features",e),themeColor:w,className:"d-flex align-items-center text-start p-3",children:[s.jsx("div",{className:"me-3",children:s.jsx("i",{className:"fa-solid fa-microchip text-muted"})}),s.jsxs("div",{children:[s.jsx("h6",{className:"small fw-bold mb-0",children:e.name}),s.jsx("small",{className:"text-muted",children:e.desc})]})]})},e.id)})})]}),5===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Recording Retention Period"}),s.jsx("div",{className:"row g-4 justify-content-center",children:P.retentionPeriods.map(e=>{var a;return s.jsx("div",{className:"col-md-3 col-6",children:s.jsx(c,{selected:(null==(a=j.retention)?void 0:a.id)===e.id,onClick:()=>T("retention",e),title:e.name,subtitle:e.desc,themeColor:w,children:s.jsx("h5",{className:"h4 fw-bold mb-1",children:s.jsx("i",{className:"fa-regular fa-clock me-2 text-muted"})})})},e.id)})})]}),6===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Preferred Brand"}),s.jsx("div",{className:"row g-4 justify-content-center",children:P.brands.map(e=>{var a;return s.jsx("div",{className:"col-6 col-md-3",children:s.jsx(c,{selected:(null==(a=j.brand)?void 0:a.id)===e.id,onClick:()=>T("brand",e),themeColor:w,children:s.jsx("div",{className:"p-2 mb-2 d-flex align-items-center justify-content-center",style:{height:"60px"},children:e.logo?s.jsx("img",{src:e.logo,alt:e.name,style:{maxHeight:"100%",maxWidth:"100%"}}):s.jsx("h5",{className:"mb-0",children:e.name})})})},e.id)})})]}),7===x&&s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-center",children:"Review Configuration"}),s.jsxs("div",{className:"bg-light p-4 rounded mb-4",children:[s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Environment"}),s.jsx("p",{className:"fw-bold",children:(null==(m=j.premise)?void 0:m.name)||"-"})]}),s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Area Size"}),s.jsx("p",{className:"fw-bold",children:(null==(o=j.areaSize)?void 0:o.name)||"-"})]}),s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Retention"}),s.jsx("p",{className:"fw-bold",children:(null==(u=j.retention)?void 0:u.name)||"-"})]}),s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Brand"}),s.jsx("p",{className:"fw-bold",children:(null==(h=j.brand)?void 0:h.name)||"-"})]})]}),s.jsxs("div",{className:"border-top pt-3 mt-2",children:[s.jsx("h6",{className:"small fw-bold",children:"Camera Types:"}),s.jsx("ul",{className:"mb-3 small text-muted",children:j.cameraType.map(e=>s.jsx("li",{children:e.name},e.id))}),s.jsx("h6",{className:"small fw-bold",children:"Features:"}),s.jsx("ul",{className:"mb-0 small text-muted",children:j.features.length?j.features.map(e=>s.jsx("li",{children:e.name},e.id)):s.jsx("li",{children:"None"})})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{className:"th-btn th-radius shadow-none style8",onClick:()=>N(!0),children:["Finalization Now"," ",s.jsx("i",{className:"fa-solid fa-check ms-2"})]})})]})]}),s.jsx(d,{onNext:()=>{if(1===x&&!j.premise)return alert("Please select an Environment.");if(2===x&&!j.areaSize)return alert("Please select an Area Size.");if(3===x&&0===j.cameraType.length)return alert("Please select at least one Camera Type.");if(5===x){if(!j.retention)return alert("Please select a Retention Period.");if(S.current)return void g(7)}if(6===x&&!j.brand)return alert("Please select a Brand.");g(e=>e+1)},onPrev:()=>{7===x&&S.current?g(5):g(e=>e-1)},isFirstStep:1===x,isLastStep:7===x,themeColor:w})]})]})}),s.jsx(r,{show:b,onClose:()=>N(!1),userInfo:v,onChange:e=>{const{name:s,value:a}=e.target;f(e=>({...e,[s]:a}))},onSubmit:e=>{e.preventDefault(),v.name&&v.phone?i.post("/surveillance-configurator/complete",{selection:j,userInfo:v,uuid:C}):alert("Please fill in required fields.")}})]})}export{m as default};
