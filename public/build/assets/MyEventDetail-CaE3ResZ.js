import{r as e,j as s,H as a,L as t,Q as i,f as l}from"./react-core-BZS_6Arc.js";import{T as n}from"./Toast-DWtzSCpk.js";import c from"./Layout-DAxdrsS9.js";import{m as d}from"./vendor-DViQF3d3.js";import{D as r,a as o}from"./DashboardTable-DEtZbA4z.js";import"./MainLayout-n692K3g9.js";import"./ui-jquery-B_dqbqb-.js";import"./ui-swiper-Db3Ms2SX.js";import"./animations-CPskncXY.js";import"./whatsapp-Df9uErmj.js";import"./SimpleBreadcrumb-BWYKCaK4.js";function m({auth:m,event:x,registration:h,certificate:p,ticket:j}){var b,u;const[f,v]=e.useState((()=>{if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("tab");if(e&&["overview","ticket","rundown","speakers","documentation"].includes(e))return e}return"overview"})());e.useEffect(()=>{const e=new URL(window.location);e.searchParams.set("tab",f),window.history.replaceState({},"",e)},[f]);const N=["confirmed","Joined","Registered","Certified"].includes(h.status),[g,w]=e.useState(null),[y,k]=e.useState(!1);return s.jsxs(c,{pageTitle:"My Event Details",children:[s.jsx(a,{title:x.title}),s.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:s.jsxs("div",{children:[s.jsxs(t,{href:d("events.my-events"),className:"text-muted text-decoration-none mb-2 d-inline-block small",children:[s.jsx("i",{className:"fa-solid fa-arrow-left me-1"})," Back to My Events"]}),s.jsx("h2",{className:"fw-bold fs-3 mb-1",children:x.title}),N?s.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2",children:[s.jsx("i",{className:"fa-solid fa-check-circle me-1"})," ","Access Granted"]}):s.jsxs("span",{className:"badge bg-warning bg-opacity-10 text-warning rounded-pill px-3 py-2",children:[s.jsx("i",{className:"fa-solid fa-clock me-1"})," ",h.status]})]})}),s.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:s.jsxs("div",{className:"position-relative",children:[s.jsx("img",{src:x.thumbnail?"/storage/".concat(x.thumbnail):"/assets/img/event/event_thumb_1_1.jpg",alt:x.title,className:"w-100 object-fit-cover",style:{height:"250px"}}),s.jsx("div",{className:"position-absolute top-0 start-0 m-4 p-2 z-2",children:s.jsx("div",{className:"d-flex justify-content-between align-items-end",children:s.jsxs("span",{className:"px-3 py-2 rounded-pill fw-bold small text-uppercase shadow-sm d-inline-flex align-items-center ".concat(N?"bg-white text-success":"bg-warning text-white"),children:[s.jsx("i",{className:"fa-solid ".concat(N?"fa-circle-check":"fa-clock"," me-2")}),h.status]})})}),s.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 p-4 bg-gradient-dark text-white",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-end",children:[s.jsx("div",{children:s.jsxs("div",{className:"d-flex align-items-center gap-3 small opacity-75",children:[s.jsxs("span",{children:[s.jsx("i",{className:"fa-solid fa-calendar me-2"}),new Date(x.start_date).toLocaleDateString()]}),s.jsxs("span",{children:[s.jsx("i",{className:"fa-solid fa-location-dot me-2"}),x.location||"Online"]})]})}),N&&s.jsxs(t,{href:d("events.room",x.slug),className:"th-btn style8 th-radius shadow-lg",style:{padding:"12px"},children:[s.jsx("i",{className:"fa-solid fa-door-open me-2"}),"Enter Room"]})]})})]})}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-lg-8",children:s.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:[s.jsx("div",{className:"card-header bg-white border-bottom-0 pt-4 px-4 pb-0",children:s.jsxs("ul",{className:"nav nav-tabs card-header-tabs border-0 gap-3",children:[s.jsx("li",{className:"nav-item",children:s.jsx("button",{className:"nav-link border-0 bg-transparent fw-medium px-0 pb-3 ".concat("overview"===f?"active text-theme border-bottom border-2 border-theme":"text-muted"),onClick:()=>v("overview"),children:"Overview"})}),N&&s.jsx("li",{className:"nav-item",children:s.jsx("button",{className:"nav-link border-0 bg-transparent fw-medium px-0 pb-3 ".concat("ticket"===f?"active text-theme border-bottom border-2 border-theme":"text-muted"),onClick:()=>v("ticket"),children:"Your Ticket"})}),s.jsx("li",{className:"nav-item",children:s.jsx("button",{className:"nav-link border-0 bg-transparent fw-medium px-0 pb-3 ".concat("rundown"===f?"active text-theme border-bottom border-2 border-theme":"text-muted"),onClick:()=>v("rundown"),children:"Rundown"})}),s.jsx("li",{className:"nav-item",children:s.jsx("button",{className:"nav-link border-0 bg-transparent fw-medium px-0 pb-3 ".concat("speakers"===f?"active text-theme border-bottom border-2 border-theme":"text-muted"),onClick:()=>v("speakers"),children:"Speakers"})}),s.jsx("li",{className:"nav-item",children:s.jsx("button",{className:"nav-link border-0 bg-transparent fw-medium px-0 pb-3 ".concat("documentation"===f?"active text-theme border-bottom border-2 border-theme":"text-muted"),onClick:()=>v("documentation"),children:"Dokumentasi"})})]})}),s.jsxs("div",{className:"card-body p-4",children:["overview"===f&&s.jsxs("div",{className:"animate-fade",children:[s.jsx("h5",{className:"fw-bold mb-3",children:"About This Event"}),s.jsx("div",{className:"text-muted mb-4",dangerouslySetInnerHTML:{__html:x.description}})]}),"speakers"===f&&s.jsx("div",{className:"animate-fade",children:x.speakers&&x.speakers.length>0?s.jsx("div",{className:"row g-3",children:x.speakers.map((e,a)=>s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-center bg-light p-3 rounded-10",children:[s.jsx("div",{className:"shrink-0 me-3",children:s.jsx("img",{src:e.image?"/storage/".concat(e.image):"/assets/img/icon/user.svg",alt:e.name,className:"rounded-circle object-fit-cover",style:{width:"60px",height:"60px"}})}),s.jsxs("div",{children:[s.jsx("h6",{className:"mb-1 fw-bold",children:e.name}),s.jsx("p",{className:"mb-0 text-muted small",children:e.role})]})]})},a))}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"fa-solid fa-users-slash fa-3x text-muted opacity-25"})}),s.jsx("h6",{className:"fw-bold text-muted",children:"No Speakers Announced"}),s.jsx("p",{className:"text-muted small",children:"Speaker information is not available for this event yet."})]})}),"ticket"===f&&s.jsxs("div",{className:"animate-fade text-center py-4",children:[s.jsx("div",{className:"mb-4 bg-white p-3 d-inline-block rounded-3 shadow-sm border",children:s.jsx(i,{value:(null==j?void 0:j.qr_url)||"INVALID-TICKET",size:200,level:"H",includeMargin:!0})}),s.jsx("h5",{className:"fw-bold mb-1",children:m.user.name}),s.jsx("div",{className:"mb-4 d-flex justify-content-center",children:s.jsxs("p",{className:"text-muted small text-center",style:{maxWidth:"300px"},children:[s.jsx("i",{className:"fa-solid fa-circle-info me-1"}),"Tunjukkan Kode QR ini kepada panitia acara untuk registrasi ulang saat event berlangsung."]})}),s.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-3",children:[s.jsxs("div",{className:"d-inline-flex align-items-center bg-white border rounded-pill px-4 py-2 shadow-sm",children:[s.jsxs("div",{className:"text-muted pe-3 border-end me-3",children:[s.jsx("i",{className:"fa-solid fa-hashtag text-theme me-2"}),"Ticket ID"]}),s.jsx("div",{className:"fw-bold text-dark",children:j.code})]}),s.jsxs("div",{className:"d-inline-flex align-items-center bg-white border rounded-pill px-4 py-2 shadow-sm",children:[s.jsxs("div",{className:"text-muted pe-3 border-end me-3",children:[s.jsx("i",{className:"fa-solid fa-ticket text-theme me-2"}),"Type"]}),s.jsx("div",{className:"fw-bold text-dark",children:"Free"===x.price||0==x.price?"Free Pass":"Regular Ticket"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-top",children:s.jsxs("a",{href:d("events.ticket.download",j.code),className:"th-btn sm rounded-pill",children:[s.jsx("i",{className:"fa-solid fa-download me-2"}),"Download Ticket PDF"]})})]}),"rundown"===f&&s.jsx("div",{className:"animate-fade",children:x.schedule&&x.schedule.length>0?s.jsx(r,{columns:[{label:s.jsx("div",{className:"d-flex align-items-center gap-2",children:"Time (WIB)"}),className:"col-4 col-md-3 ps-4 border-end"},{label:"Agenda",className:"col-8 col-md-9 ps-4"}],children:x.schedule.map((e,a)=>s.jsxs(o,{children:[s.jsx("div",{className:"col-4 col-md-3 ps-4 border-end",children:s.jsx("div",{className:"d-flex align-items-center text-nowrap",children:s.jsx("span",{className:"fw-bold fs-5 font-heading ".concat(0===a?"text-success":a===x.schedule.length-1?"text-danger":"text-dark"),children:e.time})})}),s.jsx("div",{className:"col-8 col-md-9 ps-4",children:s.jsxs("div",{className:"d-flex flex-column h-100 justify-content-center",children:[s.jsx("div",{className:"d-flex align-items-center gap-2 mb-1",children:s.jsx("h6",{className:"fw-bold text-dark mb-0 fs-6",children:e.activity})}),e.description&&s.jsx("p",{className:"text-muted small mb-0 opacity-75",children:e.description})]})})]},a))}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"fa-regular fa-calendar-xmark fa-3x text-muted opacity-25"})}),s.jsx("h6",{className:"fw-bold text-muted",children:"Schedule Not Published"}),s.jsx("p",{className:"text-muted small",children:"The rundown for this event is not available yet."})]})}),"documentation"===f&&s.jsx("div",{className:"animate-fade",children:x.documentations&&x.documentations.length>0?s.jsx("div",{className:"row g-3",children:x.documentations.map(e=>s.jsx("div",{className:"col-md-4 col-sm-6",children:s.jsxs("div",{className:"card border-0 shadow-sm h-100 rounded-10 overflow-hidden group-hover-scale",children:[s.jsx("div",{className:"position-relative overflow-hidden",style:{paddingTop:"75%"},children:e.file_path&&e.file_path.length>0?s.jsx("img",{src:"/storage/".concat(e.file_path[0]),alt:e.caption||"Event Documentation",className:"position-absolute top-0 start-0 w-100 h-100 object-fit-cover transition-transform"}):s.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",children:s.jsx("i",{className:"fa-solid fa-image text-muted opacity-25 fa-2x"})})}),e.caption&&s.jsx("div",{className:"card-body p-3",children:s.jsx("p",{className:"card-text small text-muted mb-0 text-truncate",children:e.caption})})]})},e.id))}):s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"fa-solid fa-camera fa-3x text-muted opacity-25"})}),s.jsx("h6",{className:"fw-bold text-muted",children:"No Documentation Yet"}),s.jsx("p",{className:"text-muted small",children:"Event documentation will be uploaded here after the event."})]})}),"certificate"===f&&x.is_certificate_available&&s.jsx("div",{className:"animate-fade text-center py-5",children:p?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("i",{className:"fa-solid fa-file-certificate fa-4x text-theme"})}),s.jsx("h4",{className:"fw-bold mb-3",children:"Your Cetrificate is Ready!"}),s.jsx("p",{className:"text-muted mb-4",children:"Congratulations on completing the event. You can now download your certificate."}),s.jsx("div",{className:"d-flex justify-content-center gap-3",children:s.jsxs("a",{href:"/storage/".concat(p.file_path),target:"_blank",download:!0,className:"th-btn style3 th-radius",children:[s.jsx("i",{className:"fa-solid fa-download me-2"}),"Download PDF"]})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-3",children:s.jsx("i",{className:"fa-solid fa-award fa-3x text-theme opacity-50"})}),s.jsx("h6",{className:"fw-bold text-dark",children:"Certificate Available"}),s.jsx("p",{className:"text-muted small mb-4",children:"You are eligible for a certificate. Click below to generate and claim it."}),s.jsx("button",{onClick:()=>{k(!0),l.post(d("events.certificates.claim",x.id),{},{onFinish:()=>k(!1),onSuccess:()=>{w({message:"Certificate claimed successfully!",type:"success"})},onError:e=>{const s=Object.values(e)[0]||"Failed to claim certificate.";w({message:s,type:"error"})}})},disabled:y,className:"th-btn th-radius style4",children:y?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa-solid fa-spinner fa-spin me-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa-solid fa-file-signature me-2"}),"Claim Certificate"]})})]})})]})]})}),s.jsxs("div",{className:"col-lg-4",children:[s.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsx("h6",{className:"fw-bold mb-3",children:"Organizer"}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("div",{className:"bg-light rounded-circle d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:s.jsx("i",{className:"fa-solid fa-building text-muted"})}),s.jsxs("div",{children:[s.jsx("h6",{className:"mb-0 fw-semibold",children:(null==(b=x.organizer_info)?void 0:b.name)||"ACTiV Organizer"}),s.jsx("small",{className:"text-muted",children:"Verified Organizer"})]})]}),s.jsx("hr",{className:"my-3 opacity-10"}),s.jsx("div",{className:"text-center",children:s.jsxs("a",{href:"https://wa.me/".concat((null==(u=x.organizer_info)?void 0:u.phone)||"","?text=").concat(encodeURIComponent('Halo Admin, saya ingin bertanya mengenai event "'.concat(x.title,'"'))),target:"_blank",rel:"noreferrer",className:"th-btn th-radius style8 w-100",children:[s.jsx("i",{className:"fa-brands fa-whatsapp me-2"}),"Contact Organizer"]})})]})}),s.jsx("div",{className:"widget widget_banner",style:{backgroundImage:"url('/assets/img/bg/widget_banner.jpg')"},children:s.jsxs("div",{className:"widget-banner position-relative text-center",children:[s.jsx("span",{className:"icon",children:s.jsx("i",{className:"fa-solid fa-headset"})}),s.jsx("span",{className:"text",children:"Need Help?"}),s.jsx("div",{className:" mb-3 text-white",children:s.jsx("small",{children:"If you have any issues accessing the event or questions about your ticket, please contact our support team."})}),s.jsxs(t,{href:"/contact",className:"th-btn style6 th-radius",children:["Get Support"," ",s.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})})]})]}),s.jsx("style",{children:"\n                .element-with-gradient {\n                    background: linear-gradient(\n                        to top,\n                        rgba(0, 0, 0, 0.8),\n                        transparent\n                    );\n                }\n                .bg-gradient-dark {\n                    background: linear-gradient(\n                        to top,\n                        rgba(0, 0, 0, 0.9) 0%,\n                        rgba(0, 0, 0, 0.4) 60%,\n                        transparent 100%\n                    );\n                }\n            "}),s.jsx(n,{show:!!g,message:null==g?void 0:g.message,type:"error"===(null==g?void 0:g.type)?"danger":null==g?void 0:g.type,onClose:()=>w(null)})]})}export{m as default};
