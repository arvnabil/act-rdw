System.register(["./vendor-legacy-CULEXdb1.js","./Layout-legacy-xQN2spBk.js","./Toast-legacy-BwC7sigk.js","./MainLayout-legacy-BRuqY85P.js","./SimpleBreadcrumb-legacy-B6paEQBg.js"],function(e,s){"use strict";var a,l,r,i,d,n,o,t;return{setters:[e=>{a=e.g,l=e.e,r=e.u,i=e.d,d=e.H,n=e.s},e=>{o=e.default},e=>{t=e.T},null,null],execute:function(){e("default",function({auth:e,status:s}){const{flash:c}=a().props,[m,h]=l.useState(null),{data:u,setData:p,post:f,processing:x,errors:v,reset:b}=r({name:e.user.name,email:e.user.email,phone:e.user.phone||"",password:"",password_confirmation:"",avatar:null,_method:"POST"});l.useEffect(()=>{if(c?.success||"profile-updated"===s){h({message:"Profile updated successfully!",type:"success"});const e=setTimeout(()=>h(null),3e3);return()=>clearTimeout(e)}if(c?.error){h({message:c.error,type:"danger"});const e=setTimeout(()=>h(null),3e3);return()=>clearTimeout(e)}},[c,s]);const[j,N]=l.useState(e.user.avatar||"https://ui-avatars.com/api/?name="+e.user.name+"&background=0D5EF4&color=fff"),w=l.useRef(null);return i.jsxs(o,{pageTitle:"Edit Profile",children:[i.jsx(d,{title:"Edit Profile"}),i.jsx(t,{show:!!m,message:m?.message,type:m?.type,onClose:()=>h(null)}),i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-lg-12",children:i.jsxs("form",{onSubmit:e=>{e.preventDefault(),f(n("events.profile.update"),{onSuccess:()=>{b("password","password_confirmation")}})},children:[i.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[i.jsx("div",{className:"card-header bg-white border-bottom-0 p-4 pb-0",children:i.jsx("h5",{className:"fw-bold mb-0",children:"Profile Information"})}),i.jsxs("div",{className:"card-body p-4",children:[i.jsxs("div",{className:"d-flex align-items-center mb-5",children:[i.jsxs("div",{className:"position-relative me-4",children:[i.jsx("div",{className:"avatar rounded-circle overflow-hidden border-4 border-white shadow-sm",style:{width:"100px",height:"100px"},children:i.jsx("img",{src:j,alt:"Profile",className:"w-100 h-100 object-fit-cover"})}),i.jsx("button",{type:"button",className:"th-btn btn-sm btn-theme rounded-circle position-absolute bottom-0 end-0 shadow-sm",style:{width:"32px",height:"32px",padding:0},onClick:()=>w.current.click(),children:i.jsx("i",{className:"fa-solid fa-camera"})}),i.jsx("input",{type:"file",ref:w,className:"d-none",accept:"image/*",onChange:e=>{const s=e.target.files[0];s&&(p("avatar",s),N(URL.createObjectURL(s)))}})]}),i.jsxs("div",{children:[i.jsx("h6",{className:"fw-bold mb-1",children:"Profile Photo"}),i.jsx("p",{className:"text-muted small mb-0",children:"Update your profile picture. Max size 1MB."}),v.avatar&&i.jsx("div",{className:"text-danger small mt-1",children:v.avatar})]})]}),i.jsxs("div",{className:"row g-4",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Full Name"}),i.jsx("input",{type:"text",className:"form-control "+(v.name?"is-invalid":""),value:u.name,onChange:e=>p("name",e.target.value),placeholder:"Enter your name"}),v.name&&i.jsx("div",{className:"invalid-feedback",children:v.name})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Email Address"}),i.jsx("input",{type:"email",className:"form-control "+(v.email?"is-invalid":""),value:u.email,onChange:e=>p("email",e.target.value),placeholder:"Enter your email"}),v.email&&i.jsx("div",{className:"invalid-feedback",children:v.email})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Phone Number"}),i.jsx("input",{type:"text",className:"form-control "+(v.phone?"is-invalid":""),value:u.phone,onChange:e=>p("phone",e.target.value),placeholder:"Enter your phone number"}),v.phone&&i.jsx("div",{className:"invalid-feedback",children:v.phone})]})]})]})]}),i.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[i.jsx("div",{className:"card-header bg-white border-bottom-0 p-4 pb-0",children:i.jsx("h5",{className:"fw-bold mb-0",children:"Change Password"})}),i.jsx("div",{className:"card-body p-4",children:i.jsxs("div",{className:"row g-4",children:[i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"New Password"}),i.jsx("input",{type:"password",className:"form-control "+(v.password?"is-invalid":""),value:u.password,onChange:e=>p("password",e.target.value),placeholder:"New Password"}),v.password&&i.jsx("div",{className:"invalid-feedback",children:v.password})]}),i.jsxs("div",{className:"col-md-6",children:[i.jsx("label",{className:"form-label fw-medium",children:"Confirm Password"}),i.jsx("input",{type:"password",className:"form-control",value:u.password_confirmation,onChange:e=>p("password_confirmation",e.target.value),placeholder:"Confirm new password"})]})]})})]}),i.jsx("div",{className:"text-end mb-5",children:i.jsx("button",{type:"submit",className:"th-btn th-radius",disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Changes"})})]})})})]})})}}});
