import{h as e,r as s,j as t,H as a,L as i,f as l}from"./react-core-BZS_6Arc.js";import r from"./Layout-DBwgHbB9.js";import{T as c}from"./Toast-DWtzSCpk.js";import"./vendor-DViQF3d3.js";import"./MainLayout-C77euKeQ.js";import"./ui-jquery-B_dqbqb-.js";import"./ui-swiper-Db3Ms2SX.js";import"./animations-CPskncXY.js";import"./whatsapp-Df9uErmj.js";import"./SimpleBreadcrumb-BWYKCaK4.js";function n({auth:n,event:d,registration:o,user_certificate:m}){const{flash:h}=e().props,[x,u]=s.useState(!1),[j,f]=s.useState(null);s.useEffect(()=>{if(null==h?void 0:h.success){f({message:h.success,type:"success"});const e=setTimeout(()=>f(null),3e3);return()=>clearTimeout(e)}if(null==h?void 0:h.error){f({message:h.error,type:"danger"});const e=setTimeout(()=>f(null),3e3);return()=>clearTimeout(e)}},[h]);return t.jsxs(r,{children:[t.jsx(a,{title:"Room: ".concat(d.title)}),t.jsx(c,{show:!!j,message:null==j?void 0:j.message,type:null==j?void 0:j.type,onClose:()=>f(null)}),t.jsx("div",{className:"d-flex align-items-center justify-content-between mb-4",children:t.jsxs("div",{children:[t.jsxs(i,{href:route("events.my-events"),className:"text-muted text-decoration-none mb-2 d-inline-block small",children:[t.jsx("i",{className:"fa-solid fa-arrow-left me-1"})," Back to My Events"]}),t.jsx("h2",{className:"fw-bold fs-3 mb-1",children:d.title}),t.jsxs("span",{className:"badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2",children:[t.jsx("i",{className:"fa-solid fa-check-circle me-1"})," Access Granted"]})]})}),t.jsxs("div",{className:"row g-4",children:[t.jsx("div",{className:"col-lg-8",children:t.jsxs("div",{className:"card border-0 shadow-sm rounded-20 mb-4 overflow-hidden",children:[t.jsx("div",{className:"card-header bg-theme text-white border-0 p-4",children:t.jsxs("h5",{className:"fw-bold mb-0 text-white",children:[t.jsx("i",{className:"fa-solid fa-video me-2"})," Live Session"]})}),t.jsx("div",{className:"card-body p-5 text-center",children:d.meeting_link?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:t.jsx("i",{className:"fa-solid fa-video fs-1 text-theme"})}),t.jsx("h4",{className:"fw-bold",children:"The Event is Live!"}),t.jsx("p",{className:"text-muted",children:"Click the button below to join the meeting room."})]}),t.jsxs("a",{href:d.meeting_link,target:"_blank",rel:"noreferrer",className:"btn th-btn th-radius px-5",children:[t.jsx("i",{className:"fa-solid fa-external-link-alt me-2"})," ","Join Meeting Now"]}),t.jsx("p",{className:"mt-3 small text-muted",children:"Please ensure you have Zoom/Meet installed."})]}):t.jsxs("div",{className:"py-4",children:[t.jsx("div",{className:"d-inline-flex align-items-center justify-content-center bg-light rounded-circle mb-3",style:{width:"100px",height:"100px"},children:t.jsx("i",{className:"fa-solid fa-hourglass-start fs-1 text-muted opacity-50"})}),t.jsx("h5",{className:"fw-bold text-muted",children:"Meeting Link Not Available Yet"}),t.jsx("p",{className:"text-muted mb-0",children:"The link will be available here once the event starts or is configured by the organizer."})]})})]})}),t.jsxs("div",{className:"col-lg-4",children:[t.jsx("div",{className:"card border-0 shadow-sm rounded-20 mb-4",children:t.jsxs("div",{className:"card-body p-4",children:[t.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[t.jsx("div",{className:"icon-box bg-warning bg-opacity-10 text-warning rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:t.jsx("i",{className:"fa-solid fa-award text-white"})}),t.jsx("h6",{className:"fw-bold mb-0",children:"Certificate"})]}),m?t.jsxs("div",{children:[t.jsx("p",{className:"text-muted small mb-3",children:"Your certificate is ready for download."}),t.jsxs("a",{href:"/storage/".concat(m.file_path),target:"_blank",className:"th-btn style4 w-100 rounded-pill fw-bold dashed-border text-center text-decoration-none",children:[t.jsx("i",{className:"fa-solid fa-download me-2"})," ","Open Certificate"]})]}):d.is_certificate_available&&d.has_certificate_template?t.jsxs("div",{children:[t.jsx("p",{className:"text-muted small mb-3",children:"You are eligible to claim your certificate."}),t.jsx("button",{onClick:()=>{u(!0),l.post(route("events.certificates.claim",d.id),{},{preserveScroll:!0,onFinish:()=>u(!1),onSuccess:()=>{f({message:"Certificate claimed successfully!",type:"success"})},onError:e=>{const s=Object.values(e)[0]||"Failed to claim certificate.";f({message:s,type:"danger"})}})},disabled:x,className:"th-btn w-100 rounded-pill fw-bold",children:x?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Claiming..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fa-solid fa-award me-2"})," ","Claim Certificate"]})})]}):t.jsx("div",{children:t.jsx("p",{className:"text-muted small mb-0",children:"Certificate is not yet available for this event."})})]})}),t.jsx("div",{className:"widget widget_banner",style:{backgroundImage:"url('/assets/img/bg/widget_banner.jpg')"},children:t.jsxs("div",{className:"widget-banner position-relative text-center",children:[t.jsx("span",{className:"icon",children:t.jsx("i",{className:"fa-solid fa-headset"})}),t.jsx("span",{className:"text",children:"Need Help?"}),t.jsx("div",{className:" mb-3 text-white",children:t.jsx("small",{children:"If you have any issues accessing the event or questions about your ticket, please contact our support team."})}),t.jsxs(i,{href:"/contact",className:"th-btn style6 th-radius",children:["Get Support"," ",t.jsx("i",{className:"fa-solid fa-arrow-right-long"})]})]})})]})]})]})}export{n as default};
