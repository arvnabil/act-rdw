System.register(["./vendor-legacy-eYkSftPT.js","./Layout-legacy-d7hG4l5b.js","./EmptyState-legacy-EnZ3VCta.js","./Toast-legacy-C8BMLmv1.js","./MainLayout-legacy-DHzhyUa-.js","./SimpleBreadcrumb-legacy-BSBQwgHi.js"],function(e,s){"use strict";var t,a,l,i,n,d,c,r;return{setters:[e=>{t=e.d,a=e.j,l=e.H,i=e.e,n=e.s},e=>{d=e.default},e=>{c=e.E},e=>{r=e.T},null,null],execute:function(){e("default",function({auth:e,certificates:s}){const[o,m]=t.useState(null),[x,u]=t.useState(null);return a.jsxs(d,{pageTitle:"My Certificates",children:[a.jsx(l,{title:"My Certificates"}),a.jsx(r,{show:!!o,message:o?.message,type:o?.type,onClose:()=>m(null)}),a.jsx("div",{className:"d-flex flex-column gap-3",children:s.length>0?s.map(e=>a.jsxs("div",{className:"card border shadow-sm rounded-20 overflow-hidden hover-lift transition-all position-relative",children:[a.jsx("div",{className:"position-absolute top-0 end-0 m-3 z-1",children:"Claimed"===e.status?a.jsxs("div",{className:"d-flex align-items-center text-success fw-bold small bg-white px-3 py-1 rounded-pill shadow-sm border border-success-subtle",children:[a.jsx("i",{className:"fa-solid fa-circle-check me-2"}),"VERIFIED & CLAIMED"]}):a.jsxs("div",{className:"d-flex align-items-center text-warning fw-bold small bg-white px-3 py-1 rounded-pill shadow-sm border border-warning-subtle",children:[a.jsx("i",{className:"fa-solid fa-circle-exclamation me-2"}),"ACTION REQUIRED"]})}),a.jsx("div",{className:"card-body p-0",children:a.jsxs("div",{className:"d-lg-flex align-items-center p-3",children:[a.jsx("div",{className:"pe-lg-3 mb-3 mb-lg-0",children:a.jsx("div",{className:"rounded-4 overflow-hidden position-relative bg-light",style:{width:"120px"},children:a.jsx("img",{src:e.event_thumbnail,alt:e.event_title,className:"w-100 h-100 object-fit-cover",style:{aspectRatio:"4/3"},onError:e=>{e.target.style.display="none",e.target.parentElement.classList.add("d-flex","align-items-center","justify-content-center"),e.target.parentElement.innerHTML='<i class="fa-solid fa-award text-muted fs-3"></i>'}})})}),a.jsx("div",{className:"grow pe-lg-4 mb-3 mb-lg-0",children:a.jsxs("div",{className:"d-flex flex-column justify-content-center h-100",children:[a.jsxs("div",{className:"mb-1 text-muted small",children:[a.jsx("i",{className:"fa-regular fa-calendar me-2"}),e.event_date]}),a.jsx("h6",{className:"fw-bold text-dark mb-1 text-truncate-2",style:{lineHeight:"1.4",maxWidth:"90%"},children:e.event_title}),a.jsx("p",{className:"text-muted small mb-0 mt-1",children:"Claimed"===e.status?`Issued: ${e.issue_date}`:"Certificate ready to claim"})]})}),a.jsx("div",{className:"ps-lg-3 border-start-lg",style:{minWidth:"220px"},children:a.jsxs("div",{className:"d-flex flex-column gap-2 justify-content-end h-100 align-items-lg-end text-lg-end pt-5 pb-2",children:[a.jsx("div",{className:"w-100",children:"Claimed"===e.status?a.jsxs("a",{href:e.file_path,target:"_blank",download:!0,className:"th-btn w-100 rounded-pill fw-bold border-2 d-flex align-items-center justify-content-center",style:{padding:"8px 20px"},children:[a.jsx("i",{className:"fa-solid fa-download me-2"}),"Download PDF"]}):a.jsx("button",{onClick:()=>{return s=e.event_id,u(s),void i.post(n("events.certificates.claim",s),{},{preserveScroll:!0,onFinish:()=>u(null),onSuccess:()=>{m({message:"Certificate Claimed successfully!",type:"success"})},onError:e=>{const s=Object.values(e)[0]||"Failed to claim certificate.";m({message:s,type:"danger"})}});var s},disabled:x===e.event_id,className:"th-btn w-100 rounded-pill shadow-sm d-flex align-items-center justify-content-center",style:{padding:"10px 20px"},children:x===e.event_id?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-award ms-2"}),"Claim Certificate"]})})}),"Claimed"!==e.status&&a.jsx("div",{className:"text-lg-end w-100",children:a.jsx("span",{className:"text-muted small fst-italic",style:{fontSize:"11px"},children:"Available for download after claiming"})})]})})]})})]},e.id)):a.jsx("div",{className:"col-12",children:a.jsx("div",{className:"card border-0 shadow-sm rounded-20 p-5 text-center",children:a.jsx(c,{message:"You haven't earned any certificates yet.",icon:"fa-award",link:"/events",linkText:"Browse Events"})})})})]})})}}});
