import{r as o,j as e,H as _,b as k}from"./app-8jlO-GOR.js";import{M as I}from"./MainLayout-B_NMIF89.js";import{B as R}from"./Breadcrumb-Dkne6Ect.js";import{C as A}from"./ConfiguratorSubmitModal-CeEFEURF.js";import{W as B,S as m,a as M}from"./WizardNavigation-Drm04MvA.js";/* empty css            */import"./effect-fade-Cql-zif5.js";import"./Toast-BZmhIwvk.js";import"./Modal-Dkb-ORBQ.js";function Z(){const[i,u]=o.useState(1),[a,h]=o.useState({premise:null,areaSize:null,cameraType:[],features:[],brand:null,retention:null,quantities:{}}),[x,v]=o.useState({name:"",phone:"",email:"",company:""}),[N,j]=o.useState(!1),[S,C]=o.useState(""),g=o.useRef(!1),c="#4AC15E",l={premises:[{id:"office",name:"Corporate Office",desc:"Indoor, Access Control",icon:"/assets/img/icon/service-2-1.svg"},{id:"retail",name:"Retail / Commercial",desc:"Loss Prevention, People Counting",icon:"/assets/img/icon/service-2-2.svg"},{id:"industrial",name:"Industrial / Warehouse",desc:"Large Area, Perimeter",icon:"/assets/img/icon/service-2-3.svg"},{id:"public",name:"Public Space",desc:"Outdoor, Traffic, Crowd",icon:"/assets/img/icon/service-2-4.svg"}],areaSizes:[{id:"small",name:"Small (< 200m²)",desc:"1-4 Cameras",icon:"/assets/img/icon/feature_2_1.svg"},{id:"medium",name:"Medium (200-1000m²)",desc:"5-16 Cameras",icon:"/assets/img/icon/feature_2_2.svg"},{id:"large",name:"Large (> 1000m²)",desc:"16-64 Cameras",icon:"/assets/img/service/service_3_3.jpg"},{id:"multisite",name:"Multi-Site",desc:"Centralized Management",icon:"/assets/img/icon/feature_2_4.svg"}],cameraTypes:[{id:"dome",name:"Dome Camera",desc:"Discreet Indoor Monitoring",icon:"/assets/img/icon/feature_1_1.svg"},{id:"bullet",name:"Bullet Camera",desc:"Visible Deterrent Outdoor",icon:"/assets/img/icon/feature_1_2.svg"},{id:"ptz",name:"PTZ Camera",desc:"Active Tracking & Zoom",icon:"/assets/img/icon/feature_1_3.svg"},{id:"panoramic",name:"Panoramic (Fisheye)",desc:"360° Wide Coverage",icon:"/assets/img/icon/feature_1_4.svg"}],smartFeatures:[{id:"motion",name:"Motion Detection",desc:"Basic Recording Trigger"},{id:"face",name:"Face Recognition",desc:"Access Control Integration"},{id:"lpr",name:"License Plate Recog.",desc:"Parking & Traffic"},{id:"perimeter",name:"Perimeter Defense",desc:"Intrusion Alerts"},{id:"thermal",name:"Thermal Imaging",desc:"Heat Detection / Night Vision"}],brands:[{id:"hikvision",name:"Hikvision",logo:"/assets/img/partners/hikvision.png"},{id:"dahua",name:"Dahua",logo:"/assets/img/partners/dahua.png"},{id:"axis",name:"Axis Communications",logo:"/assets/img/partners/axis.png"},{id:"hanwha",name:"Hanwha Vision",logo:"/assets/img/partners/hanwha.png"}],retentionPeriods:[{id:"7days",name:"7 Days",desc:"Basic Compliance"},{id:"14days",name:"14 Days",desc:"Standard Commercial"},{id:"30days",name:"30 Days",desc:"Banking / High Security"},{id:"90days",name:"90 Days+",desc:"Long Term Archiving"}]},y=[{id:1,label:"Environment"},{id:2,label:"Area Size"},{id:3,label:"Camera Types"},{id:4,label:"Features"},{id:5,label:"Retention"},{id:6,label:"Brand"},{id:7,label:"Summary"}];o.useEffect(()=>{C(crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2)+Date.now().toString(36));const s=new URLSearchParams(window.location.search),n=s.get("premise"),t=s.get("brand");if(n){const r=l.premises.find(d=>d.id===n);r&&h(d=>({...d,premise:r}))}if(t){g.current=!0;const r=l.brands.find(d=>d.id===t);r&&h(d=>({...d,brand:r}))}n&&t&&u(2)},[]);const p=(s,n)=>{h(t=>({...t,[s]:n}))},b=(s,n)=>{h(t=>{const r=t[s]||[],D=r.some(f=>f.id===n.id)?r.filter(f=>f.id!==n.id):[...r,n];return{...t,[s]:D}})},w=s=>{const{name:n,value:t}=s.target;v(r=>({...r,[n]:t}))},P=()=>{if(i===1&&!a.premise)return alert("Please select an Environment.");if(i===2&&!a.areaSize)return alert("Please select an Area Size.");if(i===3&&a.cameraType.length===0)return alert("Please select at least one Camera Type.");if(i===5){if(!a.retention)return alert("Please select a Retention Period.");if(g.current){u(7);return}}if(i===6&&!a.brand)return alert("Please select a Brand.");u(s=>s+1)},T=()=>{if(i===7&&g.current){u(5);return}u(s=>s-1)},z=s=>{if(s.preventDefault(),!x.name||!x.phone){alert("Please fill in required fields.");return}k.post("/surveillance-configurator/complete",{selection:a,userInfo:x,uuid:S})};return e.jsxs(I,{children:[e.jsx(_,{title:"Surveillance System Configurator"}),e.jsx(R,{title:"Surveillance Configurator",items:[{label:"Home",link:"/"},{label:"Services",link:"/services"},{label:"Surveillance Configurator"}]}),e.jsx("section",{className:"space-top space-bottom bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row justify-content-center mb-5",children:e.jsxs("div",{className:"col-lg-8 text-center",children:[e.jsx("span",{className:"sub-title text-success",children:"Secure Your Premise"}),e.jsx("h2",{className:"sec-title",children:"Smart Surveillance Configurator"}),e.jsx("p",{className:"text-muted",children:"Design a comprehensive security solution tailored to your environment."})]})}),e.jsxs("div",{className:"wizard-container bg-white rounded-20 shadow-sm p-4 p-lg-5",children:[e.jsx(B,{steps:y,currentStep:i,themeColor:c}),e.jsxs("div",{className:"step-content animate-fade",children:[i===1&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Select Environment"}),e.jsx("div",{className:"row g-4 justify-content-center",children:l.premises.map(s=>e.jsx("div",{className:"col-md-6 col-lg-3",children:e.jsx(m,{selected:a.premise?.id===s.id,onClick:()=>p("premise",s),icon:s.icon,title:s.name,subtitle:s.desc,themeColor:c})},s.id))})]}),i===2&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Estimated Area Size"}),e.jsx("div",{className:"row g-4 justify-content-center",children:l.areaSizes.map(s=>e.jsx("div",{className:"col-md-4",children:e.jsx(m,{selected:a.areaSize?.id===s.id,onClick:()=>p("areaSize",s),icon:s.icon,title:s.name,subtitle:s.desc,themeColor:c})},s.id))})]}),i===3&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Preferred Camera Types"}),e.jsx("p",{className:"text-center text-muted mb-4",children:"Select all that apply."}),e.jsx("div",{className:"row g-4 justify-content-center",children:l.cameraTypes.map(s=>{const n=a.cameraType.some(t=>t.id===s.id);return e.jsx("div",{className:"col-md-4",children:e.jsx(m,{selected:n,onClick:()=>b("cameraType",s),icon:s.icon,title:s.name,subtitle:s.desc,themeColor:c})},s.id)})})]}),i===4&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Required Intelligent Features"}),e.jsx("div",{className:"row g-3 justify-content-center",children:l.smartFeatures.map(s=>{const n=a.features.some(t=>t.id===s.id);return e.jsx("div",{className:"col-md-6",children:e.jsxs(m,{selected:n,onClick:()=>b("features",s),themeColor:c,className:"d-flex align-items-center text-start p-3",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{className:"fa-solid fa-microchip text-muted"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"small fw-bold mb-0",children:s.name}),e.jsx("small",{className:"text-muted",children:s.desc})]})]})},s.id)})})]}),i===5&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Recording Retention Period"}),e.jsx("div",{className:"row g-4 justify-content-center",children:l.retentionPeriods.map(s=>e.jsx("div",{className:"col-md-3 col-6",children:e.jsx(m,{selected:a.retention?.id===s.id,onClick:()=>p("retention",s),title:s.name,subtitle:s.desc,themeColor:c,children:e.jsx("h5",{className:"h4 fw-bold mb-1",children:e.jsx("i",{className:"fa-regular fa-clock me-2 text-muted"})})})},s.id))})]}),i===6&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Preferred Brand"}),e.jsx("div",{className:"row g-4 justify-content-center",children:l.brands.map(s=>e.jsx("div",{className:"col-6 col-md-3",children:e.jsx(m,{selected:a.brand?.id===s.id,onClick:()=>p("brand",s),themeColor:c,children:e.jsx("div",{className:"p-2 mb-2 d-flex align-items-center justify-content-center",style:{height:"60px"},children:s.logo?e.jsx("img",{src:s.logo,alt:s.name,style:{maxHeight:"100%",maxWidth:"100%"}}):e.jsx("h5",{className:"mb-0",children:s.name})})})},s.id))})]}),i===7&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-center",children:"Review Configuration"}),e.jsxs("div",{className:"bg-light p-4 rounded mb-4",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Environment"}),e.jsx("p",{className:"fw-bold",children:a.premise?.name||"-"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Area Size"}),e.jsx("p",{className:"fw-bold",children:a.areaSize?.name||"-"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Retention"}),e.jsx("p",{className:"fw-bold",children:a.retention?.name||"-"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("small",{className:"text-muted text-uppercase fw-bold",children:"Brand"}),e.jsx("p",{className:"fw-bold",children:a.brand?.name||"-"})]})]}),e.jsxs("div",{className:"border-top pt-3 mt-2",children:[e.jsx("h6",{className:"small fw-bold",children:"Camera Types:"}),e.jsx("ul",{className:"mb-3 small text-muted",children:a.cameraType.map(s=>e.jsx("li",{children:s.name},s.id))}),e.jsx("h6",{className:"small fw-bold",children:"Features:"}),e.jsx("ul",{className:"mb-0 small text-muted",children:a.features.length?a.features.map(s=>e.jsx("li",{children:s.name},s.id)):e.jsx("li",{children:"None"})})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{className:"th-btn th-radius shadow-none style8",onClick:()=>j(!0),children:["Finalization Now"," ",e.jsx("i",{className:"fa-solid fa-check ms-2"})]})})]})]}),e.jsx(M,{onNext:P,onPrev:T,isFirstStep:i===1,isLastStep:i===7,themeColor:c})]})]})}),e.jsx(A,{show:N,onClose:()=>j(!1),userInfo:x,onChange:w,onSubmit:z})]})}export{Z as default};
